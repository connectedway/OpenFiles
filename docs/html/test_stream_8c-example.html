<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open Files: test_stream.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="connected.ico" type="image/x-icon" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="connected.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Open Files<span id="projectnumber">&#160;5.0.1</span>
   </div>
   <div id="projectbrief">Multi-Platform Event-Driven Application Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('test_stream_8c-example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">test_stream.c</div></div>
</div><!--header-->
<div class="contents">
<p >This is an example of using socket streams and timers in an async application</p>
<div class="fragment"><div class="line"><span class="comment">/* Copyright (c) 2021 Connected Way, LLC. All rights reserved.</span></div>
<div class="line"><span class="comment"> * Use of this source code is governed by a Creative Commons </span></div>
<div class="line"><span class="comment"> * Attribution-NoDerivatives 4.0 International license that can be</span></div>
<div class="line"><span class="comment"> * found in the LICENSE file.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="preprocessor">#include &quot;unity.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;unity_fixture.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;ofc/config.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="types_8h.html">ofc/types.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="handle_8h.html">ofc/handle.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="timer_8h.html">ofc/timer.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="event_8h.html">ofc/event.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="libc_8h.html">ofc/libc.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="message_8h.html">ofc/message.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="net_8h.html">ofc/net.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;ofc/net_internal.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="socket_8h.html">ofc/socket.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="sched_8h.html">ofc/sched.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="app_8h.html">ofc/app.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="heap_8h.html">ofc/heap.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="queue_8h.html">ofc/queue.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="core_8h.html">ofc/core.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="framework_8h.html">ofc/framework.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="env_8h.html">ofc/env.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="persist_8h.html">ofc/persist.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> hScheduler;</div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> hDone;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a></div>
<div class="line">test_startup_persist(<a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a>) {</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a> ret = 1;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> path[<a id="a0" name="a0"></a><a class="code hl_define" href="group__file.html#ga09b5d39d7aef15fea5c9d5204005ccc5">OFC_MAX_PATH</a>];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a id="a1" name="a1"></a><a class="code hl_function" href="group__env.html#ga8e497cb8df92ceb5b824c262406cec34">ofc_env_get</a>(<a id="a2" name="a2"></a><a class="code hl_enumvalue" href="group__env.html#gga49e3bd4d9c8346c878a0064bd4822b4fa240ba5bfc2ee11d629fd65a16017ed78">OFC_ENV_HOME</a>, path, <a class="code hl_define" href="group__file.html#ga09b5d39d7aef15fea5c9d5204005ccc5">OFC_MAX_PATH</a>) == <a id="a3" name="a3"></a><a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">        <a id="a4" name="a4"></a><a class="code hl_function" href="group__framework.html#ga2baec341257bdeaa4f7d6010b9104a3e">ofc_framework_load</a>(path);</div>
<div class="line">        ret = 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> (ret);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a> test_startup_default(<a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a>) {</div>
<div class="line">    <span class="keyword">static</span> <a id="a5" name="a5"></a><a class="code hl_typedef" href="group__types.html#ga193c14ba7198a0d9f27e988fe40596af">OFC_UUID</a> uuid =</div>
<div class="line">            {</div>
<div class="line">                    0x04, 0x5d, 0x88, 0x8a, 0xeb, 0x1c, 0xc9, 0x11,</div>
<div class="line">                    0x9f, 0xe8, 0x08, 0x00, 0x2b, 0x10, 0x48, 0x60</div>
<div class="line">            };</div>
<div class="line"> </div>
<div class="line">    <a id="a6" name="a6"></a><a class="code hl_function" href="group___general_config.html#gaa07982a465349f46230c27657868849a">ofc_persist_default</a>();</div>
<div class="line">    <a id="a7" name="a7"></a><a class="code hl_function" href="group___general_config.html#ga1f6059c2ee19e01daad61e7f1c386687">ofc_persist_set_interface_type</a>(<a id="a8" name="a8"></a><a class="code hl_enumvalue" href="group__persist.html#ggaa0b9afc0d33831fdc5e88f6b1d72fd66ae20ba67b459f4fc1c7cc025d41b741a1">OFC_CONFIG_ICONFIG_AUTO</a>);</div>
<div class="line">    <a id="a9" name="a9"></a><a class="code hl_function" href="group___general_config.html#gaa548ca9395f8cbce7fb7c781a83c2975">ofc_persist_set_node_name</a>(<a id="a10" name="a10"></a><a class="code hl_define" href="group__types.html#gadbd0734a648c3f38a151c332c750fc76">TSTR</a>(<span class="stringliteral">&quot;localhost&quot;</span>), <a class="code hl_define" href="group__types.html#gadbd0734a648c3f38a151c332c750fc76">TSTR</a>(<span class="stringliteral">&quot;WORKGROUP&quot;</span>),</div>
<div class="line">                              <a class="code hl_define" href="group__types.html#gadbd0734a648c3f38a151c332c750fc76">TSTR</a>(<span class="stringliteral">&quot;OpenFiles Unit Test&quot;</span>));</div>
<div class="line">    <a id="a11" name="a11"></a><a class="code hl_function" href="group___general_config.html#ga7787a950f9a1748a1e438dd390a35c11">ofc_persist_set_uuid</a>(&amp;uuid);</div>
<div class="line">    <span class="keywordflow">return</span> (0);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a> test_startup(<a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a>) {</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a> ret;</div>
<div class="line">    <a id="a12" name="a12"></a><a class="code hl_function" href="group__framework.html#gac64936905de56b3172e2673ca45ea064">ofc_framework_init</a>();</div>
<div class="line"><span class="preprocessor">#if defined(OFC_PERSIST)</span></div>
<div class="line">    ret = test_startup_persist();</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">    ret = test_startup_default();</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">    hScheduler = <a id="a13" name="a13"></a><a class="code hl_function" href="group__sched.html#ga5635ae27f28a16860e261ef11a2817e9">ofc_sched_create</a>();</div>
<div class="line">    hDone = <a id="a14" name="a14"></a><a class="code hl_function" href="group__event.html#gacaba0c262bff4c385f5c090af15b4b70">ofc_event_create</a>(<a id="a15" name="a15"></a><a class="code hl_enumvalue" href="group__event.html#gga0239eb43aac1335ccd0f36ee7753640aa83d4daa6e33f6de56c6c4dd5ff202e7d">OFC_EVENT_AUTO</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> (ret);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a> test_shutdown(<a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a>) {</div>
<div class="line">    <a id="a16" name="a16"></a><a class="code hl_function" href="group__event.html#ga0a92f5a8350c549f2e6f40003ca7ac42">ofc_event_destroy</a>(hDone);</div>
<div class="line">    <a id="a17" name="a17"></a><a class="code hl_function" href="group__sched.html#ga4df4eb0f0488611c3ec5ba90f42e533a">ofc_sched_quit</a>(hScheduler);</div>
<div class="line">    <a id="a18" name="a18"></a><a class="code hl_function" href="group__framework.html#ga4716b3a5452f995ff079e843e546ae5b">ofc_framework_shutdown</a>();</div>
<div class="line">    <a id="a19" name="a19"></a><a class="code hl_function" href="group__framework.html#ga3e0d4a507e024f156f1ba3820532c95f">ofc_framework_destroy</a>();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line">    STREAM_TEST_STATE_IDLE,</div>
<div class="line">    STREAM_TEST_STATE_RUNNING,</div>
<div class="line">} STREAM_TEST_STATE;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define STREAM_TEST_INTERVAL 2000</span></div>
<div class="line"><span class="preprocessor">#define STREAM_TEST_COUNT 5</span></div>
<div class="line"><span class="preprocessor">#define STREAM_TEST_PORT 7542</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    <a id="_a20" name="_a20"></a><a class="code hl_struct" href="struct_o_f_c___i_p_a_d_d_r.html">OFC_IPADDR</a> ip;</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> hListen;</div>
<div class="line">} OFC_STREAM_INTERFACE;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    STREAM_TEST_STATE state;</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> hTimer;</div>
<div class="line"><span class="preprocessor">#if defined(OFC_MULTI_TCP)</span></div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> hConfigUpdate ;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> scheduler;</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> interfaceList;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a> count;</div>
<div class="line">    <a class="code hl_enumeration" href="group__net.html#ga2a5805726c2bbe30517485c88a6130b8">OFC_FAMILY_TYPE</a> family;</div>
<div class="line">} OFC_STREAM_TEST;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a> StreamTestPreSelect(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> StreamTestPostSelect(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app,</div>
<div class="line">                                       <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> hSocket);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a> StreamTestDestroy(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a id="_a21" name="_a21"></a><a class="code hl_struct" href="struct___o_f_c___a_p_p___t_e_m_p_l_a_t_e.html">OFC_APP_TEMPLATE</a> StreamTestAppDef =</div>
<div class="line">        {</div>
<div class="line">                <span class="stringliteral">&quot;Stream Test Application&quot;</span>,</div>
<div class="line">                &amp;StreamTestPreSelect,</div>
<div class="line">                &amp;StreamTestPostSelect,</div>
<div class="line">                &amp;StreamTestDestroy,</div>
<div class="line"><span class="preprocessor">#if defined(OFC_APP_DEBUG)</span></div>
<div class="line">                <a id="a22" name="a22"></a><a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line">    SERVER_TEST_STATE_IDLE,</div>
<div class="line">    SERVER_TEST_STATE_HEADER,</div>
<div class="line">    SERVER_TEST_STATE_BODY</div>
<div class="line">} SERVER_TEST_STATE;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    SERVER_TEST_STATE state;</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> masterSocket;</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> hSocket;</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> scheduler;</div>
<div class="line">    <a id="_a23" name="_a23"></a><a class="code hl_struct" href="struct___o_f_c___m_e_s_s_a_g_e.html">OFC_MESSAGE</a> *recv_msg;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga2912ed518e9a6b6e8d4b7dddd63ed32a">OFC_UINT32</a> header;</div>
<div class="line">} OFC_SERVER_TEST;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a> ServerTestPreSelect(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> ServerTestPostSelect(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app, <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> hSocket);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a> ServerTestDestroy(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_struct" href="struct___o_f_c___a_p_p___t_e_m_p_l_a_t_e.html">OFC_APP_TEMPLATE</a> ServerTestAppDef =</div>
<div class="line">        {</div>
<div class="line">                <span class="stringliteral">&quot;Stream Server Test Application&quot;</span>,</div>
<div class="line">                &amp;ServerTestPreSelect,</div>
<div class="line">                &amp;ServerTestPostSelect,</div>
<div class="line">                &amp;ServerTestDestroy,</div>
<div class="line"><span class="preprocessor">#if defined(OFC_APP_DEBUG)</span></div>
<div class="line">                <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line">    CLIENT_TEST_STATE_IDLE,</div>
<div class="line">    CLIENT_TEST_STATE_CONNECTING,</div>
<div class="line">    CLIENT_TEST_STATE_CONNECTED</div>
<div class="line">} CLIENT_TEST_STATE;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    CLIENT_TEST_STATE state;</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> hSocket;</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> scheduler;</div>
<div class="line">    <a class="code hl_struct" href="struct___o_f_c___m_e_s_s_a_g_e.html">OFC_MESSAGE</a> *write_msg;</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app;</div>
<div class="line">    <a class="code hl_struct" href="struct_o_f_c___i_p_a_d_d_r.html">OFC_IPADDR</a> ip;</div>
<div class="line">} OFC_CLIENT_TEST;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a> ClientTestPreSelect(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> ClientTestPostSelect(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app,</div>
<div class="line">                                       <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> hSocket);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a> ClientTestDestroy(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_struct" href="struct___o_f_c___a_p_p___t_e_m_p_l_a_t_e.html">OFC_APP_TEMPLATE</a> ClientTestAppDef =</div>
<div class="line">        {</div>
<div class="line">                <span class="stringliteral">&quot;Stream Client Test Application&quot;</span>,</div>
<div class="line">                &amp;ClientTestPreSelect,</div>
<div class="line">                &amp;ClientTestPostSelect,</div>
<div class="line">                &amp;ClientTestDestroy,</div>
<div class="line"><span class="preprocessor">#if defined(OFC_APP_DEBUG)</span></div>
<div class="line">                <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define OFFSET_CLIENT_MSG_SIZE 0</span></div>
<div class="line"><span class="preprocessor">#define OFFSET_CLIENT_MSG_DATA 4</span></div>
<div class="line"><span class="preprocessor">#define CLIENT_MSG_HEADER_LEN 4</span></div>
<div class="line"><span class="preprocessor">#define CLIENT_MSG_DATA &quot;This is my test message&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> OFC_STREAM_INTERFACE *StartupInterface(<a class="code hl_enumeration" href="group__net.html#ga2a5805726c2bbe30517485c88a6130b8">OFC_FAMILY_TYPE</a> family,</div>
<div class="line">                                              <a class="code hl_struct" href="struct_o_f_c___i_p_a_d_d_r.html">OFC_IPADDR</a> *ip) {</div>
<div class="line">    OFC_STREAM_INTERFACE *interface;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> ip_addr[<a id="a24" name="a24"></a><a class="code hl_define" href="group__net.html#ga6257918744debf3068211499e332c4ed">IP6STR_LEN</a>];</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Allocate a context for this interface</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <span class="keyword">interface </span>= <a id="a25" name="a25"></a><a class="code hl_function" href="heap_8h.html#ad8c64ed33575e33e794ed8513bf6c2bd">ofc_malloc</a>(sizeof(OFC_STREAM_INTERFACE));</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Initialize the IP address of the interface</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <a id="a26" name="a26"></a><a class="code hl_function" href="group__libc.html#gac03ee3b9338f495fea34d5773a5f6bdf">ofc_memcpy</a>(&amp;interface-&gt;ip, ip, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct_o_f_c___i_p_a_d_d_r.html">OFC_IPADDR</a>));</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Create a Listen Socket for this interface</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    interface-&gt;hListen = <a id="a27" name="a27"></a><a class="code hl_function" href="group__socket.html#gacb921df0ad9c97497e56c5bfbe623e9e">ofc_socket_listen</a>(ip, STREAM_TEST_PORT);</div>
<div class="line">    <span class="keywordflow">if</span> (interface-&gt;hListen == <a id="a28" name="a28"></a><a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>) {</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * If we had trouble issueing a listen, free up the interface and</span></div>
<div class="line"><span class="comment">         * return an error indication (OFC_NULL)</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        <a id="a29" name="a29"></a><a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(interface);</div>
<div class="line">        <span class="keyword">interface </span>= <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * We have a listening socket, let&#39;s notify the user that the</span></div>
<div class="line"><span class="comment">         * interface is started</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        <a id="a30" name="a30"></a><a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Started Interface for %s on %s\n&quot;</span>,</div>
<div class="line">                   (family == <a id="a31" name="a31"></a><a class="code hl_enumvalue" href="group__net.html#gga2a5805726c2bbe30517485c88a6130b8a2bad4126fa1b2f1a0fb8b2c0216283f9">OFC_FAMILY_IP</a>) ? <span class="stringliteral">&quot;IPV4&quot;</span> : <span class="stringliteral">&quot;IPV6&quot;</span>,</div>
<div class="line">                   <a id="a32" name="a32"></a><a class="code hl_function" href="group__net.html#ga6fa2c869606ea672de711389c66e7981">ofc_ntop</a>(&amp;interface-&gt;ip, ip_addr, <a class="code hl_define" href="group__net.html#ga6257918744debf3068211499e332c4ed">IP6STR_LEN</a>));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> (interface);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a> ShutdownInterface(OFC_STREAM_INTERFACE *interface) {</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Destroy the listening socket</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <a id="a33" name="a33"></a><a class="code hl_function" href="group__socket.html#ga9c6dd533d9306665e7938fae746f5bff">ofc_socket_destroy</a>(interface-&gt;hListen);</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * And free the interface context</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(interface);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a> StreamTestInitialize(OFC_STREAM_TEST *streamTest) {</div>
<div class="line"><span class="preprocessor">#if !defined(OFC_MULTI_TCP)</span></div>
<div class="line">    <a class="code hl_struct" href="struct_o_f_c___i_p_a_d_d_r.html">OFC_IPADDR</a> ip;</div>
<div class="line">    OFC_STREAM_INTERFACE *interface;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Create a queue for our interface list</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    streamTest-&gt;interfaceList = <a id="a34" name="a34"></a><a class="code hl_function" href="group__queue.html#ga03a10bbff62f385fd37411786404a773">ofc_queue_create</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * If we are multi-homed and listen on multiple interfaces, we want to hold</span></div>
<div class="line"><span class="comment">     * off configuring those interfaces until we get configuration updates.</span></div>
<div class="line"><span class="comment">     * If we are going to listen on the IP_ANY address, we can do that now.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line"><span class="preprocessor">#if !defined(OFC_MULTI_TCP)</span></div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Get it&#39;s IP address</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <span class="keywordflow">if</span> (streamTest-&gt;family == <a class="code hl_enumvalue" href="group__net.html#gga2a5805726c2bbe30517485c88a6130b8a2bad4126fa1b2f1a0fb8b2c0216283f9">OFC_FAMILY_IP</a>) {</div>
<div class="line">        ip.<a id="a35" name="a35"></a><a class="code hl_variable" href="struct_o_f_c___i_p_a_d_d_r.html#a4ba6b48226f0b6b074a86837d0d17e10">ip_version</a> = <a class="code hl_enumvalue" href="group__net.html#gga2a5805726c2bbe30517485c88a6130b8a2bad4126fa1b2f1a0fb8b2c0216283f9">OFC_FAMILY_IP</a>;</div>
<div class="line">        ip.<a id="a36" name="a36"></a><a class="code hl_variable" href="struct_o_f_c___i_p_a_d_d_r.html#ad5cf493618e87875c6c36df4d9ae7d64">u</a>.<a id="a37" name="a37"></a><a class="code hl_variable" href="struct_o_f_c___i_p_a_d_d_r.html#ae8c06f1af7fd8757125a34bc41d8d9a4">ipv4</a>.<a id="a38" name="a38"></a><a class="code hl_variable" href="struct_o_f_c___i_n_a_d_d_r.html#ab28dc7e0a20e30f48a92889984a6cfe9">addr</a> = <a id="a39" name="a39"></a><a class="code hl_define" href="group__net.html#ga447c4838d097a0194cb8f9a6e15c0070">OFC_INADDR_ANY</a>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        ip.<a class="code hl_variable" href="struct_o_f_c___i_p_a_d_d_r.html#a4ba6b48226f0b6b074a86837d0d17e10">ip_version</a> = <a id="a40" name="a40"></a><a class="code hl_enumvalue" href="group__net.html#gga2a5805726c2bbe30517485c88a6130b8a28512a6d5786615e3f71e40b5771ff09">OFC_FAMILY_IPV6</a>;</div>
<div class="line">        ip.<a class="code hl_variable" href="struct_o_f_c___i_p_a_d_d_r.html#ad5cf493618e87875c6c36df4d9ae7d64">u</a>.<a id="a41" name="a41"></a><a class="code hl_variable" href="struct_o_f_c___i_p_a_d_d_r.html#adbc5b478bee65a786e61c179e345858a">ipv6</a> = <a id="a42" name="a42"></a><a class="code hl_variable" href="group__net.html#gadec194e9fe6c6e08298b57c1a701dad9">ofc_in6addr_any</a>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Startup the interface</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <span class="keyword">interface </span>= StartupInterface(streamTest-&gt;family, &amp;ip);</div>
<div class="line">    <span class="keywordflow">if</span> (interface != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>)</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * If we successfully started the interface, add it to our list</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        <a id="a43" name="a43"></a><a class="code hl_function" href="group__queue.html#ga2fbec4efe10324e0ae3cb1ba46193830">ofc_enqueue</a>(streamTest-&gt;interfaceList, interface);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Create a timer for the socket server application.  We create the</span></div>
<div class="line"><span class="comment">     * clients from within the socket server.  We could create a client</span></div>
<div class="line"><span class="comment">     * for each stream server application (interface specific), but this</span></div>
<div class="line"><span class="comment">     * implementation creates only one client regardless of the number of</span></div>
<div class="line"><span class="comment">     * interfaces we&#39;ve started.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    streamTest-&gt;hTimer = <a id="a44" name="a44"></a><a class="code hl_function" href="group___open.html#ga32ac156d48bacc58b04f8184c9ed0f11">ofc_timer_create</a>(<span class="stringliteral">&quot;SOCKET&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (streamTest-&gt;hTimer != <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>) {</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * The timer is created, so set it with our test interval.  When it</span></div>
<div class="line"><span class="comment">         * fires, we&#39;ll create the client</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        <a id="a45" name="a45"></a><a class="code hl_function" href="group___open.html#ga8564df7a40fc7c2393059e7e6a72aa3c">ofc_timer_set</a>(streamTest-&gt;hTimer, STREAM_TEST_INTERVAL);</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">#if defined(OFC_MULTI_TCP)</span></div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Create an event to get configuration updates</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    streamTest-&gt;hConfigUpdate = <a class="code hl_function" href="group__event.html#gacaba0c262bff4c385f5c090af15b4b70">ofc_event_create</a>(<a class="code hl_enumvalue" href="group__event.html#gga0239eb43aac1335ccd0f36ee7753640aa83d4daa6e33f6de56c6c4dd5ff202e7d">OFC_EVENT_AUTO</a>) ;</div>
<div class="line">    <span class="keywordflow">if</span> (streamTest-&gt;hConfigUpdate != <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>)</div>
<div class="line">      <a id="a46" name="a46"></a><a class="code hl_function" href="group___general_config.html#gae73cbbce273bb3a95fb07a110b337a0a">ofc_persist_register_update</a>(streamTest-&gt;hConfigUpdate) ;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if defined(OFC_MULTI_TCP)</span></div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a> StreamTestReconfig (OFC_STREAM_TEST *streamTest)</div>
<div class="line">{</div>
<div class="line">  <span class="keywordtype">int</span> i ;</div>
<div class="line">  <a class="code hl_struct" href="struct_o_f_c___i_p_a_d_d_r.html">OFC_IPADDR</a> ip ;</div>
<div class="line">  OFC_STREAM_INTERFACE *interface ;</div>
<div class="line">  OFC_STREAM_INTERFACE *next_interface ;</div>
<div class="line">  <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> found ;</div>
<div class="line">  <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * First look for deleted interfaces</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keywordflow">for</span> (interface = <a id="a47" name="a47"></a><a class="code hl_function" href="group__queue.html#gaad39cee1fed02b455d63644b879c2412">ofc_queue_first</a> (streamTest-&gt;interfaceList) ;</div>
<div class="line">       interface != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a> ;</div>
<div class="line">       interface = next_interface)</div>
<div class="line">    {</div>
<div class="line">      next_interface = <a id="a48" name="a48"></a><a class="code hl_function" href="group__queue.html#ga28328a2cfaf9e6e93f90d1889e6fedbe">ofc_queue_next</a> (streamTest-&gt;interfaceList, interface) ;</div>
<div class="line">      <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Is this interface in the update message with the same values</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">      found = <a id="a49" name="a49"></a><a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a> ;</div>
<div class="line">      <span class="keywordflow">for</span> (i = 0 ; i &lt; <a id="a50" name="a50"></a><a class="code hl_function" href="group___general_config.html#ga7c04270e80a742d733c9d2ed47a9e9ca">ofc_persist_interface_count</a>() &amp;&amp; !found ;)</div>
<div class="line">    {</div>
<div class="line">      <a id="a51" name="a51"></a><a class="code hl_function" href="group___general_config.html#ga5650223c9f655c228c9ab911e689d890">ofc_persist_interface_addr</a>(i, &amp;ip, <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>, <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>) ;</div>
<div class="line">      <span class="keywordflow">if</span> (<a id="a52" name="a52"></a><a class="code hl_function" href="group__net.html#ga970f217fe5107335e54fa474a687dc2b">ofc_net_is_addr_equal</a> (&amp;interface-&gt;ip, &amp;ip))</div>
<div class="line">        found = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a> ;</div>
<div class="line">      <span class="keywordflow">else</span></div>
<div class="line">        i++ ;</div>
<div class="line">    }</div>
<div class="line">      <span class="keywordflow">if</span> (!found)</div>
<div class="line">    {</div>
<div class="line">      <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Delete the interface</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">      <a id="a53" name="a53"></a><a class="code hl_function" href="group__queue.html#gaf99f7b68ed69113cc381d3ded731281c">ofc_queue_unlink</a> (streamTest-&gt;interfaceList, interface) ;</div>
<div class="line">      ShutdownInterface (interface) ;</div>
<div class="line">    }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * Now look for added interfaces</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keywordflow">for</span> (i = 0 ; i &lt; <a class="code hl_function" href="group___general_config.html#ga7c04270e80a742d733c9d2ed47a9e9ca">ofc_persist_interface_count</a>() ; i++)</div>
<div class="line">    {</div>
<div class="line">      <a class="code hl_function" href="group___general_config.html#ga5650223c9f655c228c9ab911e689d890">ofc_persist_interface_addr</a>(i, &amp;ip, <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>, <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>) ;</div>
<div class="line"> </div>
<div class="line">      found = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a> ;</div>
<div class="line">      <span class="keywordflow">for</span> (interface = <a class="code hl_function" href="group__queue.html#gaad39cee1fed02b455d63644b879c2412">ofc_queue_first</a> (streamTest-&gt;interfaceList) ;</div>
<div class="line">       interface != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a> &amp;&amp; !found ;)</div>
<div class="line">    {</div>
<div class="line">      <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Is this interface in the update message with the same values</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code hl_function" href="group__net.html#ga970f217fe5107335e54fa474a687dc2b">ofc_net_is_addr_equal</a> (&amp;interface-&gt;ip, &amp;ip))</div>
<div class="line">        found = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a> ;</div>
<div class="line">      <span class="keywordflow">else</span></div>
<div class="line">        <span class="keyword">interface </span>= <a class="code hl_function" href="group__queue.html#ga28328a2cfaf9e6e93f90d1889e6fedbe">ofc_queue_next</a> (streamTest-&gt;interfaceList, interface) ;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">if</span> (!found &amp;&amp; (streamTest-&gt;family == ip.<a class="code hl_variable" href="struct_o_f_c___i_p_a_d_d_r.html#a4ba6b48226f0b6b074a86837d0d17e10">ip_version</a>))</div>
<div class="line">    {</div>
<div class="line">      <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Add the interface</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">      <span class="keyword">interface </span>= StartupInterface (streamTest-&gt;family, &amp;ip) ;</div>
<div class="line">      <span class="keywordflow">if</span> (interface != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>)</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * If we successfully started the interface, add it to our list</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        ofc_queue_enqueue (streamTest-&gt;interfaceList, interface) ;</div>
<div class="line">    }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a> StreamTestPreSelect(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app) {</div>
<div class="line">    OFC_STREAM_TEST *streamTest;</div>
<div class="line">    OFC_STREAM_INTERFACE *interface;</div>
<div class="line">    <a class="code hl_enumeration" href="group__socket.html#gae8ebfba34d6dd3e6c0dd4ca37f6be441">OFC_SOCKET_EVENT_TYPE</a> event_types;</div>
<div class="line">    STREAM_TEST_STATE entry_state;</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Get our application data.  This is the structure that was passed into</span></div>
<div class="line"><span class="comment">     * the ofc_app_create call</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    streamTest = <a id="a54" name="a54"></a><a class="code hl_function" href="group__app.html#ga24dd7dd70ba161e7496fe76781733c66">ofc_app_get_data</a>(app);</div>
<div class="line">    <span class="keywordflow">if</span> (streamTest != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>) {</div>
<div class="line">        <span class="keywordflow">do</span> <span class="comment">/* while streamTest-&gt;state != entry_state */</span></div>
<div class="line">        {</div>
<div class="line">            entry_state = streamTest-&gt;state;</div>
<div class="line">            <a id="a55" name="a55"></a><a class="code hl_function" href="group__sched.html#ga4ae35d65b359f747d25a015e8dc1f195">ofc_sched_clear_wait</a>(streamTest-&gt;scheduler, app);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">             * Dispatch on our state</span></div>
<div class="line"><span class="comment">             */</span></div>
<div class="line">            <span class="keywordflow">switch</span> (streamTest-&gt;state) {</div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                <span class="keywordflow">case</span> STREAM_TEST_STATE_IDLE:</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * We have just been created.  So initialize the socket server</span></div>
<div class="line"><span class="comment">                     */</span></div>
<div class="line">                    StreamTestInitialize(streamTest);</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * Now enable the timer so we&#39;ll get events to create a client</span></div>
<div class="line"><span class="comment">                     */</span></div>
<div class="line">                    <a id="a56" name="a56"></a><a class="code hl_function" href="group__sched.html#ga41c01df6d6077304bf6f7a8afd06524a">ofc_sched_add_wait</a>(streamTest-&gt;scheduler, app,</div>
<div class="line">                                       streamTest-&gt;hTimer);</div>
<div class="line"><span class="preprocessor">#if defined(OFC_MULTI_TCP)</span></div>
<div class="line">                    <a class="code hl_function" href="group__sched.html#ga41c01df6d6077304bf6f7a8afd06524a">ofc_sched_add_wait</a> (streamTest-&gt;scheduler, app,</div>
<div class="line">                            streamTest-&gt;hConfigUpdate) ;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * For each interface we&#39;ve started, enable the event on that</span></div>
<div class="line"><span class="comment">                     * interface&#39;s socket.</span></div>
<div class="line"><span class="comment">                     */</span></div>
<div class="line">                    <span class="keywordflow">for</span> (interface = <a class="code hl_function" href="group__queue.html#gaad39cee1fed02b455d63644b879c2412">ofc_queue_first</a>(streamTest-&gt;interfaceList);</div>
<div class="line">                         interface != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>;</div>
<div class="line">                         interface = <a class="code hl_function" href="group__queue.html#ga28328a2cfaf9e6e93f90d1889e6fedbe">ofc_queue_next</a>(streamTest-&gt;interfaceList,</div>
<div class="line">                                                    interface)) {</div>
<div class="line">                        event_types = <a id="a57" name="a57"></a><a class="code hl_enumvalue" href="group__socket.html#ggae8ebfba34d6dd3e6c0dd4ca37f6be441a940bc3b76ff753d7187e8e44a907b670">OFC_SOCKET_EVENT_ACCEPT</a>;</div>
<div class="line">                        <a id="a58" name="a58"></a><a class="code hl_function" href="group__socket.html#ga55398257e292f111bb4fb5ca7d831ff8">ofc_socket_enable</a>(interface-&gt;hListen, event_types);</div>
<div class="line">                        <a class="code hl_function" href="group__sched.html#ga41c01df6d6077304bf6f7a8afd06524a">ofc_sched_add_wait</a>(streamTest-&gt;scheduler, app,</div>
<div class="line">                                           interface-&gt;hListen);</div>
<div class="line">                    }</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * And switch our state to running</span></div>
<div class="line"><span class="comment">                     */</span></div>
<div class="line">                    streamTest-&gt;state = STREAM_TEST_STATE_RUNNING;</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> STREAM_TEST_STATE_RUNNING:</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * We are running, so let&#39;s just enable the events we&#39;re</span></div>
<div class="line"><span class="comment">                     * interested in.</span></div>
<div class="line"><span class="comment">                     *</span></div>
<div class="line"><span class="comment">                     * Enable the timer to create clients</span></div>
<div class="line"><span class="comment">                     */</span></div>
<div class="line">                    <a class="code hl_function" href="group__sched.html#ga41c01df6d6077304bf6f7a8afd06524a">ofc_sched_add_wait</a>(streamTest-&gt;scheduler, app,</div>
<div class="line">                                       streamTest-&gt;hTimer);</div>
<div class="line"><span class="preprocessor">#if defined(OFC_MULTI_TCP)</span></div>
<div class="line">                    <a class="code hl_function" href="group__sched.html#ga41c01df6d6077304bf6f7a8afd06524a">ofc_sched_add_wait</a> (streamTest-&gt;scheduler, app,</div>
<div class="line">                            streamTest-&gt;hConfigUpdate) ;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * And enable each interface we&#39;ve started</span></div>
<div class="line"><span class="comment">                     */</span></div>
<div class="line">                    <span class="keywordflow">for</span> (interface = <a class="code hl_function" href="group__queue.html#gaad39cee1fed02b455d63644b879c2412">ofc_queue_first</a>(streamTest-&gt;interfaceList);</div>
<div class="line">                         interface != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>;</div>
<div class="line">                         interface = <a class="code hl_function" href="group__queue.html#ga28328a2cfaf9e6e93f90d1889e6fedbe">ofc_queue_next</a>(streamTest-&gt;interfaceList,</div>
<div class="line">                                                    interface)) {</div>
<div class="line">                        event_types = <a class="code hl_enumvalue" href="group__socket.html#ggae8ebfba34d6dd3e6c0dd4ca37f6be441a940bc3b76ff753d7187e8e44a907b670">OFC_SOCKET_EVENT_ACCEPT</a>;</div>
<div class="line">                        <a class="code hl_function" href="group__socket.html#ga55398257e292f111bb4fb5ca7d831ff8">ofc_socket_enable</a>(interface-&gt;hListen, event_types);</div>
<div class="line">                        <a class="code hl_function" href="group__sched.html#ga41c01df6d6077304bf6f7a8afd06524a">ofc_sched_add_wait</a>(streamTest-&gt;scheduler, app,</div>
<div class="line">                                           interface-&gt;hListen);</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        } <span class="keywordflow">while</span> (streamTest-&gt;state != entry_state);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> StreamTestPostSelect(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app, <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> hSocket) {</div>
<div class="line">    OFC_STREAM_TEST *streamTest;</div>
<div class="line">    OFC_SERVER_TEST *serverTest;</div>
<div class="line">    OFC_CLIENT_TEST *clientTest;</div>
<div class="line">    OFC_STREAM_INTERFACE *interface;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> progress;</div>
<div class="line">    <a class="code hl_enumeration" href="group__socket.html#gae8ebfba34d6dd3e6c0dd4ca37f6be441">OFC_SOCKET_EVENT_TYPE</a> event_types;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> ip_str[<a class="code hl_define" href="group__net.html#ga6257918744debf3068211499e332c4ed">IP6STR_LEN</a>];</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Get the socket server&#39;s context</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    streamTest = <a class="code hl_function" href="group__app.html#ga24dd7dd70ba161e7496fe76781733c66">ofc_app_get_data</a>(app);</div>
<div class="line">    <span class="keywordflow">if</span> (streamTest != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>) {</div>
<div class="line">        <span class="keywordflow">for</span> (progress = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>; progress &amp;&amp; !<a id="a59" name="a59"></a><a class="code hl_function" href="group__app.html#ga838d2aaa9526cfb88b52f7ef11c0e91a">ofc_app_destroying</a>(app);) {</div>
<div class="line">            progress = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">             * Dispatch on our state</span></div>
<div class="line"><span class="comment">             */</span></div>
<div class="line">            <span class="keywordflow">switch</span> (streamTest-&gt;state) {</div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> STREAM_TEST_STATE_IDLE:</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * We should no longer be idle.</span></div>
<div class="line"><span class="comment">                     */</span></div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> STREAM_TEST_STATE_RUNNING:</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * Find a matching interface socket</span></div>
<div class="line"><span class="comment">                     */</span></div>
<div class="line">                    <span class="keywordflow">for</span> (interface = <a class="code hl_function" href="group__queue.html#gaad39cee1fed02b455d63644b879c2412">ofc_queue_first</a>(streamTest-&gt;interfaceList);</div>
<div class="line">                         <span class="keyword">interface </span>!= <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a> &amp;&amp; hSocket != interface-&gt;hListen;</div>
<div class="line">                         <span class="keyword">interface </span>= <a class="code hl_function" href="group__queue.html#ga28328a2cfaf9e6e93f90d1889e6fedbe">ofc_queue_next</a>(streamTest-&gt;interfaceList,</div>
<div class="line">                                                    interface));</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">if</span> (interface != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a> &amp;&amp; hSocket == interface-&gt;hListen) {</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">                         * Found an Interface, Determine Event</span></div>
<div class="line"><span class="comment">                         */</span></div>
<div class="line">                        event_types = <a id="a60" name="a60"></a><a class="code hl_function" href="group__socket.html#ga1a72031ee312adaca05c8a7de9558bf8">ofc_socket_test</a>(hSocket);</div>
<div class="line">                        <span class="keywordflow">if</span> (event_types &amp; <a class="code hl_enumvalue" href="group__socket.html#ggae8ebfba34d6dd3e6c0dd4ca37f6be441a940bc3b76ff753d7187e8e44a907b670">OFC_SOCKET_EVENT_ACCEPT</a>) {</div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">                             * We&#39;ve received a listen event</span></div>
<div class="line"><span class="comment">                             *</span></div>
<div class="line"><span class="comment">                             * Let&#39;s create an app to accept the listen</span></div>
<div class="line"><span class="comment">                             */</span></div>
<div class="line">                            serverTest = <a class="code hl_function" href="heap_8h.html#ad8c64ed33575e33e794ed8513bf6c2bd">ofc_malloc</a>(<span class="keyword">sizeof</span>(OFC_SERVER_TEST));</div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">                             * Initialize it&#39;s state to idle and set up the info</span></div>
<div class="line"><span class="comment">                             * we know about</span></div>
<div class="line"><span class="comment">                             */</span></div>
<div class="line">                            serverTest-&gt;state = SERVER_TEST_STATE_IDLE;</div>
<div class="line">                            serverTest-&gt;scheduler = streamTest-&gt;scheduler;</div>
<div class="line">                            serverTest-&gt;masterSocket = interface-&gt;hListen;</div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">                             * Need to do the accept now to clear the event</span></div>
<div class="line"><span class="comment">                             * Some implementations will not clear the listen event</span></div>
<div class="line"><span class="comment">                             * until after the listen has been serviced.  So we</span></div>
<div class="line"><span class="comment">                             * need to service the listen now.</span></div>
<div class="line"><span class="comment">                             */</span></div>
<div class="line">                            serverTest-&gt;hSocket =</div>
<div class="line">                                    <a id="a61" name="a61"></a><a class="code hl_function" href="group__socket.html#gaf574ce1d68e6bf76af6e7e9e4aed5af3">ofc_socket_accept</a>(serverTest-&gt;masterSocket);</div>
<div class="line">                            <span class="keywordflow">if</span> (serverTest-&gt;hSocket == <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>) {</div>
<div class="line">                                <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(serverTest);</div>
<div class="line">                            } <span class="keywordflow">else</span> {</div>
<div class="line">                                progress = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">                                <span class="comment">/*</span></div>
<div class="line"><span class="comment">                                 * Create the server application for this socket</span></div>
<div class="line"><span class="comment">                                 */</span></div>
<div class="line">                                <a id="a62" name="a62"></a><a class="code hl_function" href="group__app.html#gaf81c716c9611c792b9c5a113e4465b39">ofc_app_create</a>(streamTest-&gt;scheduler,</div>
<div class="line">                                               &amp;ServerTestAppDef,</div>
<div class="line">                                               serverTest);</div>
<div class="line">                            }</div>
<div class="line">                        }</div>
<div class="line">                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hSocket == streamTest-&gt;hTimer) {</div>
<div class="line">                        <span class="keywordflow">if</span> (streamTest-&gt;count++ &gt;= STREAM_TEST_COUNT) {</div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">                             * we want to kill ourselves after a number of times</span></div>
<div class="line"><span class="comment">                             */</span></div>
<div class="line">                            <a id="a63" name="a63"></a><a class="code hl_function" href="group__app.html#ga2f5fba0b153b3bd31f6c8f3fb4b54ba0">ofc_app_kill</a>(app);</div>
<div class="line">                        } <span class="keywordflow">else</span> {</div>
<div class="line">                            <span class="keywordflow">for</span> (interface = <a class="code hl_function" href="group__queue.html#gaad39cee1fed02b455d63644b879c2412">ofc_queue_first</a>(streamTest-&gt;interfaceList);</div>
<div class="line">                                 interface != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>;</div>
<div class="line">                                 interface = <a class="code hl_function" href="group__queue.html#ga28328a2cfaf9e6e93f90d1889e6fedbe">ofc_queue_next</a>(streamTest-&gt;interfaceList,</div>
<div class="line">                                                            interface)) {</div>
<div class="line">                                <span class="comment">/*</span></div>
<div class="line"><span class="comment">                                 * This is a timer that we use to create a client.</span></div>
<div class="line"><span class="comment">                                 * Let&#39;s create an app to send a message</span></div>
<div class="line"><span class="comment">                                 */</span></div>
<div class="line">                                clientTest =</div>
<div class="line">                                        <a class="code hl_function" href="heap_8h.html#ad8c64ed33575e33e794ed8513bf6c2bd">ofc_malloc</a>(<span class="keyword">sizeof</span>(OFC_CLIENT_TEST));</div>
<div class="line">                                <span class="comment">/*</span></div>
<div class="line"><span class="comment">                                 * Set it&#39;s state and the info we know</span></div>
<div class="line"><span class="comment">                                 */</span></div>
<div class="line">                                clientTest-&gt;state = CLIENT_TEST_STATE_IDLE;</div>
<div class="line">                                clientTest-&gt;scheduler = streamTest-&gt;scheduler;</div>
<div class="line">                                clientTest-&gt;ip = interface-&gt;ip;</div>
<div class="line"> </div>
<div class="line">                                <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Creating Stream Client for %s &quot;</span></div>
<div class="line">                                           <span class="stringliteral">&quot;Application on %s\n&quot;</span>,</div>
<div class="line">                                           streamTest-&gt;family == <a class="code hl_enumvalue" href="group__net.html#gga2a5805726c2bbe30517485c88a6130b8a2bad4126fa1b2f1a0fb8b2c0216283f9">OFC_FAMILY_IP</a> ?</div>
<div class="line">                                           <span class="stringliteral">&quot;IPv4&quot;</span> : <span class="stringliteral">&quot;IPv6&quot;</span>,</div>
<div class="line">                                           <a class="code hl_function" href="group__net.html#ga6fa2c869606ea672de711389c66e7981">ofc_ntop</a>(&amp;interface-&gt;ip,</div>
<div class="line">                                                    ip_str, <a class="code hl_define" href="group__net.html#ga6257918744debf3068211499e332c4ed">IP6STR_LEN</a>));</div>
<div class="line">                                <span class="comment">/*</span></div>
<div class="line"><span class="comment">                                 * Create the application</span></div>
<div class="line"><span class="comment">                                 */</span></div>
<div class="line">                                clientTest-&gt;app =</div>
<div class="line">                                        <a class="code hl_function" href="group__app.html#gaf81c716c9611c792b9c5a113e4465b39">ofc_app_create</a>(streamTest-&gt;scheduler,</div>
<div class="line">                                                       &amp;ClientTestAppDef,</div>
<div class="line">                                                       clientTest);</div>
<div class="line">                            }</div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">                             * And reset the timer so we&#39;ll get notification to</span></div>
<div class="line"><span class="comment">                             * create another client in the future.</span></div>
<div class="line"><span class="comment">                             */</span></div>
<div class="line">                            <a class="code hl_function" href="group___open.html#ga8564df7a40fc7c2393059e7e6a72aa3c">ofc_timer_set</a>(streamTest-&gt;hTimer, STREAM_TEST_INTERVAL);</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line"><span class="preprocessor">#if defined(OFC_MULTI_TCP)</span></div>
<div class="line">                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hSocket == streamTest-&gt;hConfigUpdate)</div>
<div class="line">                  StreamTestReconfig (streamTest) ;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> (<a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a> StreamTestDestroy(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app) {</div>
<div class="line">    OFC_STREAM_TEST *streamTest;</div>
<div class="line">    OFC_STREAM_INTERFACE *interface;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Destroying Stream Test Application\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Get the application&#39;s data</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    streamTest = <a class="code hl_function" href="group__app.html#ga24dd7dd70ba161e7496fe76781733c66">ofc_app_get_data</a>(app);</div>
<div class="line">    <span class="keywordflow">if</span> (streamTest != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>) {</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * And dispatch on it&#39;s state</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        <span class="keywordflow">switch</span> (streamTest-&gt;state) {</div>
<div class="line">            <span class="keywordflow">default</span>:</div>
<div class="line">            <span class="keywordflow">case</span> STREAM_TEST_STATE_IDLE:</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">                 * We should never be idle</span></div>
<div class="line"><span class="comment">                 */</span></div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">case</span> STREAM_TEST_STATE_RUNNING:</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">                 * Destroy the timer</span></div>
<div class="line"><span class="comment">                 */</span></div>
<div class="line">                <a id="a64" name="a64"></a><a class="code hl_function" href="group___open.html#gab48508d9016a5a4dd37ac3fd383998bf">ofc_timer_destroy</a>(streamTest-&gt;hTimer);</div>
<div class="line"><span class="preprocessor">#if defined(OFC_MULTI_TCP)</span></div>
<div class="line">                <a id="a65" name="a65"></a><a class="code hl_function" href="group___general_config.html#gad93392cdf98eb5ca78c41c48787fd292">ofc_persist_unregister_update</a> (streamTest-&gt;hConfigUpdate) ;</div>
<div class="line">                <a class="code hl_function" href="group__event.html#ga0a92f5a8350c549f2e6f40003ca7ac42">ofc_event_destroy</a>(streamTest-&gt;hConfigUpdate) ;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">                 * And Shutdown all our configured interfaces</span></div>
<div class="line"><span class="comment">                 */</span></div>
<div class="line">                <span class="keywordflow">for</span> (interface = <a id="a66" name="a66"></a><a class="code hl_function" href="group__queue.html#gaeb3d21227e4f98282d453c1e313c28c1">ofc_dequeue</a>(streamTest-&gt;interfaceList);</div>
<div class="line">                     interface != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>;</div>
<div class="line">                     interface = <a class="code hl_function" href="group__queue.html#gaeb3d21227e4f98282d453c1e313c28c1">ofc_dequeue</a>(streamTest-&gt;interfaceList)) {</div>
<div class="line">                    ShutdownInterface(interface);</div>
<div class="line">                }</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">                 * Now destroy the interface list</span></div>
<div class="line"><span class="comment">                 */</span></div>
<div class="line">                <a id="a67" name="a67"></a><a class="code hl_function" href="group__queue.html#ga14b82418bcf17df0a6b9954b5ebfd62a">ofc_queue_destroy</a>(streamTest-&gt;interfaceList);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * Destroy our context</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(streamTest);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a> ServerTestPreSelect(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app) {</div>
<div class="line">    OFC_SERVER_TEST *serverTest;</div>
<div class="line">    <a class="code hl_enumeration" href="group__socket.html#gae8ebfba34d6dd3e6c0dd4ca37f6be441">OFC_SOCKET_EVENT_TYPE</a> event_types;</div>
<div class="line">    SERVER_TEST_STATE entry_state;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Get the application&#39;s data</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    serverTest = <a class="code hl_function" href="group__app.html#ga24dd7dd70ba161e7496fe76781733c66">ofc_app_get_data</a>(app);</div>
<div class="line">    <span class="keywordflow">if</span> (serverTest != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>) {</div>
<div class="line">        <span class="keywordflow">do</span> <span class="comment">/* while serverTest-&gt;state != entry_state */</span></div>
<div class="line">        {</div>
<div class="line">            entry_state = serverTest-&gt;state;</div>
<div class="line">            <a class="code hl_function" href="group__sched.html#ga4ae35d65b359f747d25a015e8dc1f195">ofc_sched_clear_wait</a>(serverTest-&gt;scheduler, app);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">             * Dispatch on state</span></div>
<div class="line"><span class="comment">             */</span></div>
<div class="line">            <span class="keywordflow">switch</span> (serverTest-&gt;state) {</div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                <span class="keywordflow">case</span> SERVER_TEST_STATE_IDLE:</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * We are idle, and the listening application already accepted</span></div>
<div class="line"><span class="comment">                     * the connection.  So initialize some of our context and set</span></div>
<div class="line"><span class="comment">                     * our state to header.  There&#39;s nothing we need to do except</span></div>
<div class="line"><span class="comment">                     * await an incoming message */</span></div>
<div class="line">                    serverTest-&gt;recv_msg = <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>;</div>
<div class="line">                    serverTest-&gt;state = SERVER_TEST_STATE_HEADER;</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * And enable socket events</span></div>
<div class="line"><span class="comment">                     */</span></div>
<div class="line">                    event_types = <a id="a68" name="a68"></a><a class="code hl_enumvalue" href="group__socket.html#ggae8ebfba34d6dd3e6c0dd4ca37f6be441a2066031212556e3a77cdf3d09cacf99f">OFC_SOCKET_EVENT_READ</a> | <a id="a69" name="a69"></a><a class="code hl_enumvalue" href="group__socket.html#ggae8ebfba34d6dd3e6c0dd4ca37f6be441a9820d216296f3e2bed5e8ec0a000b84d">OFC_SOCKET_EVENT_CLOSE</a>;</div>
<div class="line">                    <a class="code hl_function" href="group__socket.html#ga55398257e292f111bb4fb5ca7d831ff8">ofc_socket_enable</a>(serverTest-&gt;hSocket, event_types);</div>
<div class="line">                    <a class="code hl_function" href="group__sched.html#ga41c01df6d6077304bf6f7a8afd06524a">ofc_sched_add_wait</a>(serverTest-&gt;scheduler, app,</div>
<div class="line">                                       serverTest-&gt;hSocket);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> SERVER_TEST_STATE_HEADER:</div>
<div class="line">                <span class="keywordflow">case</span> SERVER_TEST_STATE_BODY:</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * If we&#39;re awaiting a header or a body, simply enable socket</span></div>
<div class="line"><span class="comment">                     * events</span></div>
<div class="line"><span class="comment">                     */</span></div>
<div class="line">                    event_types = <a class="code hl_enumvalue" href="group__socket.html#ggae8ebfba34d6dd3e6c0dd4ca37f6be441a2066031212556e3a77cdf3d09cacf99f">OFC_SOCKET_EVENT_READ</a> | <a class="code hl_enumvalue" href="group__socket.html#ggae8ebfba34d6dd3e6c0dd4ca37f6be441a9820d216296f3e2bed5e8ec0a000b84d">OFC_SOCKET_EVENT_CLOSE</a>;</div>
<div class="line">                    <a class="code hl_function" href="group__socket.html#ga55398257e292f111bb4fb5ca7d831ff8">ofc_socket_enable</a>(serverTest-&gt;hSocket, event_types);</div>
<div class="line">                    <a class="code hl_function" href="group__sched.html#ga41c01df6d6077304bf6f7a8afd06524a">ofc_sched_add_wait</a>(serverTest-&gt;scheduler, app,</div>
<div class="line">                                       serverTest-&gt;hSocket);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        } <span class="keywordflow">while</span> (serverTest-&gt;state != entry_state);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> ServerTestPostSelect(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app, <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> hSocket) {</div>
<div class="line">    OFC_SERVER_TEST *serverTest;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaeb93d953e7773b40b433444ad8d95424">OFC_SIZET</a> count;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> progress;</div>
<div class="line">    <a id="_a70" name="_a70"></a><a class="code hl_struct" href="struct___o_f_c___s_o_c_k_a_d_d_r.html">OFC_SOCKADDR</a> sockaddr_local;</div>
<div class="line">    <a class="code hl_struct" href="struct___o_f_c___s_o_c_k_a_d_d_r.html">OFC_SOCKADDR</a> sockaddr_remote;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> local_ip_str[<a class="code hl_define" href="group__net.html#ga6257918744debf3068211499e332c4ed">IP6STR_LEN</a>];</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> remote_ip_str[<a class="code hl_define" href="group__net.html#ga6257918744debf3068211499e332c4ed">IP6STR_LEN</a>];</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Get the application&#39;s data</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    serverTest = <a class="code hl_function" href="group__app.html#ga24dd7dd70ba161e7496fe76781733c66">ofc_app_get_data</a>(app);</div>
<div class="line">    <span class="keywordflow">if</span> (serverTest != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>) {</div>
<div class="line">        <span class="keywordflow">for</span> (progress = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>; progress &amp;&amp; !<a class="code hl_function" href="group__app.html#ga838d2aaa9526cfb88b52f7ef11c0e91a">ofc_app_destroying</a>(app);) {</div>
<div class="line">            progress = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">             * Dispatch on state</span></div>
<div class="line"><span class="comment">             */</span></div>
<div class="line">            <span class="keywordflow">switch</span> (serverTest-&gt;state) {</div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                <span class="keywordflow">case</span> SERVER_TEST_STATE_IDLE:</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * We should never be idle</span></div>
<div class="line"><span class="comment">                     */</span></div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> SERVER_TEST_STATE_HEADER:</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * If we&#39;re in the header state, let&#39;s see if we&#39;ve gotten</span></div>
<div class="line"><span class="comment">                     * a socket event.  It&#39;s the only event we expect</span></div>
<div class="line"><span class="comment">                     */</span></div>
<div class="line">                    <span class="keywordflow">if</span> (hSocket == serverTest-&gt;hSocket) {</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">                         * We have received an event.  We could check whether it&#39;s a</span></div>
<div class="line"><span class="comment">                         * read event or not, but since that&#39;s the only thing we</span></div>
<div class="line"><span class="comment">                         * expect, we&#39;ll just go ahead and assume it&#39;s a read.</span></div>
<div class="line"><span class="comment">                         */</span></div>
<div class="line">                        <span class="keywordflow">if</span> (serverTest-&gt;recv_msg == <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>) {</div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">                             * If we haven&#39;t created a message context for the read,</span></div>
<div class="line"><span class="comment">                             * then do so now.  Since we&#39;re reading into our</span></div>
<div class="line"><span class="comment">                             * context info, we set the message type to</span></div>
<div class="line"><span class="comment">                             * MSG_ALLOC_AUTO. This tells the message handler</span></div>
<div class="line"><span class="comment">                             * not to dealloc the header but also not to expect</span></div>
<div class="line"><span class="comment">                             * it to stay in scope.</span></div>
<div class="line"><span class="comment">                             */</span></div>
<div class="line">                            serverTest-&gt;recv_msg =</div>
<div class="line">                                    <a id="a71" name="a71"></a><a class="code hl_function" href="group__message.html#gafd37c7fb73954bb2aca8d2ea6b642a3d">ofc_message_create</a>(<a id="a72" name="a72"></a><a class="code hl_enumvalue" href="group__message.html#ggac5142e2936c8a673bf257bf6b056c2cca35b2a748bbf1edb83365c18c543446a7">MSG_ALLOC_AUTO</a>,</div>
<div class="line">                                                       CLIENT_MSG_HEADER_LEN,</div>
<div class="line">                                                       (<a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *) &amp;serverTest-&gt;header);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">                         * Now Service the read using recv_msg</span></div>
<div class="line"><span class="comment">                         */</span></div>
<div class="line">                        progress |= <a id="a73" name="a73"></a><a class="code hl_function" href="group__socket.html#gaf0a740091305d0aa175cf1ff977dccaf">ofc_socket_read</a>(serverTest-&gt;hSocket,</div>
<div class="line">                                                    serverTest-&gt;recv_msg);</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">                         * Check if we&#39;ve received the entire message (or expected</span></div>
<div class="line"><span class="comment">                         * portion)</span></div>
<div class="line"><span class="comment">                         */</span></div>
<div class="line">                        <span class="keywordflow">if</span> (<a id="a74" name="a74"></a><a class="code hl_function" href="group__message.html#ga3e631df83287bf040155be8830a58022">ofc_message_done</a>(serverTest-&gt;recv_msg)) {</div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">                             * In this case, we were only expecting the header, and</span></div>
<div class="line"><span class="comment">                             * we&#39;ve received the entire header, so let&#39;s figure out</span></div>
<div class="line"><span class="comment">                             * how many bytes are in the message.</span></div>
<div class="line"><span class="comment">                             */</span></div>
<div class="line">                            count = OFC_NET_NTOL (&amp;serverTest-&gt;header, 0);</div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">                             * Destroy the message context</span></div>
<div class="line"><span class="comment">                             */</span></div>
<div class="line">                            <a id="a75" name="a75"></a><a class="code hl_function" href="group__message.html#gaf3619a056c54b4fbbb5f81818010f774">ofc_message_destroy</a>(serverTest-&gt;recv_msg);</div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">                             * And create a new one to read the body.  This one is</span></div>
<div class="line"><span class="comment">                             * created using MSG_ALLOC_HEAP which directs the</span></div>
<div class="line"><span class="comment">                             * message handler to allocate room for the message from</span></div>
<div class="line"><span class="comment">                             * the heap.</span></div>
<div class="line"><span class="comment">                             */</span></div>
<div class="line">                            serverTest-&gt;recv_msg =</div>
<div class="line">                                    <a class="code hl_function" href="group__message.html#gafd37c7fb73954bb2aca8d2ea6b642a3d">ofc_message_create</a>(<a id="a76" name="a76"></a><a class="code hl_enumvalue" href="group__message.html#ggac5142e2936c8a673bf257bf6b056c2ccafb23617a5da4efd9e1181d243844ba82">MSG_ALLOC_HEAP</a>, count, <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>);</div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">                             * And switch our state to body</span></div>
<div class="line"><span class="comment">                             */</span></div>
<div class="line">                            serverTest-&gt;state = SERVER_TEST_STATE_BODY;</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> SERVER_TEST_STATE_BODY:</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * We are reading in the body.  So let&#39;s see if we have a</span></div>
<div class="line"><span class="comment">                     * socket event</span></div>
<div class="line"><span class="comment">                     */</span></div>
<div class="line">                    <span class="keywordflow">if</span> (hSocket == serverTest-&gt;hSocket) {</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">                         * Yes, since we&#39;re in the body state, we know we have a</span></div>
<div class="line"><span class="comment">                         * recv_msg context, so use it to service the read.</span></div>
<div class="line"><span class="comment">                         */</span></div>
<div class="line">                        progress |= <a class="code hl_function" href="group__socket.html#gaf0a740091305d0aa175cf1ff977dccaf">ofc_socket_read</a>(serverTest-&gt;hSocket,</div>
<div class="line">                                                    serverTest-&gt;recv_msg);</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">                         * Have we read in the entire message body?</span></div>
<div class="line"><span class="comment">                         */</span></div>
<div class="line">                        <span class="keywordflow">if</span> (<a class="code hl_function" href="group__message.html#ga3e631df83287bf040155be8830a58022">ofc_message_done</a>(serverTest-&gt;recv_msg)) {</div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">                             * Entire message read in</span></div>
<div class="line"><span class="comment">                             */</span></div>
<div class="line">                            <a id="a77" name="a77"></a><a class="code hl_function" href="group__socket.html#ga108589ed3601c8c099cc857f229c5a3c">ofc_socket_get_addresses</a>(serverTest-&gt;hSocket,</div>
<div class="line">                                                     &amp;sockaddr_local,</div>
<div class="line">                                                     &amp;sockaddr_remote);</div>
<div class="line">                            <a class="code hl_function" href="group__net.html#ga6fa2c869606ea672de711389c66e7981">ofc_ntop</a>(&amp;sockaddr_local.<a id="a78" name="a78"></a><a class="code hl_variable" href="struct___o_f_c___s_o_c_k_a_d_d_r.html#a77191413f0e2d65e9c22f39a5b697a94">sin_addr</a>,</div>
<div class="line">                                     local_ip_str, <a class="code hl_define" href="group__net.html#ga6257918744debf3068211499e332c4ed">IP6STR_LEN</a>);</div>
<div class="line">                            <a class="code hl_function" href="group__net.html#ga6fa2c869606ea672de711389c66e7981">ofc_ntop</a>(&amp;sockaddr_remote.<a class="code hl_variable" href="struct___o_f_c___s_o_c_k_a_d_d_r.html#a77191413f0e2d65e9c22f39a5b697a94">sin_addr</a>,</div>
<div class="line">                                     remote_ip_str, <a class="code hl_define" href="group__net.html#ga6257918744debf3068211499e332c4ed">IP6STR_LEN</a>);</div>
<div class="line">                            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Read %d Bytes on %s(%d) from %s(%d)\n&quot;</span>,</div>
<div class="line">                                       <a id="a79" name="a79"></a><a class="code hl_function" href="group__message.html#ga81f5b70e9d3f4fe715eb32d9ab7c1ff8">ofc_message_offset</a>(serverTest-&gt;recv_msg),</div>
<div class="line">                                       local_ip_str,</div>
<div class="line">                                       sockaddr_local.<a id="a80" name="a80"></a><a class="code hl_variable" href="struct___o_f_c___s_o_c_k_a_d_d_r.html#ad618a27142f5f8eb458b35a1ddb68c45">sin_port</a>,</div>
<div class="line">                                       remote_ip_str,</div>
<div class="line">                                       sockaddr_remote.<a class="code hl_variable" href="struct___o_f_c___s_o_c_k_a_d_d_r.html#ad618a27142f5f8eb458b35a1ddb68c45">sin_port</a>);</div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">                             * We persist only for receipt of one message.  So</span></div>
<div class="line"><span class="comment">                             * start to tear down the application</span></div>
<div class="line"><span class="comment">                             */</span></div>
<div class="line">                            <a class="code hl_function" href="group__app.html#ga2f5fba0b153b3bd31f6c8f3fb4b54ba0">ofc_app_kill</a>(app);</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> (<a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a> ServerTestDestroy(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app) {</div>
<div class="line">    OFC_SERVER_TEST *serverTest;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Destroying Stream Server Application\n&quot;</span>);</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Get our context</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    serverTest = <a class="code hl_function" href="group__app.html#ga24dd7dd70ba161e7496fe76781733c66">ofc_app_get_data</a>(app);</div>
<div class="line">    <span class="keywordflow">if</span> (serverTest != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>) {</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * And switch on our state</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        <span class="keywordflow">switch</span> (serverTest-&gt;state) {</div>
<div class="line">            <span class="keywordflow">default</span>:</div>
<div class="line">            <span class="keywordflow">case</span> SERVER_TEST_STATE_IDLE:</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">                 * We should not be in the idle state</span></div>
<div class="line"><span class="comment">                 */</span></div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">case</span> SERVER_TEST_STATE_HEADER:</div>
<div class="line">            <span class="keywordflow">case</span> SERVER_TEST_STATE_BODY:</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">                 * If we are reading (or have read) the header and/or body,</span></div>
<div class="line"><span class="comment">                 * destroy the socket</span></div>
<div class="line"><span class="comment">                 */</span></div>
<div class="line">                <a class="code hl_function" href="group__socket.html#ga9c6dd533d9306665e7938fae746f5bff">ofc_socket_destroy</a>(serverTest-&gt;hSocket);</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">                 * If we have a message allocated, destroy it</span></div>
<div class="line"><span class="comment">                 */</span></div>
<div class="line">                <span class="keywordflow">if</span> (serverTest-&gt;recv_msg != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>)</div>
<div class="line">                    <a class="code hl_function" href="group__message.html#gaf3619a056c54b4fbbb5f81818010f774">ofc_message_destroy</a>(serverTest-&gt;recv_msg);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * And free the server application&#39;s context</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(serverTest);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> ServiceWrite(OFC_CLIENT_TEST *clientTest) {</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> progress;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaeb93d953e7773b40b433444ad8d95424">OFC_SIZET</a> size;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *buffer;</div>
<div class="line">    <a class="code hl_struct" href="struct___o_f_c___s_o_c_k_a_d_d_r.html">OFC_SOCKADDR</a> sockaddr_local;</div>
<div class="line">    <a class="code hl_struct" href="struct___o_f_c___s_o_c_k_a_d_d_r.html">OFC_SOCKADDR</a> sockaddr_remote;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> local_ip_str[<a class="code hl_define" href="group__net.html#ga6257918744debf3068211499e332c4ed">IP6STR_LEN</a>];</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> remote_ip_str[<a class="code hl_define" href="group__net.html#ga6257918744debf3068211499e332c4ed">IP6STR_LEN</a>];</div>
<div class="line"> </div>
<div class="line">    progress = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Create a message to hold the header and data</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <span class="keywordflow">if</span> (clientTest-&gt;write_msg == <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>) {</div>
<div class="line">        size = <a id="a81" name="a81"></a><a class="code hl_function" href="group__libc.html#ga84338729add0a2e51c550566d6d4ad70">ofc_strlen</a>(CLIENT_MSG_DATA);</div>
<div class="line">        clientTest-&gt;write_msg = <a class="code hl_function" href="group__message.html#gafd37c7fb73954bb2aca8d2ea6b642a3d">ofc_message_create</a>(<a class="code hl_enumvalue" href="group__message.html#ggac5142e2936c8a673bf257bf6b056c2ccafb23617a5da4efd9e1181d243844ba82">MSG_ALLOC_HEAP</a>,</div>
<div class="line">                                                   CLIENT_MSG_HEADER_LEN + size,</div>
<div class="line">                                                   <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>);</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * Since it&#39;s allocated from the heap, let&#39;s get the</span></div>
<div class="line"><span class="comment">         * address of the buffer to fill with the message, then</span></div>
<div class="line"><span class="comment">         * let&#39;s construct the message</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        buffer = <a id="a82" name="a82"></a><a class="code hl_function" href="group__message.html#gad4abcf57c1bd1e25e8e1603772dc3cad">ofc_message_data</a>(clientTest-&gt;write_msg);</div>
<div class="line"> </div>
<div class="line">        OFC_NET_LTON(buffer, OFFSET_CLIENT_MSG_SIZE, size);</div>
<div class="line">        <a id="a83" name="a83"></a><a class="code hl_function" href="group__libc.html#gabcb49c77efddb702672db03818ec94bb">ofc_strncpy</a>(&amp;buffer[OFFSET_CLIENT_MSG_DATA],</div>
<div class="line">                    CLIENT_MSG_DATA,</div>
<div class="line">                    <a class="code hl_function" href="group__libc.html#ga84338729add0a2e51c550566d6d4ad70">ofc_strlen</a>(CLIENT_MSG_DATA));</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Now write it to the server</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    progress = <a id="a84" name="a84"></a><a class="code hl_function" href="group__socket.html#gab1bb2f760a50acd0f09aa0c5c1ceed92">ofc_socket_write</a>(clientTest-&gt;hSocket, clientTest-&gt;write_msg);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_function" href="group__message.html#ga3e631df83287bf040155be8830a58022">ofc_message_done</a>(clientTest-&gt;write_msg)) {</div>
<div class="line">        <a class="code hl_function" href="group__socket.html#ga108589ed3601c8c099cc857f229c5a3c">ofc_socket_get_addresses</a>(clientTest-&gt;hSocket,</div>
<div class="line">                                 &amp;sockaddr_local,</div>
<div class="line">                                 &amp;sockaddr_remote);</div>
<div class="line">        <a class="code hl_function" href="group__net.html#ga6fa2c869606ea672de711389c66e7981">ofc_ntop</a>(&amp;sockaddr_local.<a class="code hl_variable" href="struct___o_f_c___s_o_c_k_a_d_d_r.html#a77191413f0e2d65e9c22f39a5b697a94">sin_addr</a>, local_ip_str, <a class="code hl_define" href="group__net.html#ga6257918744debf3068211499e332c4ed">IP6STR_LEN</a>);</div>
<div class="line">        <a class="code hl_function" href="group__net.html#ga6fa2c869606ea672de711389c66e7981">ofc_ntop</a>(&amp;sockaddr_remote.<a class="code hl_variable" href="struct___o_f_c___s_o_c_k_a_d_d_r.html#a77191413f0e2d65e9c22f39a5b697a94">sin_addr</a>, remote_ip_str, <a class="code hl_define" href="group__net.html#ga6257918744debf3068211499e332c4ed">IP6STR_LEN</a>);</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Wrote Message on %s(%d) to %s(%d)\n&quot;</span>,</div>
<div class="line">                   local_ip_str,</div>
<div class="line">                   sockaddr_local.<a class="code hl_variable" href="struct___o_f_c___s_o_c_k_a_d_d_r.html#ad618a27142f5f8eb458b35a1ddb68c45">sin_port</a>,</div>
<div class="line">                   remote_ip_str,</div>
<div class="line">                   sockaddr_remote.<a class="code hl_variable" href="struct___o_f_c___s_o_c_k_a_d_d_r.html#ad618a27142f5f8eb458b35a1ddb68c45">sin_port</a>);</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * We&#39;ve written the entire message, so since</span></div>
<div class="line"><span class="comment">         * we&#39;re not persistent, let&#39;s clean up the</span></div>
<div class="line"><span class="comment">         * application. If we haven&#39;t written the entire</span></div>
<div class="line"><span class="comment">         * message, we&#39;ll get another event when we&#39;re in the</span></div>
<div class="line"><span class="comment">         * connected state.  We&#39;ll complete the write</span></div>
<div class="line"><span class="comment">         * servicing then.</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        <a class="code hl_function" href="group__app.html#ga2f5fba0b153b3bd31f6c8f3fb4b54ba0">ofc_app_kill</a>(clientTest-&gt;app);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> (progress);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a> ClientTestPreSelect(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app) {</div>
<div class="line">    OFC_CLIENT_TEST *clientTest;</div>
<div class="line">    <a class="code hl_enumeration" href="group__socket.html#gae8ebfba34d6dd3e6c0dd4ca37f6be441">OFC_SOCKET_EVENT_TYPE</a> event_types;</div>
<div class="line">    CLIENT_TEST_STATE entry_state;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Get our context</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    clientTest = <a class="code hl_function" href="group__app.html#ga24dd7dd70ba161e7496fe76781733c66">ofc_app_get_data</a>(app);</div>
<div class="line">    <span class="keywordflow">if</span> (clientTest != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>) {</div>
<div class="line">        <span class="keywordflow">do</span> <span class="comment">/* while clientTest-&gt;state != entry_state */</span></div>
<div class="line">        {</div>
<div class="line">            entry_state = clientTest-&gt;state;</div>
<div class="line">            <a class="code hl_function" href="group__sched.html#ga4ae35d65b359f747d25a015e8dc1f195">ofc_sched_clear_wait</a>(clientTest-&gt;scheduler, app);</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">             * And dispatch on our state</span></div>
<div class="line"><span class="comment">             */</span></div>
<div class="line">            <span class="keywordflow">switch</span> (clientTest-&gt;state) {</div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                <span class="keywordflow">case</span> CLIENT_TEST_STATE_IDLE:</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * We are idle when we are first created.  So set up the client</span></div>
<div class="line"><span class="comment">                     * application.</span></div>
<div class="line"><span class="comment">                     */</span></div>
<div class="line">                    clientTest-&gt;write_msg = <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>;</div>
<div class="line">                    clientTest-&gt;hSocket = <a id="a85" name="a85"></a><a class="code hl_function" href="group__socket.html#ga0085a3164caf5c58f832215925ef4e26">ofc_socket_connect</a>(&amp;clientTest-&gt;ip,</div>
<div class="line">                                                             STREAM_TEST_PORT);</div>
<div class="line">                    <span class="keywordflow">if</span> (clientTest-&gt;hSocket != <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>) {</div>
<div class="line">                        clientTest-&gt;state = CLIENT_TEST_STATE_CONNECTING;</div>
<div class="line"> </div>
<div class="line">                        event_types = <a class="code hl_enumvalue" href="group__socket.html#ggae8ebfba34d6dd3e6c0dd4ca37f6be441a9820d216296f3e2bed5e8ec0a000b84d">OFC_SOCKET_EVENT_CLOSE</a> |</div>
<div class="line">                                      <a id="a86" name="a86"></a><a class="code hl_enumvalue" href="group__socket.html#ggae8ebfba34d6dd3e6c0dd4ca37f6be441a4d9834602aa33be637b79fb5ea2c3ed1">OFC_SOCKET_EVENT_WRITE</a>;</div>
<div class="line"> </div>
<div class="line">                        <a class="code hl_function" href="group__socket.html#ga55398257e292f111bb4fb5ca7d831ff8">ofc_socket_enable</a>(clientTest-&gt;hSocket, event_types);</div>
<div class="line">                        <a class="code hl_function" href="group__sched.html#ga41c01df6d6077304bf6f7a8afd06524a">ofc_sched_add_wait</a>(clientTest-&gt;scheduler, app,</div>
<div class="line">                                           clientTest-&gt;hSocket);</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">                         * We were not able to issue the connect, so we should just</span></div>
<div class="line"><span class="comment">                         * clean up</span></div>
<div class="line"><span class="comment">                         */</span></div>
<div class="line">                        <a class="code hl_function" href="group__app.html#ga2f5fba0b153b3bd31f6c8f3fb4b54ba0">ofc_app_kill</a>(app);</div>
<div class="line">                    }</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> CLIENT_TEST_STATE_CONNECTING:</div>
<div class="line">                <span class="keywordflow">case</span> CLIENT_TEST_STATE_CONNECTED:</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * If we&#39;re connecting or connected, we&#39;re interested in socket</span></div>
<div class="line"><span class="comment">                     * events</span></div>
<div class="line"><span class="comment">                     */</span></div>
<div class="line">                    event_types = <a class="code hl_enumvalue" href="group__socket.html#ggae8ebfba34d6dd3e6c0dd4ca37f6be441a9820d216296f3e2bed5e8ec0a000b84d">OFC_SOCKET_EVENT_CLOSE</a>;</div>
<div class="line">                    <span class="keywordflow">if</span> (clientTest-&gt;write_msg == <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>)</div>
<div class="line">                        event_types |= <a class="code hl_enumvalue" href="group__socket.html#ggae8ebfba34d6dd3e6c0dd4ca37f6be441a4d9834602aa33be637b79fb5ea2c3ed1">OFC_SOCKET_EVENT_WRITE</a>;</div>
<div class="line">                    <a class="code hl_function" href="group__socket.html#ga55398257e292f111bb4fb5ca7d831ff8">ofc_socket_enable</a>(clientTest-&gt;hSocket, event_types);</div>
<div class="line"> </div>
<div class="line">                    <a class="code hl_function" href="group__sched.html#ga41c01df6d6077304bf6f7a8afd06524a">ofc_sched_add_wait</a>(clientTest-&gt;scheduler, app,</div>
<div class="line">                                       clientTest-&gt;hSocket);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        } <span class="keywordflow">while</span> (clientTest-&gt;state != entry_state);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> ClientTestPostSelect(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app, <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> hSocket) {</div>
<div class="line">    OFC_CLIENT_TEST *clientTest;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> progress;</div>
<div class="line">    <a class="code hl_enumeration" href="group__socket.html#gae8ebfba34d6dd3e6c0dd4ca37f6be441">OFC_SOCKET_EVENT_TYPE</a> event_types;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Get our context</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    clientTest = <a class="code hl_function" href="group__app.html#ga24dd7dd70ba161e7496fe76781733c66">ofc_app_get_data</a>(app);</div>
<div class="line">    <span class="keywordflow">if</span> (clientTest != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>) {</div>
<div class="line">        <span class="keywordflow">for</span> (progress = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>; progress &amp;&amp; !<a class="code hl_function" href="group__app.html#ga838d2aaa9526cfb88b52f7ef11c0e91a">ofc_app_destroying</a>(app);) {</div>
<div class="line">            progress = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">             * Dispatch on our state</span></div>
<div class="line"><span class="comment">             */</span></div>
<div class="line">            <span class="keywordflow">switch</span> (clientTest-&gt;state) {</div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                <span class="keywordflow">case</span> CLIENT_TEST_STATE_IDLE:</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * We should not be idle</span></div>
<div class="line"><span class="comment">                     */</span></div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> CLIENT_TEST_STATE_CONNECTING:</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * If we&#39;re connecting, let&#39;s see if we have a socket event</span></div>
<div class="line"><span class="comment">                     */</span></div>
<div class="line">                    <span class="keywordflow">if</span> (hSocket == clientTest-&gt;hSocket) {</div>
<div class="line">                        event_types = <a class="code hl_function" href="group__socket.html#ga1a72031ee312adaca05c8a7de9558bf8">ofc_socket_test</a>(hSocket);</div>
<div class="line">                        <span class="keywordflow">if</span> (event_types &amp; <a class="code hl_enumvalue" href="group__socket.html#ggae8ebfba34d6dd3e6c0dd4ca37f6be441a9820d216296f3e2bed5e8ec0a000b84d">OFC_SOCKET_EVENT_CLOSE</a>) {</div>
<div class="line">                            <a class="code hl_function" href="group__app.html#ga2f5fba0b153b3bd31f6c8f3fb4b54ba0">ofc_app_kill</a>(app);</div>
<div class="line">                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a id="a87" name="a87"></a><a class="code hl_function" href="group__socket.html#gab6e34f5054123a0b4e0158aa671c7c5c">ofc_socket_connected</a>(clientTest-&gt;hSocket)) {</div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">                             * Yes, so let&#39;s say we&#39;re connected.</span></div>
<div class="line"><span class="comment">                             */</span></div>
<div class="line">                            clientTest-&gt;state = CLIENT_TEST_STATE_CONNECTED;</div>
<div class="line">                            progress |= ServiceWrite(clientTest);</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> CLIENT_TEST_STATE_CONNECTED:</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">                     * We&#39;re connected, so let&#39;s see if we have a socket event</span></div>
<div class="line"><span class="comment">                     */</span></div>
<div class="line">                    <span class="keywordflow">if</span> (hSocket == clientTest-&gt;hSocket)</div>
<div class="line">                        progress |= ServiceWrite(clientTest);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> (<a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a> ClientTestDestroy(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> app) {</div>
<div class="line">    OFC_CLIENT_TEST *clientTest;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Destroying Stream Client Application\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Get the app&#39;s context</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    clientTest = <a class="code hl_function" href="group__app.html#ga24dd7dd70ba161e7496fe76781733c66">ofc_app_get_data</a>(app);</div>
<div class="line">    <span class="keywordflow">if</span> (clientTest != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>) {</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * And switch on state</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        <span class="keywordflow">switch</span> (clientTest-&gt;state) {</div>
<div class="line">            <span class="keywordflow">default</span>:</div>
<div class="line">            <span class="keywordflow">case</span> CLIENT_TEST_STATE_IDLE:</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">                 * We shouldn&#39;t be idle</span></div>
<div class="line"><span class="comment">                 */</span></div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">case</span> CLIENT_TEST_STATE_CONNECTING:</div>
<div class="line">            <span class="keywordflow">case</span> CLIENT_TEST_STATE_CONNECTED:</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">                 * If we&#39;re connected or connecting, let&#39;s destroy the client&#39;s</span></div>
<div class="line"><span class="comment">                 * socket</span></div>
<div class="line"><span class="comment">                 */</span></div>
<div class="line">                <a class="code hl_function" href="group__socket.html#ga9c6dd533d9306665e7938fae746f5bff">ofc_socket_destroy</a>(clientTest-&gt;hSocket);</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">                 * And free the message if we have one</span></div>
<div class="line"><span class="comment">                 */</span></div>
<div class="line">                <span class="keywordflow">if</span> (clientTest-&gt;write_msg != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>)</div>
<div class="line">                    <a class="code hl_function" href="group__message.html#gaf3619a056c54b4fbbb5f81818010f774">ofc_message_destroy</a>(clientTest-&gt;write_msg);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * And free the application&#39;s context.</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(clientTest);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST_GROUP(stream);</div>
<div class="line"> </div>
<div class="line">TEST_SETUP(stream) {</div>
<div class="line">    TEST_ASSERT_FALSE_MESSAGE(test_startup(), <span class="stringliteral">&quot;Failed to Startup Framework&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST_TEAR_DOWN(stream) {</div>
<div class="line">    test_shutdown();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(stream, test_stream) {</div>
<div class="line">    OFC_STREAM_TEST *streamTest;</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> hApp;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Allocate a management context for the socket server application</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    streamTest = <a class="code hl_function" href="heap_8h.html#ad8c64ed33575e33e794ed8513bf6c2bd">ofc_malloc</a>(<span class="keyword">sizeof</span>(OFC_STREAM_TEST));</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Initialize the state and note the scheduler the app is part of</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    streamTest-&gt;family = <a class="code hl_enumvalue" href="group__net.html#gga2a5805726c2bbe30517485c88a6130b8a2bad4126fa1b2f1a0fb8b2c0216283f9">OFC_FAMILY_IP</a>;</div>
<div class="line">    streamTest-&gt;count = 0;</div>
<div class="line">    streamTest-&gt;state = STREAM_TEST_STATE_IDLE;</div>
<div class="line">    streamTest-&gt;scheduler = hScheduler;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Creating Stream Test Application for IPv4\n&quot;</span>);</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Create the Application using the scheduler definition and the</span></div>
<div class="line"><span class="comment">     * management context</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    hApp = <a class="code hl_function" href="group__app.html#gaf81c716c9611c792b9c5a113e4465b39">ofc_app_create</a>(hScheduler, &amp;StreamTestAppDef, streamTest);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (hDone != <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>) {</div>
<div class="line">        <a id="a88" name="a88"></a><a class="code hl_function" href="group__app.html#ga5d0778904579b4c479bd476c09f852cf">ofc_app_set_wait</a>(hApp, hDone);</div>
<div class="line">        <a id="a89" name="a89"></a><a class="code hl_function" href="group__event.html#ga2bd3fd123b13313abbda2de1fb89d76f">ofc_event_wait</a>(hDone);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if defined(OFC_DISCOVER_IPV6)</span></div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Now IPv6. Allocate a management context for the socket server application</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    streamTest = <a class="code hl_function" href="heap_8h.html#ad8c64ed33575e33e794ed8513bf6c2bd">ofc_malloc</a>(<span class="keyword">sizeof</span>(OFC_STREAM_TEST));</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Initialize the state and note the scheduler the app is part of</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    streamTest-&gt;family = <a class="code hl_enumvalue" href="group__net.html#gga2a5805726c2bbe30517485c88a6130b8a28512a6d5786615e3f71e40b5771ff09">OFC_FAMILY_IPV6</a>;</div>
<div class="line">    streamTest-&gt;count = 0;</div>
<div class="line">    streamTest-&gt;state = STREAM_TEST_STATE_IDLE;</div>
<div class="line">    streamTest-&gt;scheduler = hScheduler;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Creating Stream Test Application for IPv6\n&quot;</span>);</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Create the Application using the scheduler definition and the</span></div>
<div class="line"><span class="comment">     * management context</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    hApp = <a class="code hl_function" href="group__app.html#gaf81c716c9611c792b9c5a113e4465b39">ofc_app_create</a>(hScheduler, &amp;StreamTestAppDef, streamTest);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (hDone != <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>) {</div>
<div class="line">        <a class="code hl_function" href="group__app.html#ga5d0778904579b4c479bd476c09f852cf">ofc_app_set_wait</a>(hApp, hDone);</div>
<div class="line">        <a class="code hl_function" href="group__event.html#ga2bd3fd123b13313abbda2de1fb89d76f">ofc_event_wait</a>(hDone);</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST_GROUP_RUNNER(stream) {</div>
<div class="line">    RUN_TEST_CASE(stream, test_stream);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if !defined(NO_MAIN)</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> runAllTests(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">  RUN_TEST_GROUP(stream);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span> UnityMain(argc, argv, runAllTests);</div>
<div class="line">}</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="ttc" id="aapp_8h_html"><div class="ttname"><a href="app_8h.html">app.h</a></div></div>
<div class="ttc" id="acore_8h_html"><div class="ttname"><a href="core_8h.html">core.h</a></div></div>
<div class="ttc" id="aenv_8h_html"><div class="ttname"><a href="env_8h.html">env.h</a></div></div>
<div class="ttc" id="aevent_8h_html"><div class="ttname"><a href="event_8h.html">event.h</a></div></div>
<div class="ttc" id="aframework_8h_html"><div class="ttname"><a href="framework_8h.html">framework.h</a></div></div>
<div class="ttc" id="agroup___general_config_html_ga1f6059c2ee19e01daad61e7f1c386687"><div class="ttname"><a href="group___general_config.html#ga1f6059c2ee19e01daad61e7f1c386687">ofc_persist_set_interface_type</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_persist_set_interface_type(OFC_CONFIG_ICONFIG_TYPE itype)</div></div>
<div class="ttc" id="agroup___general_config_html_ga5650223c9f655c228c9ab911e689d890"><div class="ttname"><a href="group___general_config.html#ga5650223c9f655c228c9ab911e689d890">ofc_persist_interface_addr</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_persist_interface_addr(OFC_INT index, OFC_IPADDR *addr, OFC_IPADDR *pbcast, OFC_IPADDR *mask)</div></div>
<div class="ttc" id="agroup___general_config_html_ga7787a950f9a1748a1e438dd390a35c11"><div class="ttname"><a href="group___general_config.html#ga7787a950f9a1748a1e438dd390a35c11">ofc_persist_set_uuid</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_persist_set_uuid(OFC_UUID *uuid)</div></div>
<div class="ttc" id="agroup___general_config_html_ga7c04270e80a742d733c9d2ed47a9e9ca"><div class="ttname"><a href="group___general_config.html#ga7c04270e80a742d733c9d2ed47a9e9ca">ofc_persist_interface_count</a></div><div class="ttdeci">OFC_CORE_LIB OFC_INT ofc_persist_interface_count(OFC_VOID)</div></div>
<div class="ttc" id="agroup___general_config_html_gaa07982a465349f46230c27657868849a"><div class="ttname"><a href="group___general_config.html#gaa07982a465349f46230c27657868849a">ofc_persist_default</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_persist_default(OFC_VOID)</div></div>
<div class="ttc" id="agroup___general_config_html_gaa548ca9395f8cbce7fb7c781a83c2975"><div class="ttname"><a href="group___general_config.html#gaa548ca9395f8cbce7fb7c781a83c2975">ofc_persist_set_node_name</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_persist_set_node_name(OFC_LPCTSTR name, OFC_LPCTSTR workgroup, OFC_LPCTSTR desc)</div></div>
<div class="ttc" id="agroup___general_config_html_gad93392cdf98eb5ca78c41c48787fd292"><div class="ttname"><a href="group___general_config.html#gad93392cdf98eb5ca78c41c48787fd292">ofc_persist_unregister_update</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_persist_unregister_update(OFC_HANDLE hEvent)</div></div>
<div class="ttc" id="agroup___general_config_html_gae73cbbce273bb3a95fb07a110b337a0a"><div class="ttname"><a href="group___general_config.html#gae73cbbce273bb3a95fb07a110b337a0a">ofc_persist_register_update</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_persist_register_update(OFC_HANDLE hEvent)</div></div>
<div class="ttc" id="agroup___open_html_ga32ac156d48bacc58b04f8184c9ed0f11"><div class="ttname"><a href="group___open.html#ga32ac156d48bacc58b04f8184c9ed0f11">ofc_timer_create</a></div><div class="ttdeci">OFC_CORE_LIB OFC_HANDLE ofc_timer_create(OFC_CCHAR *id)</div></div>
<div class="ttc" id="agroup___open_html_ga8564df7a40fc7c2393059e7e6a72aa3c"><div class="ttname"><a href="group___open.html#ga8564df7a40fc7c2393059e7e6a72aa3c">ofc_timer_set</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_timer_set(OFC_HANDLE hTimer, OFC_MSTIME delta)</div></div>
<div class="ttc" id="agroup___open_html_gab48508d9016a5a4dd37ac3fd383998bf"><div class="ttname"><a href="group___open.html#gab48508d9016a5a4dd37ac3fd383998bf">ofc_timer_destroy</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_timer_destroy(OFC_HANDLE hTimer)</div></div>
<div class="ttc" id="agroup__app_html_ga24dd7dd70ba161e7496fe76781733c66"><div class="ttname"><a href="group__app.html#ga24dd7dd70ba161e7496fe76781733c66">ofc_app_get_data</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID * ofc_app_get_data(OFC_HANDLE hApp)</div></div>
<div class="ttc" id="agroup__app_html_ga2f5fba0b153b3bd31f6c8f3fb4b54ba0"><div class="ttname"><a href="group__app.html#ga2f5fba0b153b3bd31f6c8f3fb4b54ba0">ofc_app_kill</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_app_kill(OFC_HANDLE app)</div></div>
<div class="ttc" id="agroup__app_html_ga5d0778904579b4c479bd476c09f852cf"><div class="ttname"><a href="group__app.html#ga5d0778904579b4c479bd476c09f852cf">ofc_app_set_wait</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_app_set_wait(OFC_HANDLE hApp, OFC_HANDLE hNotify)</div></div>
<div class="ttc" id="agroup__app_html_ga838d2aaa9526cfb88b52f7ef11c0e91a"><div class="ttname"><a href="group__app.html#ga838d2aaa9526cfb88b52f7ef11c0e91a">ofc_app_destroying</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL ofc_app_destroying(OFC_HANDLE hApp)</div></div>
<div class="ttc" id="agroup__app_html_gaf81c716c9611c792b9c5a113e4465b39"><div class="ttname"><a href="group__app.html#gaf81c716c9611c792b9c5a113e4465b39">ofc_app_create</a></div><div class="ttdeci">OFC_CORE_LIB OFC_HANDLE ofc_app_create(OFC_HANDLE scheduler, OFC_APP_TEMPLATE *template, OFC_VOID *app_data)</div></div>
<div class="ttc" id="agroup__env_html_ga8e497cb8df92ceb5b824c262406cec34"><div class="ttname"><a href="group__env.html#ga8e497cb8df92ceb5b824c262406cec34">ofc_env_get</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL ofc_env_get(OFC_ENV_VALUE value, OFC_TCHAR *ptr, OFC_SIZET len)</div></div>
<div class="ttc" id="agroup__env_html_gga49e3bd4d9c8346c878a0064bd4822b4fa240ba5bfc2ee11d629fd65a16017ed78"><div class="ttname"><a href="group__env.html#gga49e3bd4d9c8346c878a0064bd4822b4fa240ba5bfc2ee11d629fd65a16017ed78">OFC_ENV_HOME</a></div><div class="ttdeci">@ OFC_ENV_HOME</div><div class="ttdef"><b>Definition:</b> env.h:25</div></div>
<div class="ttc" id="agroup__event_html_ga0a92f5a8350c549f2e6f40003ca7ac42"><div class="ttname"><a href="group__event.html#ga0a92f5a8350c549f2e6f40003ca7ac42">ofc_event_destroy</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_event_destroy(OFC_HANDLE hEvent)</div></div>
<div class="ttc" id="agroup__event_html_ga2bd3fd123b13313abbda2de1fb89d76f"><div class="ttname"><a href="group__event.html#ga2bd3fd123b13313abbda2de1fb89d76f">ofc_event_wait</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_event_wait(OFC_HANDLE hEvent)</div></div>
<div class="ttc" id="agroup__event_html_gacaba0c262bff4c385f5c090af15b4b70"><div class="ttname"><a href="group__event.html#gacaba0c262bff4c385f5c090af15b4b70">ofc_event_create</a></div><div class="ttdeci">OFC_CORE_LIB OFC_HANDLE ofc_event_create(OFC_EVENT_TYPE eventType)</div></div>
<div class="ttc" id="agroup__event_html_gga0239eb43aac1335ccd0f36ee7753640aa83d4daa6e33f6de56c6c4dd5ff202e7d"><div class="ttname"><a href="group__event.html#gga0239eb43aac1335ccd0f36ee7753640aa83d4daa6e33f6de56c6c4dd5ff202e7d">OFC_EVENT_AUTO</a></div><div class="ttdeci">@ OFC_EVENT_AUTO</div><div class="ttdef"><b>Definition:</b> event.h:27</div></div>
<div class="ttc" id="agroup__file_html_ga09b5d39d7aef15fea5c9d5204005ccc5"><div class="ttname"><a href="group__file.html#ga09b5d39d7aef15fea5c9d5204005ccc5">OFC_MAX_PATH</a></div><div class="ttdeci">#define OFC_MAX_PATH</div><div class="ttdef"><b>Definition:</b> file.h:56</div></div>
<div class="ttc" id="agroup__framework_html_ga2baec341257bdeaa4f7d6010b9104a3e"><div class="ttname"><a href="group__framework.html#ga2baec341257bdeaa4f7d6010b9104a3e">ofc_framework_load</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_framework_load(OFC_LPCTSTR filename)</div></div>
<div class="ttc" id="agroup__framework_html_ga3e0d4a507e024f156f1ba3820532c95f"><div class="ttname"><a href="group__framework.html#ga3e0d4a507e024f156f1ba3820532c95f">ofc_framework_destroy</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_framework_destroy(OFC_VOID)</div></div>
<div class="ttc" id="agroup__framework_html_ga4716b3a5452f995ff079e843e546ae5b"><div class="ttname"><a href="group__framework.html#ga4716b3a5452f995ff079e843e546ae5b">ofc_framework_shutdown</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_framework_shutdown(OFC_VOID)</div></div>
<div class="ttc" id="agroup__framework_html_gac64936905de56b3172e2673ca45ea064"><div class="ttname"><a href="group__framework.html#gac64936905de56b3172e2673ca45ea064">ofc_framework_init</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_framework_init(OFC_VOID)</div></div>
<div class="ttc" id="agroup__handle_html_ga5d921c930d24f3f028514a33ca010d6e"><div class="ttname"><a href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a></div><div class="ttdeci">#define OFC_HANDLE_NULL</div><div class="ttdef"><b>Definition:</b> handle.h:46</div></div>
<div class="ttc" id="agroup__handle_html_gac7785fcbfe090dee8079c6e56bf31493"><div class="ttname"><a href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a></div><div class="ttdeci">OFC_DWORD_PTR OFC_HANDLE</div><div class="ttdef"><b>Definition:</b> handle.h:25</div></div>
<div class="ttc" id="agroup__libc_html_ga6c04dd9a79235a7ea27a51945294bc21"><div class="ttname"><a href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_printf(OFC_CCHAR *fmt,...)</div></div>
<div class="ttc" id="agroup__libc_html_ga84338729add0a2e51c550566d6d4ad70"><div class="ttname"><a href="group__libc.html#ga84338729add0a2e51c550566d6d4ad70">ofc_strlen</a></div><div class="ttdeci">OFC_CORE_LIB OFC_SIZET ofc_strlen(OFC_CCHAR *astr)</div></div>
<div class="ttc" id="agroup__libc_html_gabcb49c77efddb702672db03818ec94bb"><div class="ttname"><a href="group__libc.html#gabcb49c77efddb702672db03818ec94bb">ofc_strncpy</a></div><div class="ttdeci">OFC_CORE_LIB OFC_CHAR * ofc_strncpy(OFC_CHAR *dst, OFC_CCHAR *src, OFC_SIZET len)</div></div>
<div class="ttc" id="agroup__libc_html_gac03ee3b9338f495fea34d5773a5f6bdf"><div class="ttname"><a href="group__libc.html#gac03ee3b9338f495fea34d5773a5f6bdf">ofc_memcpy</a></div><div class="ttdeci">OFC_CORE_LIB OFC_LPVOID ofc_memcpy(OFC_LPVOID out, OFC_LPCVOID in, OFC_SIZET size)</div></div>
<div class="ttc" id="agroup__message_html_ga3e631df83287bf040155be8830a58022"><div class="ttname"><a href="group__message.html#ga3e631df83287bf040155be8830a58022">ofc_message_done</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL ofc_message_done(OFC_MESSAGE *msg)</div></div>
<div class="ttc" id="agroup__message_html_ga81f5b70e9d3f4fe715eb32d9ab7c1ff8"><div class="ttname"><a href="group__message.html#ga81f5b70e9d3f4fe715eb32d9ab7c1ff8">ofc_message_offset</a></div><div class="ttdeci">OFC_CORE_LIB OFC_INT ofc_message_offset(OFC_MESSAGE *msg)</div></div>
<div class="ttc" id="agroup__message_html_gad4abcf57c1bd1e25e8e1603772dc3cad"><div class="ttname"><a href="group__message.html#gad4abcf57c1bd1e25e8e1603772dc3cad">ofc_message_data</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID * ofc_message_data(OFC_MESSAGE *msg)</div></div>
<div class="ttc" id="agroup__message_html_gaf3619a056c54b4fbbb5f81818010f774"><div class="ttname"><a href="group__message.html#gaf3619a056c54b4fbbb5f81818010f774">ofc_message_destroy</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_message_destroy(OFC_MESSAGE *msg)</div></div>
<div class="ttc" id="agroup__message_html_gafd37c7fb73954bb2aca8d2ea6b642a3d"><div class="ttname"><a href="group__message.html#gafd37c7fb73954bb2aca8d2ea6b642a3d">ofc_message_create</a></div><div class="ttdeci">OFC_CORE_LIB OFC_MESSAGE * ofc_message_create(MSG_ALLOC_TYPE msgType, OFC_SIZET msgDataLength, OFC_VOID *msgData)</div></div>
<div class="ttc" id="agroup__message_html_ggac5142e2936c8a673bf257bf6b056c2cca35b2a748bbf1edb83365c18c543446a7"><div class="ttname"><a href="group__message.html#ggac5142e2936c8a673bf257bf6b056c2cca35b2a748bbf1edb83365c18c543446a7">MSG_ALLOC_AUTO</a></div><div class="ttdeci">@ MSG_ALLOC_AUTO</div><div class="ttdef"><b>Definition:</b> message.h:64</div></div>
<div class="ttc" id="agroup__message_html_ggac5142e2936c8a673bf257bf6b056c2ccafb23617a5da4efd9e1181d243844ba82"><div class="ttname"><a href="group__message.html#ggac5142e2936c8a673bf257bf6b056c2ccafb23617a5da4efd9e1181d243844ba82">MSG_ALLOC_HEAP</a></div><div class="ttdeci">@ MSG_ALLOC_HEAP</div><div class="ttdef"><b>Definition:</b> message.h:59</div></div>
<div class="ttc" id="agroup__net_html_ga2a5805726c2bbe30517485c88a6130b8"><div class="ttname"><a href="group__net.html#ga2a5805726c2bbe30517485c88a6130b8">OFC_FAMILY_TYPE</a></div><div class="ttdeci">OFC_FAMILY_TYPE</div><div class="ttdef"><b>Definition:</b> net.h:33</div></div>
<div class="ttc" id="agroup__net_html_ga447c4838d097a0194cb8f9a6e15c0070"><div class="ttname"><a href="group__net.html#ga447c4838d097a0194cb8f9a6e15c0070">OFC_INADDR_ANY</a></div><div class="ttdeci">#define OFC_INADDR_ANY</div><div class="ttdef"><b>Definition:</b> net.h:77</div></div>
<div class="ttc" id="agroup__net_html_ga6257918744debf3068211499e332c4ed"><div class="ttname"><a href="group__net.html#ga6257918744debf3068211499e332c4ed">IP6STR_LEN</a></div><div class="ttdeci">#define IP6STR_LEN</div><div class="ttdef"><b>Definition:</b> net.h:27</div></div>
<div class="ttc" id="agroup__net_html_ga6fa2c869606ea672de711389c66e7981"><div class="ttname"><a href="group__net.html#ga6fa2c869606ea672de711389c66e7981">ofc_ntop</a></div><div class="ttdeci">const OFC_CHAR * ofc_ntop(const OFC_IPADDR *src, OFC_CHAR *dst, OFC_SIZET size)</div></div>
<div class="ttc" id="agroup__net_html_ga970f217fe5107335e54fa474a687dc2b"><div class="ttname"><a href="group__net.html#ga970f217fe5107335e54fa474a687dc2b">ofc_net_is_addr_equal</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL ofc_net_is_addr_equal(OFC_IPADDR *ip1, OFC_IPADDR *ip2)</div></div>
<div class="ttc" id="agroup__net_html_gadec194e9fe6c6e08298b57c1a701dad9"><div class="ttname"><a href="group__net.html#gadec194e9fe6c6e08298b57c1a701dad9">ofc_in6addr_any</a></div><div class="ttdeci">OFC_IN6ADDR ofc_in6addr_any</div></div>
<div class="ttc" id="agroup__net_html_gga2a5805726c2bbe30517485c88a6130b8a28512a6d5786615e3f71e40b5771ff09"><div class="ttname"><a href="group__net.html#gga2a5805726c2bbe30517485c88a6130b8a28512a6d5786615e3f71e40b5771ff09">OFC_FAMILY_IPV6</a></div><div class="ttdeci">@ OFC_FAMILY_IPV6</div><div class="ttdef"><b>Definition:</b> net.h:41</div></div>
<div class="ttc" id="agroup__net_html_gga2a5805726c2bbe30517485c88a6130b8a2bad4126fa1b2f1a0fb8b2c0216283f9"><div class="ttname"><a href="group__net.html#gga2a5805726c2bbe30517485c88a6130b8a2bad4126fa1b2f1a0fb8b2c0216283f9">OFC_FAMILY_IP</a></div><div class="ttdeci">@ OFC_FAMILY_IP</div><div class="ttdef"><b>Definition:</b> net.h:37</div></div>
<div class="ttc" id="agroup__persist_html_ggaa0b9afc0d33831fdc5e88f6b1d72fd66ae20ba67b459f4fc1c7cc025d41b741a1"><div class="ttname"><a href="group__persist.html#ggaa0b9afc0d33831fdc5e88f6b1d72fd66ae20ba67b459f4fc1c7cc025d41b741a1">OFC_CONFIG_ICONFIG_AUTO</a></div><div class="ttdeci">@ OFC_CONFIG_ICONFIG_AUTO</div><div class="ttdef"><b>Definition:</b> persist.h:26</div></div>
<div class="ttc" id="agroup__queue_html_ga03a10bbff62f385fd37411786404a773"><div class="ttname"><a href="group__queue.html#ga03a10bbff62f385fd37411786404a773">ofc_queue_create</a></div><div class="ttdeci">OFC_CORE_LIB OFC_HANDLE ofc_queue_create(OFC_VOID)</div></div>
<div class="ttc" id="agroup__queue_html_ga14b82418bcf17df0a6b9954b5ebfd62a"><div class="ttname"><a href="group__queue.html#ga14b82418bcf17df0a6b9954b5ebfd62a">ofc_queue_destroy</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_queue_destroy(OFC_HANDLE qHead)</div></div>
<div class="ttc" id="agroup__queue_html_ga28328a2cfaf9e6e93f90d1889e6fedbe"><div class="ttname"><a href="group__queue.html#ga28328a2cfaf9e6e93f90d1889e6fedbe">ofc_queue_next</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID * ofc_queue_next(OFC_HANDLE qHead, OFC_VOID *qElement)</div></div>
<div class="ttc" id="agroup__queue_html_ga2fbec4efe10324e0ae3cb1ba46193830"><div class="ttname"><a href="group__queue.html#ga2fbec4efe10324e0ae3cb1ba46193830">ofc_enqueue</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_enqueue(OFC_HANDLE qHead, OFC_VOID *qElement)</div></div>
<div class="ttc" id="agroup__queue_html_gaad39cee1fed02b455d63644b879c2412"><div class="ttname"><a href="group__queue.html#gaad39cee1fed02b455d63644b879c2412">ofc_queue_first</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID * ofc_queue_first(OFC_HANDLE qHead)</div></div>
<div class="ttc" id="agroup__queue_html_gaeb3d21227e4f98282d453c1e313c28c1"><div class="ttname"><a href="group__queue.html#gaeb3d21227e4f98282d453c1e313c28c1">ofc_dequeue</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID * ofc_dequeue(OFC_HANDLE qHead)</div></div>
<div class="ttc" id="agroup__queue_html_gaf99f7b68ed69113cc381d3ded731281c"><div class="ttname"><a href="group__queue.html#gaf99f7b68ed69113cc381d3ded731281c">ofc_queue_unlink</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_queue_unlink(OFC_HANDLE qHead, OFC_VOID *qElement)</div></div>
<div class="ttc" id="agroup__sched_html_ga41c01df6d6077304bf6f7a8afd06524a"><div class="ttname"><a href="group__sched.html#ga41c01df6d6077304bf6f7a8afd06524a">ofc_sched_add_wait</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_sched_add_wait(OFC_HANDLE hScheduler, OFC_HANDLE hApp, OFC_HANDLE hEvent)</div></div>
<div class="ttc" id="agroup__sched_html_ga4ae35d65b359f747d25a015e8dc1f195"><div class="ttname"><a href="group__sched.html#ga4ae35d65b359f747d25a015e8dc1f195">ofc_sched_clear_wait</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_sched_clear_wait(OFC_HANDLE hScheduler, OFC_HANDLE hApp)</div></div>
<div class="ttc" id="agroup__sched_html_ga4df4eb0f0488611c3ec5ba90f42e533a"><div class="ttname"><a href="group__sched.html#ga4df4eb0f0488611c3ec5ba90f42e533a">ofc_sched_quit</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL ofc_sched_quit(OFC_HANDLE scheduler)</div></div>
<div class="ttc" id="agroup__sched_html_ga5635ae27f28a16860e261ef11a2817e9"><div class="ttname"><a href="group__sched.html#ga5635ae27f28a16860e261ef11a2817e9">ofc_sched_create</a></div><div class="ttdeci">OFC_CORE_LIB OFC_HANDLE ofc_sched_create(OFC_VOID)</div></div>
<div class="ttc" id="agroup__socket_html_ga0085a3164caf5c58f832215925ef4e26"><div class="ttname"><a href="group__socket.html#ga0085a3164caf5c58f832215925ef4e26">ofc_socket_connect</a></div><div class="ttdeci">OFC_CORE_LIB OFC_HANDLE ofc_socket_connect(const OFC_IPADDR *ip, OFC_UINT16 port)</div></div>
<div class="ttc" id="agroup__socket_html_ga108589ed3601c8c099cc857f229c5a3c"><div class="ttname"><a href="group__socket.html#ga108589ed3601c8c099cc857f229c5a3c">ofc_socket_get_addresses</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL ofc_socket_get_addresses(OFC_HANDLE hSock, OFC_SOCKADDR *local, OFC_SOCKADDR *remote)</div></div>
<div class="ttc" id="agroup__socket_html_ga1a72031ee312adaca05c8a7de9558bf8"><div class="ttname"><a href="group__socket.html#ga1a72031ee312adaca05c8a7de9558bf8">ofc_socket_test</a></div><div class="ttdeci">OFC_CORE_LIB OFC_SOCKET_EVENT_TYPE ofc_socket_test(OFC_HANDLE hSocket)</div></div>
<div class="ttc" id="agroup__socket_html_ga55398257e292f111bb4fb5ca7d831ff8"><div class="ttname"><a href="group__socket.html#ga55398257e292f111bb4fb5ca7d831ff8">ofc_socket_enable</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL ofc_socket_enable(OFC_HANDLE hSocket, OFC_SOCKET_EVENT_TYPE type)</div></div>
<div class="ttc" id="agroup__socket_html_ga9c6dd533d9306665e7938fae746f5bff"><div class="ttname"><a href="group__socket.html#ga9c6dd533d9306665e7938fae746f5bff">ofc_socket_destroy</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_socket_destroy(OFC_HANDLE hSock)</div></div>
<div class="ttc" id="agroup__socket_html_gab1bb2f760a50acd0f09aa0c5c1ceed92"><div class="ttname"><a href="group__socket.html#gab1bb2f760a50acd0f09aa0c5c1ceed92">ofc_socket_write</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL ofc_socket_write(OFC_HANDLE hSocket, OFC_MESSAGE *msg)</div></div>
<div class="ttc" id="agroup__socket_html_gab6e34f5054123a0b4e0158aa671c7c5c"><div class="ttname"><a href="group__socket.html#gab6e34f5054123a0b4e0158aa671c7c5c">ofc_socket_connected</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL ofc_socket_connected(OFC_HANDLE hSocket)</div></div>
<div class="ttc" id="agroup__socket_html_gacb921df0ad9c97497e56c5bfbe623e9e"><div class="ttname"><a href="group__socket.html#gacb921df0ad9c97497e56c5bfbe623e9e">ofc_socket_listen</a></div><div class="ttdeci">OFC_CORE_LIB OFC_HANDLE ofc_socket_listen(const OFC_IPADDR *ip, OFC_UINT16 port)</div></div>
<div class="ttc" id="agroup__socket_html_gae8ebfba34d6dd3e6c0dd4ca37f6be441"><div class="ttname"><a href="group__socket.html#gae8ebfba34d6dd3e6c0dd4ca37f6be441">OFC_SOCKET_EVENT_TYPE</a></div><div class="ttdeci">OFC_SOCKET_EVENT_TYPE</div><div class="ttdef"><b>Definition:</b> socket.h:77</div></div>
<div class="ttc" id="agroup__socket_html_gaf0a740091305d0aa175cf1ff977dccaf"><div class="ttname"><a href="group__socket.html#gaf0a740091305d0aa175cf1ff977dccaf">ofc_socket_read</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL ofc_socket_read(OFC_HANDLE hSocket, OFC_MESSAGE *msg)</div></div>
<div class="ttc" id="agroup__socket_html_gaf574ce1d68e6bf76af6e7e9e4aed5af3"><div class="ttname"><a href="group__socket.html#gaf574ce1d68e6bf76af6e7e9e4aed5af3">ofc_socket_accept</a></div><div class="ttdeci">OFC_CORE_LIB OFC_HANDLE ofc_socket_accept(OFC_HANDLE hMasterSocket)</div></div>
<div class="ttc" id="agroup__socket_html_ggae8ebfba34d6dd3e6c0dd4ca37f6be441a2066031212556e3a77cdf3d09cacf99f"><div class="ttname"><a href="group__socket.html#ggae8ebfba34d6dd3e6c0dd4ca37f6be441a2066031212556e3a77cdf3d09cacf99f">OFC_SOCKET_EVENT_READ</a></div><div class="ttdeci">@ OFC_SOCKET_EVENT_READ</div><div class="ttdef"><b>Definition:</b> socket.h:103</div></div>
<div class="ttc" id="agroup__socket_html_ggae8ebfba34d6dd3e6c0dd4ca37f6be441a4d9834602aa33be637b79fb5ea2c3ed1"><div class="ttname"><a href="group__socket.html#ggae8ebfba34d6dd3e6c0dd4ca37f6be441a4d9834602aa33be637b79fb5ea2c3ed1">OFC_SOCKET_EVENT_WRITE</a></div><div class="ttdeci">@ OFC_SOCKET_EVENT_WRITE</div><div class="ttdef"><b>Definition:</b> socket.h:107</div></div>
<div class="ttc" id="agroup__socket_html_ggae8ebfba34d6dd3e6c0dd4ca37f6be441a940bc3b76ff753d7187e8e44a907b670"><div class="ttname"><a href="group__socket.html#ggae8ebfba34d6dd3e6c0dd4ca37f6be441a940bc3b76ff753d7187e8e44a907b670">OFC_SOCKET_EVENT_ACCEPT</a></div><div class="ttdeci">@ OFC_SOCKET_EVENT_ACCEPT</div><div class="ttdef"><b>Definition:</b> socket.h:86</div></div>
<div class="ttc" id="agroup__socket_html_ggae8ebfba34d6dd3e6c0dd4ca37f6be441a9820d216296f3e2bed5e8ec0a000b84d"><div class="ttname"><a href="group__socket.html#ggae8ebfba34d6dd3e6c0dd4ca37f6be441a9820d216296f3e2bed5e8ec0a000b84d">OFC_SOCKET_EVENT_CLOSE</a></div><div class="ttdeci">@ OFC_SOCKET_EVENT_CLOSE</div><div class="ttdef"><b>Definition:</b> socket.h:81</div></div>
<div class="ttc" id="agroup__types_html_ga193c14ba7198a0d9f27e988fe40596af"><div class="ttname"><a href="group__types.html#ga193c14ba7198a0d9f27e988fe40596af">OFC_UUID</a></div><div class="ttdeci">OFC_UCHAR OFC_UUID[OFC_UUID_LEN]</div><div class="ttdef"><b>Definition:</b> types.h:531</div></div>
<div class="ttc" id="agroup__types_html_ga1d0eb49c3b53d2bd0f3b7133fbd89b79"><div class="ttname"><a href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a></div><div class="ttdeci">void OFC_VOID</div><div class="ttdef"><b>Definition:</b> types.h:74</div></div>
<div class="ttc" id="agroup__types_html_ga2912ed518e9a6b6e8d4b7dddd63ed32a"><div class="ttname"><a href="group__types.html#ga2912ed518e9a6b6e8d4b7dddd63ed32a">OFC_UINT32</a></div><div class="ttdeci">unsigned long int OFC_UINT32</div><div class="ttdef"><b>Definition:</b> types.h:93</div></div>
<div class="ttc" id="agroup__types_html_ga514ba03613d758bf513a67f1e20038b5"><div class="ttname"><a href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a></div><div class="ttdeci">OFC_UINT8 OFC_BOOL</div><div class="ttdef"><b>Definition:</b> types.h:539</div></div>
<div class="ttc" id="agroup__types_html_ga97d7f7d1cf7b65b459ef84aac4560eff"><div class="ttname"><a href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a></div><div class="ttdeci">OFC_WCHAR OFC_TCHAR</div><div class="ttdef"><b>Definition:</b> types.h:378</div></div>
<div class="ttc" id="agroup__types_html_gabc39024c4f7c024b0650ed0ed8c1b189"><div class="ttname"><a href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a></div><div class="ttdeci">#define OFC_NULL</div><div class="ttdef"><b>Definition:</b> types.h:557</div></div>
<div class="ttc" id="agroup__types_html_gac2110726efd50615f8d90967c6246f21"><div class="ttname"><a href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a></div><div class="ttdeci">char OFC_CHAR</div><div class="ttdef"><b>Definition:</b> types.h:58</div></div>
<div class="ttc" id="agroup__types_html_gadbd0734a648c3f38a151c332c750fc76"><div class="ttname"><a href="group__types.html#gadbd0734a648c3f38a151c332c750fc76">TSTR</a></div><div class="ttdeci">#define TSTR(x)</div><div class="ttdef"><b>Definition:</b> types.h:449</div></div>
<div class="ttc" id="agroup__types_html_gae6c827cacf3c29409ed29e8774910fb5"><div class="ttname"><a href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a></div><div class="ttdeci">int OFC_INT</div><div class="ttdef"><b>Definition:</b> types.h:34</div></div>
<div class="ttc" id="agroup__types_html_gaeb93d953e7773b40b433444ad8d95424"><div class="ttname"><a href="group__types.html#gaeb93d953e7773b40b433444ad8d95424">OFC_SIZET</a></div><div class="ttdeci">long int OFC_SIZET</div><div class="ttdef"><b>Definition:</b> types.h:30</div></div>
<div class="ttc" id="agroup__types_html_ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695"><div class="ttname"><a href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a></div><div class="ttdeci">@ OFC_FALSE</div><div class="ttdef"><b>Definition:</b> types.h:547</div></div>
<div class="ttc" id="agroup__types_html_ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1"><div class="ttname"><a href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a></div><div class="ttdeci">@ OFC_TRUE</div><div class="ttdef"><b>Definition:</b> types.h:551</div></div>
<div class="ttc" id="ahandle_8h_html"><div class="ttname"><a href="handle_8h.html">handle.h</a></div></div>
<div class="ttc" id="aheap_8h_html"><div class="ttname"><a href="heap_8h.html">heap.h</a></div></div>
<div class="ttc" id="aheap_8h_html_a5a49018302f46f31be1ba2026413fc22"><div class="ttname"><a href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_free(OFC_LPVOID mem)</div></div>
<div class="ttc" id="aheap_8h_html_ad8c64ed33575e33e794ed8513bf6c2bd"><div class="ttname"><a href="heap_8h.html#ad8c64ed33575e33e794ed8513bf6c2bd">ofc_malloc</a></div><div class="ttdeci">OFC_CORE_LIB OFC_LPVOID ofc_malloc(OFC_SIZET size)</div></div>
<div class="ttc" id="alibc_8h_html"><div class="ttname"><a href="libc_8h.html">libc.h</a></div></div>
<div class="ttc" id="amessage_8h_html"><div class="ttname"><a href="message_8h.html">message.h</a></div></div>
<div class="ttc" id="anet_8h_html"><div class="ttname"><a href="net_8h.html">net.h</a></div></div>
<div class="ttc" id="apersist_8h_html"><div class="ttname"><a href="persist_8h.html">persist.h</a></div></div>
<div class="ttc" id="aqueue_8h_html"><div class="ttname"><a href="queue_8h.html">queue.h</a></div></div>
<div class="ttc" id="asched_8h_html"><div class="ttname"><a href="sched_8h.html">sched.h</a></div></div>
<div class="ttc" id="asocket_8h_html"><div class="ttname"><a href="socket_8h.html">socket.h</a></div></div>
<div class="ttc" id="astruct___o_f_c___a_p_p___t_e_m_p_l_a_t_e_html"><div class="ttname"><a href="struct___o_f_c___a_p_p___t_e_m_p_l_a_t_e.html">_OFC_APP_TEMPLATE</a></div><div class="ttdef"><b>Definition:</b> app.h:48</div></div>
<div class="ttc" id="astruct___o_f_c___m_e_s_s_a_g_e_html"><div class="ttname"><a href="struct___o_f_c___m_e_s_s_a_g_e.html">_OFC_MESSAGE</a></div><div class="ttdef"><b>Definition:</b> message.h:96</div></div>
<div class="ttc" id="astruct___o_f_c___s_o_c_k_a_d_d_r_html"><div class="ttname"><a href="struct___o_f_c___s_o_c_k_a_d_d_r.html">_OFC_SOCKADDR</a></div><div class="ttdef"><b>Definition:</b> net.h:107</div></div>
<div class="ttc" id="astruct___o_f_c___s_o_c_k_a_d_d_r_html_a77191413f0e2d65e9c22f39a5b697a94"><div class="ttname"><a href="struct___o_f_c___s_o_c_k_a_d_d_r.html#a77191413f0e2d65e9c22f39a5b697a94">_OFC_SOCKADDR::sin_addr</a></div><div class="ttdeci">OFC_IPADDR sin_addr</div><div class="ttdef"><b>Definition:</b> net.h:110</div></div>
<div class="ttc" id="astruct___o_f_c___s_o_c_k_a_d_d_r_html_ad618a27142f5f8eb458b35a1ddb68c45"><div class="ttname"><a href="struct___o_f_c___s_o_c_k_a_d_d_r.html#ad618a27142f5f8eb458b35a1ddb68c45">_OFC_SOCKADDR::sin_port</a></div><div class="ttdeci">OFC_UINT16 sin_port</div><div class="ttdef"><b>Definition:</b> net.h:109</div></div>
<div class="ttc" id="astruct_o_f_c___i_n_a_d_d_r_html_ab28dc7e0a20e30f48a92889984a6cfe9"><div class="ttname"><a href="struct_o_f_c___i_n_a_d_d_r.html#ab28dc7e0a20e30f48a92889984a6cfe9">OFC_INADDR::addr</a></div><div class="ttdeci">OFC_UINT32 addr</div><div class="ttdef"><b>Definition:</b> net.h:56</div></div>
<div class="ttc" id="astruct_o_f_c___i_p_a_d_d_r_html"><div class="ttname"><a href="struct_o_f_c___i_p_a_d_d_r.html">OFC_IPADDR</a></div><div class="ttdef"><b>Definition:</b> net.h:66</div></div>
<div class="ttc" id="astruct_o_f_c___i_p_a_d_d_r_html_a4ba6b48226f0b6b074a86837d0d17e10"><div class="ttname"><a href="struct_o_f_c___i_p_a_d_d_r.html#a4ba6b48226f0b6b074a86837d0d17e10">OFC_IPADDR::ip_version</a></div><div class="ttdeci">OFC_FAMILY_TYPE ip_version</div><div class="ttdef"><b>Definition:</b> net.h:67</div></div>
<div class="ttc" id="astruct_o_f_c___i_p_a_d_d_r_html_ad5cf493618e87875c6c36df4d9ae7d64"><div class="ttname"><a href="struct_o_f_c___i_p_a_d_d_r.html#ad5cf493618e87875c6c36df4d9ae7d64">OFC_IPADDR::u</a></div><div class="ttdeci">union OFC_IPADDR::@8 u</div></div>
<div class="ttc" id="astruct_o_f_c___i_p_a_d_d_r_html_adbc5b478bee65a786e61c179e345858a"><div class="ttname"><a href="struct_o_f_c___i_p_a_d_d_r.html#adbc5b478bee65a786e61c179e345858a">OFC_IPADDR::ipv6</a></div><div class="ttdeci">OFC_IN6ADDR ipv6</div><div class="ttdef"><b>Definition:</b> net.h:70</div></div>
<div class="ttc" id="astruct_o_f_c___i_p_a_d_d_r_html_ae8c06f1af7fd8757125a34bc41d8d9a4"><div class="ttname"><a href="struct_o_f_c___i_p_a_d_d_r.html#ae8c06f1af7fd8757125a34bc41d8d9a4">OFC_IPADDR::ipv4</a></div><div class="ttdeci">OFC_INADDR ipv4</div><div class="ttdef"><b>Definition:</b> net.h:69</div></div>
<div class="ttc" id="atimer_8h_html"><div class="ttname"><a href="timer_8h.html">timer.h</a></div></div>
<div class="ttc" id="atypes_8h_html"><div class="ttname"><a href="types_8h.html">types.h</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
