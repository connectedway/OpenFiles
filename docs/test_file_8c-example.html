<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open Files: test_file.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="connected.ico" type="image/x-icon" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="connected.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Open Files<span id="projectnumber">&#160;5.0.1</span>
   </div>
   <div id="projectbrief">Multi-Platform Event-Driven Application Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('test_file_8c-example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">test_file.c</div></div>
</div><!--header-->
<div class="contents">
<p >This is an example of using files and timers in an threaded application.</p>
<div class="fragment"><div class="line"><span class="comment">/* Copyright (c) 2021 Connected Way, LLC. All rights reserved.</span></div>
<div class="line"><span class="comment"> * Use of this source code is governed by a Creative Commons </span></div>
<div class="line"><span class="comment"> * Attribution-NoDerivatives 4.0 International license that can be</span></div>
<div class="line"><span class="comment"> * found in the LICENSE file.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="preprocessor">#include &quot;ofc/config.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="types_8h.html">ofc/types.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="handle_8h.html">ofc/handle.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="queue_8h.html">ofc/queue.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="path_8h.html">ofc/path.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="libc_8h.html">ofc/libc.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="time_8h.html">ofc/time.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="thread_8h.html">ofc/thread.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="event_8h.html">ofc/event.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="waitset_8h.html">ofc/waitset.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="console_8h.html">ofc/console.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="process_8h.html">ofc/process.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="heap_8h.html">ofc/heap.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="file_8h.html">ofc/file.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define OFC_FS_TEST_INTERVAL 1000</span></div>
<div class="line"><span class="preprocessor">#define OFC_FILE_TEST_COUNT 2</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * This application demonstrates the API to the Open File I/O Facility</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * The Open File I/O Facility is the primary interface fo the</span></div>
<div class="line"><span class="comment"> * Open Files SMB Client.  Once the SMB client is configured, network</span></div>
<div class="line"><span class="comment"> * files are abstracted through this API.  Whether files are access over</span></div>
<div class="line"><span class="comment"> * the network, or local the the system that the application is running on</span></div>
<div class="line"><span class="comment"> * is transparent to the running application.  The location of the files</span></div>
<div class="line"><span class="comment"> * (whether local or remote) is encoded in the file path.  The file name</span></div>
<div class="line"><span class="comment"> * can explicitly specify a remote file using a UNC or SMB URL.  The file</span></div>
<div class="line"><span class="comment"> * name can also specify a local path that is mapped to a UNC or SMB URL.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Forward declaration of the File System Test Thread</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> OfcFSTestApp(<a class="code hl_typedef" href="group__path.html#gaf14bbc0d56b2ae5e34625075846601d2">OFC_PATH</a> *path);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * This test utility will map the destination file location to the device</span></div>
<div class="line"><span class="comment"> * &#39;FS_TEST&#39;.  The typical situation would likely have the application</span></div>
<div class="line"><span class="comment"> * specifying the path directly and not using a map.  In our case, the</span></div>
<div class="line"><span class="comment"> * advantage of the map is that we direct the target of the test simply</span></div>
<div class="line"><span class="comment"> * by changing the map.  The rest of the application remains unchanged.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * This test can be used to test the local file system abstraction</span></div>
<div class="line"><span class="comment"> * or can be used to test the CIFS file system abstraction.  Also,</span></div>
<div class="line"><span class="comment"> * by using a loopback address to the CIFS url, we can exercise the</span></div>
<div class="line"><span class="comment"> * CIFS Server as well.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * These are various file and directory names.  There is nothing special</span></div>
<div class="line"><span class="comment"> * about any of these names.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="preprocessor">#define FS_TEST_READ TSTR(&quot;copy.from&quot;</span>)</div>
<div class="line"><span class="preprocessor">#define FS_TEST_WRITE TSTR(&quot;copy.to&quot;</span>)</div>
<div class="line"><span class="preprocessor">#define FS_TEST_DELETE TSTR(&quot;delete.me&quot;</span>)</div>
<div class="line"><span class="preprocessor">#define FS_TEST_RENAME TSTR(&quot;directory\\rename.me&quot;</span>)</div>
<div class="line"><span class="preprocessor">#define FS_TEST_RENAMETO TSTR(&quot;directory\\new.me&quot;</span>)</div>
<div class="line"><span class="preprocessor">#define FS_TEST_RENAMETO_ROOT TSTR(&quot;new.me&quot;</span>)</div>
<div class="line"><span class="preprocessor">#define FS_TEST_FLUSH TSTR(&quot;flush.me&quot;</span>)</div>
<div class="line"><span class="preprocessor">#define FS_TEST_DIRECTORY TSTR(&quot;directory&quot;</span>)</div>
<div class="line"><span class="preprocessor">#define FS_TEST_SETEOF TSTR(&quot;seteof.txt&quot;</span>)</div>
<div class="line"><span class="preprocessor">#define FS_TEST_GETEX TSTR(&quot;getex.txt&quot;</span>)</div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Buffering definitions.  We test using overlapped asynchronous I/O.  This</span></div>
<div class="line"><span class="comment"> * implies multi-buffering</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * The Buffer Size</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="preprocessor">#define BUFFER_SIZE 4096</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * And the number of buffers</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="preprocessor">#define NUM_FILE_BUFFERS 4</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Define buffer states.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line">    BUFFER_STATE_IDLE,        <span class="comment">/* There is no I/O active */</span></div>
<div class="line">    BUFFER_STATE_READ,        <span class="comment">/* Data is being read into the buffer */</span></div>
<div class="line">    BUFFER_STATE_WRITE        <span class="comment">/* Data is being written from the buffer */</span></div>
<div class="line">} BUFFER_STATE;</div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * The buffer context</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Currently, handles to the overlapped i/o context may be platform</span></div>
<div class="line"><span class="comment"> * dependent.  Because of this, an overlapped i/o may not be shared</span></div>
<div class="line"><span class="comment"> * between files unless it is guaranteed that the files are on the</span></div>
<div class="line"><span class="comment"> * same device (using the same type of overlapped context).</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Ideally, overlapped I/Os should be platform independent. This will</span></div>
<div class="line"><span class="comment"> * require changes to the way overlapped handles are managed.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> readOverlapped;    <span class="comment">/* The handle to the buffer when reading */</span></div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> writeOverlapped;    <span class="comment">/* The handle to the buffer when writing */</span></div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *data;        <span class="comment">/* Pointer to the buffer */</span></div>
<div class="line">    BUFFER_STATE state;        <span class="comment">/* Buffer state */</span></div>
<div class="line">    <a id="_a0" name="_a0"></a><a class="code hl_struct" href="struct_o_f_c___i_n_t64.html">OFC_LARGE_INTEGER</a> offset;    <span class="comment">/* Offset in file for I/O */</span></div>
<div class="line">} OFC_FILE_BUFFER;</div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Result of Async I/O</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * This essentially is a OFC_BOOL with the addition of a PENDING flag</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line">    ASYNC_RESULT_DONE,        <span class="comment">/* I/O is successful */</span></div>
<div class="line">    ASYNC_RESULT_ERROR,        <span class="comment">/* I/O was in error */</span></div>
<div class="line">    ASYNC_RESULT_EOF,        <span class="comment">/* I/O hit EOF */</span></div>
<div class="line">    ASYNC_RESULT_PENDING    <span class="comment">/* I/O is still pending */</span></div>
<div class="line">} ASYNC_RESULT;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Perform an I/O Read</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * \param wait_set</span></div>
<div class="line"><span class="comment"> * The wait set that this I/O and it&#39;s overlapped handles will be part of</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * \param read_file</span></div>
<div class="line"><span class="comment"> * Handle of read file</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * \param buffer</span></div>
<div class="line"><span class="comment"> * Pointer to buffer to read into</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * \param dwLen</span></div>
<div class="line"><span class="comment"> * Length of buffer to read</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * \returns</span></div>
<div class="line"><span class="comment"> * OFC_TRUE if success, OFC_FALSE otherwise</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> ASYNC_RESULT</div>
<div class="line">AsyncRead(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> wait_set, <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> read_file,</div>
<div class="line">          OFC_FILE_BUFFER *buffer, <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwLen) {</div>
<div class="line">    ASYNC_RESULT result;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> status;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * initialize the read buffer using the read file, the read overlapped</span></div>
<div class="line"><span class="comment">   * handle and the current read offset</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    <a id="a1" name="a1"></a><a class="code hl_define" href="group__libc.html#gae65af559370b72ac628b006e3180be8b">ofc_trace</a> (<span class="stringliteral">&quot;Reading 0x%08x\n&quot;</span>, <a id="a2" name="a2"></a><a class="code hl_define" href="group__types.html#ga1cb0903d2f2959b8e421b5ee9a34c9ae">OFC_LARGE_INTEGER_LOW</a>(buffer-&gt;offset));</div>
<div class="line">    <a id="a3" name="a3"></a><a class="code hl_function" href="group__file.html#gac3d3af8ce3dcda3981dfd00c5aadcab7">OfcSetOverlappedOffset</a>(read_file, buffer-&gt;readOverlapped, buffer-&gt;offset);</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * Set the state to reading</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    buffer-&gt;state = BUFFER_STATE_READ;</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * Add the buffer to the wait set</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    <a id="a4" name="a4"></a><a class="code hl_function" href="group__waitset.html#ga644556bb0d8ae20c592527baaab59d62">ofc_waitset_add</a>(wait_set, (<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a>) buffer, buffer-&gt;readOverlapped);</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * Issue the read (this will be non blocking)</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    status = <a id="a5" name="a5"></a><a class="code hl_function" href="group__file.html#gab8df78cf5685582d2d7e55b9db8ef9f8">OfcReadFile</a>(read_file, buffer-&gt;data, dwLen,</div>
<div class="line">                         <a id="a6" name="a6"></a><a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>, buffer-&gt;readOverlapped);</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * If it completed, the status will be OFC_TRUE.  We actually expect</span></div>
<div class="line"><span class="comment">   * the status to fail and the last error to be OFC_ERROR_IO_PENDING</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    <span class="keywordflow">if</span> (status == <a id="a7" name="a7"></a><a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>)</div>
<div class="line">        result = ASYNC_RESULT_DONE;</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwLastError;</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Let&#39;s check the last error</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        dwLastError = <a id="a8" name="a8"></a><a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">        <span class="keywordflow">if</span> (dwLastError == <a id="a9" name="a9"></a><a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951ae4d6cb6c931dbc42676822a85f4e41bb">OFC_ERROR_IO_PENDING</a>) {</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * This is what we expect, so say the I/O submission succeeded</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            result = ASYNC_RESULT_PENDING;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="keywordflow">if</span> (dwLastError == <a id="a10" name="a10"></a><a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951a36ce6e9bfb418c049fcec84f3ae94b10">OFC_ERROR_HANDLE_EOF</a>)</div>
<div class="line">                result = ASYNC_RESULT_EOF;</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                result = ASYNC_RESULT_ERROR;</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * It&#39;s not pending</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            buffer-&gt;state = BUFFER_STATE_IDLE;</div>
<div class="line">            <a id="a11" name="a11"></a><a class="code hl_function" href="group__waitset.html#ga112195a7fbbc192745187b6503f0f6bf">ofc_waitset_remove</a>(wait_set, buffer-&gt;readOverlapped);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> (result);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Return the state of the read</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * \param wait_set</span></div>
<div class="line"><span class="comment"> * Wait set that the I/O should be part of</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * \param read_file</span></div>
<div class="line"><span class="comment"> * Handle to the read file</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * \param buffer</span></div>
<div class="line"><span class="comment"> * Pointer to the buffer</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * \param dwLen</span></div>
<div class="line"><span class="comment"> * Number of bytes to read / number of bytes read</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * \returns</span></div>
<div class="line"><span class="comment"> * state of the read</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> ASYNC_RESULT AsyncReadResult(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> wait_set,</div>
<div class="line">                                    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> read_file,</div>
<div class="line">                                    OFC_FILE_BUFFER *buffer,</div>
<div class="line">                                    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> *dwLen) {</div>
<div class="line">    ASYNC_RESULT result;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> status;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * Get the overlapped result</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    status = <a id="a12" name="a12"></a><a class="code hl_function" href="group__file.html#gaad0354d5ac2b94c05051168d8e822fd4">OfcGetOverlappedResult</a>(read_file, buffer-&gt;readOverlapped,</div>
<div class="line">                                    dwLen, <a id="a13" name="a13"></a><a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>);</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * If the I/O is complete, status will be true and length will be non zero</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">        <span class="keywordflow">if</span> (*dwLen == 0) {</div>
<div class="line">            result = ASYNC_RESULT_EOF;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            result = ASYNC_RESULT_DONE;</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwLastError;</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * I/O may still be pending</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">        <span class="keywordflow">if</span> (dwLastError == <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951ae4d6cb6c931dbc42676822a85f4e41bb">OFC_ERROR_IO_PENDING</a>)</div>
<div class="line">            result = ASYNC_RESULT_PENDING;</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * I/O may also be EOF</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            <span class="keywordflow">if</span> (dwLastError != <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951a36ce6e9bfb418c049fcec84f3ae94b10">OFC_ERROR_HANDLE_EOF</a>) {</div>
<div class="line">                <a id="a14" name="a14"></a><a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Read Error %d\n&quot;</span>, dwLastError);</div>
<div class="line">                result = ASYNC_RESULT_ERROR;</div>
<div class="line">            } <span class="keywordflow">else</span></div>
<div class="line">                result = ASYNC_RESULT_EOF;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (result != ASYNC_RESULT_PENDING) {</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Finish up the buffer if the I/O is no longer pending</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        buffer-&gt;state = BUFFER_STATE_IDLE;</div>
<div class="line">        <a class="code hl_function" href="group__waitset.html#ga112195a7fbbc192745187b6503f0f6bf">ofc_waitset_remove</a>(wait_set, buffer-&gt;readOverlapped);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> (result);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Submit an asynchronous Write</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> AsyncWrite(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> wait_set, <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> write_file,</div>
<div class="line">                           OFC_FILE_BUFFER *buffer, <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwLen) {</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> status;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_define" href="group__libc.html#gae65af559370b72ac628b006e3180be8b">ofc_trace</a> (<span class="stringliteral">&quot;Writing 0x%08x\n&quot;</span>, <a class="code hl_define" href="group__types.html#ga1cb0903d2f2959b8e421b5ee9a34c9ae">OFC_LARGE_INTEGER_LOW</a>(buffer-&gt;offset));</div>
<div class="line">    <a class="code hl_function" href="group__file.html#gac3d3af8ce3dcda3981dfd00c5aadcab7">OfcSetOverlappedOffset</a>(write_file, buffer-&gt;writeOverlapped,</div>
<div class="line">                           buffer-&gt;offset);</div>
<div class="line"> </div>
<div class="line">    buffer-&gt;state = BUFFER_STATE_WRITE;</div>
<div class="line">    <a class="code hl_function" href="group__waitset.html#ga644556bb0d8ae20c592527baaab59d62">ofc_waitset_add</a>(wait_set, (<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a>) buffer, buffer-&gt;writeOverlapped);</div>
<div class="line"> </div>
<div class="line">    status = <a id="a15" name="a15"></a><a class="code hl_function" href="group__file.html#gabc20702338872b1cfd1124fe3b06bf5a">OfcWriteFile</a>(write_file, buffer-&gt;data, dwLen, <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                          buffer-&gt;writeOverlapped);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">        <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwLastError;</div>
<div class="line"> </div>
<div class="line">        dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">        <span class="keywordflow">if</span> (dwLastError == <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951ae4d6cb6c931dbc42676822a85f4e41bb">OFC_ERROR_IO_PENDING</a>)</div>
<div class="line">            status = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            buffer-&gt;state = BUFFER_STATE_IDLE;</div>
<div class="line">            <a class="code hl_function" href="group__waitset.html#ga112195a7fbbc192745187b6503f0f6bf">ofc_waitset_remove</a>(wait_set, buffer-&gt;writeOverlapped);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> (status);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> ASYNC_RESULT AsyncWriteResult(<a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> wait_set,</div>
<div class="line">                                     <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> write_file,</div>
<div class="line">                                     OFC_FILE_BUFFER *buffer,</div>
<div class="line">                                     <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> *dwLen) {</div>
<div class="line">    ASYNC_RESULT result;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> status;</div>
<div class="line"> </div>
<div class="line">    status = <a class="code hl_function" href="group__file.html#gaad0354d5ac2b94c05051168d8e822fd4">OfcGetOverlappedResult</a>(write_file, buffer-&gt;writeOverlapped,</div>
<div class="line">                                    dwLen, <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>)</div>
<div class="line">        result = ASYNC_RESULT_DONE;</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwLastError;</div>
<div class="line"> </div>
<div class="line">        dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">        <span class="keywordflow">if</span> (dwLastError == <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951ae4d6cb6c931dbc42676822a85f4e41bb">OFC_ERROR_IO_PENDING</a>)</div>
<div class="line">            result = ASYNC_RESULT_PENDING;</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Write Error %d\n&quot;</span>, dwLastError);</div>
<div class="line">            result = ASYNC_RESULT_ERROR;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (result != ASYNC_RESULT_PENDING) {</div>
<div class="line">        buffer-&gt;state = BUFFER_STATE_IDLE;</div>
<div class="line">        <a class="code hl_function" href="group__waitset.html#ga112195a7fbbc192745187b6503f0f6bf">ofc_waitset_remove</a>(wait_set, buffer-&gt;writeOverlapped);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> (result);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *MakeFilename(<a class="code hl_typedef" href="group__types.html#gad3da8ad775352e263388145f6ddb7eea">OFC_CTCHAR</a> *device, <a class="code hl_typedef" href="group__types.html#gad3da8ad775352e263388145f6ddb7eea">OFC_CTCHAR</a> *name) {</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaeb93d953e7773b40b433444ad8d95424">OFC_SIZET</a> devlen;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaeb93d953e7773b40b433444ad8d95424">OFC_SIZET</a> namelen;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *filename;</div>
<div class="line"> </div>
<div class="line">    devlen = <a id="a16" name="a16"></a><a class="code hl_define" href="group__libc.html#gadddfc56e54727750a6bf656f75b1480c">ofc_tastrlen</a> (device);</div>
<div class="line">    namelen = <a class="code hl_define" href="group__libc.html#gadddfc56e54727750a6bf656f75b1480c">ofc_tastrlen</a> (name);</div>
<div class="line">    filename =</div>
<div class="line">            <a id="a17" name="a17"></a><a class="code hl_function" href="heap_8h.html#ad8c64ed33575e33e794ed8513bf6c2bd">ofc_malloc</a>((devlen + namelen + 1) * <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a>));</div>
<div class="line">    <a id="a18" name="a18"></a><a class="code hl_define" href="group__libc.html#gaa9471906ea18c57dafe18eeab49b08f7">ofc_tastrcpy</a> (filename, device);</div>
<div class="line">    <a class="code hl_define" href="group__libc.html#gaa9471906ea18c57dafe18eeab49b08f7">ofc_tastrcpy</a> (&amp;filename[devlen], name);</div>
<div class="line">    filename[devlen + namelen] = <a id="a19" name="a19"></a><a class="code hl_define" href="group__types.html#ga2ccd1cad65601560d437a1bb7e5c22d2">TCHAR_EOS</a>;</div>
<div class="line">    <span class="keywordflow">return</span> (filename);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Create File Test.  This routine will create a file using a blocking</span></div>
<div class="line"><span class="comment"> * (sequential) algorithm</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* 2 MB */</span></div>
<div class="line"><span class="comment">//#define CREATE_SIZE (2*1024*1024)</span></div>
<div class="line"><span class="preprocessor">#define CREATE_SIZE (2*1024)</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> OfcCreateFileTest(<a class="code hl_typedef" href="group__types.html#gad3da8ad775352e263388145f6ddb7eea">OFC_CTCHAR</a> *device) {</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> write_file;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac5eb9ceff06b10e6cb744ed9c42c5668">OFC_MSTIME</a> start_time;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *buffer;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a> i;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> status;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *wfilename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> ret;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a> size;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gabe607e992aea15aa7cce6513a0e268ff">OFC_ULONG</a> *p;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwBytesWritten;</div>
<div class="line"> </div>
<div class="line">    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * Create the file used for the copy file test.</span></div>
<div class="line"><span class="comment">   * This is the read file</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    wfilename = MakeFilename(device, FS_TEST_READ);</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * Get the time for simple performance analysis</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    status = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    start_time = <a id="a20" name="a20"></a><a class="code hl_function" href="group___open.html#ga3d09335e1d3f696f64cca11d88b2c2c8">ofc_time_get_now</a>();</div>
<div class="line"><span class="preprocessor">#if defined(OFC_PERF_STATS)</span></div>
<div class="line">    ofc_perf_reset();</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * Open up our write file.  If it exists, it will be deleted</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    write_file = <a id="a21" name="a21"></a><a class="code hl_define" href="group__file.html#gabaef589b1d18ad7259ecf8adb34d3a3b">OfcCreateFile</a>(wfilename,</div>
<div class="line">                               <a id="a22" name="a22"></a><a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55ba45e0d8b24ac8f2d8e145fcc7b4c1ba47">OFC_GENERIC_WRITE</a>,</div>
<div class="line">                               <a id="a23" name="a23"></a><a class="code hl_enumvalue" href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7aacfd0158dfe2baf4477da068ae0f4f82">OFC_FILE_SHARE_DELETE</a> |</div>
<div class="line">                               <a id="a24" name="a24"></a><a class="code hl_enumvalue" href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7adbbcb2a2275b14bd1209aa75e4499165">OFC_FILE_SHARE_WRITE</a> |</div>
<div class="line">                               <a id="a25" name="a25"></a><a class="code hl_enumvalue" href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7a19bc8e71deccc5de998b1e7e46047469">OFC_FILE_SHARE_READ</a>,</div>
<div class="line">                               <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                               <a id="a26" name="a26"></a><a class="code hl_enumvalue" href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a5cd89cbfaa761ceff82bdf54687b2580">OFC_CREATE_ALWAYS</a>,</div>
<div class="line">                               <a id="a27" name="a27"></a><a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a1618a4ee292bfd7e082baa8c61d81f72">OFC_FILE_ATTRIBUTE_NORMAL</a>,</div>
<div class="line">                               <a id="a28" name="a28"></a><a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (write_file == <a id="a29" name="a29"></a><a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>) {</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to open Copy Destination %A, Error Code %d\n&quot;</span>,</div>
<div class="line">                   wfilename, <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>());</div>
<div class="line">        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        buffer = <a class="code hl_function" href="heap_8h.html#ad8c64ed33575e33e794ed8513bf6c2bd">ofc_malloc</a>(BUFFER_SIZE);</div>
<div class="line">        <span class="keywordflow">if</span> (buffer == <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;OfcFSTest: Failed to allocate Shared &quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;memory buffer\n&quot;</span>);</div>
<div class="line">            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="keywordflow">for</span> (size = 0; size &lt; CREATE_SIZE &amp;&amp; ret == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">                 size += BUFFER_SIZE) {</div>
<div class="line">                p = (<a class="code hl_typedef" href="group__types.html#gabe607e992aea15aa7cce6513a0e268ff">OFC_ULONG</a> *) buffer;</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">           * Fill in the buffer with an random data</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                <span class="keywordflow">for</span> (i = 0; i &lt; (BUFFER_SIZE / <span class="keyword">sizeof</span>(<a id="a30" name="a30"></a><a class="code hl_typedef" href="group__types.html#gabe607e992aea15aa7cce6513a0e268ff">OFC_ULONG</a>)); i++) {</div>
<div class="line">                    *p++ = i;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">           * Write the buffer</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                status = <a class="code hl_function" href="group__file.html#gabc20702338872b1cfd1124fe3b06bf5a">OfcWriteFile</a>(write_file, buffer, BUFFER_SIZE,</div>
<div class="line">                                      &amp;dwBytesWritten, <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>) {</div>
<div class="line">                    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Write to File Failed with %d\n&quot;</span>,</div>
<div class="line">                               <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>());</div>
<div class="line">                    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    <span class="keywordflow">if</span> (size % (1024 * 1024) == 0)</div>
<div class="line">                        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Wrote %d MB\n&quot;</span>, (size / (1024 * 1024)) + 1);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <a id="a31" name="a31"></a><a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(buffer);</div>
<div class="line">        }</div>
<div class="line">        <a id="a32" name="a32"></a><a class="code hl_function" href="group__file.html#ga3ad4f110e3045fe4150f2c1e27577eb8">OfcCloseHandle</a>(write_file);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(wfilename);</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if defined(OFC_PERF_STATS)</span></div>
<div class="line">    ofc_perf_dump();</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">    <span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>)</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Create File Done, Elapsed Time %dms\n&quot;</span>,</div>
<div class="line">                   <a class="code hl_function" href="group___open.html#ga3d09335e1d3f696f64cca11d88b2c2c8">ofc_time_get_now</a>() - start_time);</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Create File Test Failed\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> (ret);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> OfcDismountTest(<a class="code hl_typedef" href="group__types.html#gad3da8ad775352e263388145f6ddb7eea">OFC_CTCHAR</a> *device) {</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> status;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *wfilename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> ret;</div>
<div class="line"> </div>
<div class="line">    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * Create the file used for the dismount file test.</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    wfilename = MakeFilename(device, FS_TEST_READ);</div>
<div class="line"> </div>
<div class="line">    status = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * Dismount the file</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    <a id="a33" name="a33"></a><a class="code hl_define" href="group__file.html#ga203e788f38519878d22391944cfabbb1">OfcDismount</a>(wfilename);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(wfilename);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> (ret);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> OfcCopyFileTest(<a class="code hl_typedef" href="group__types.html#gad3da8ad775352e263388145f6ddb7eea">OFC_CTCHAR</a> *device) {</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> read_file;</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> write_file;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac5eb9ceff06b10e6cb744ed9c42c5668">OFC_MSTIME</a> start_time;</div>
<div class="line">    <a class="code hl_struct" href="struct_o_f_c___i_n_t64.html">OFC_LARGE_INTEGER</a> offset;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> eof;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a> pending;</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> buffer_list;</div>
<div class="line">    OFC_FILE_BUFFER *buffer;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a> i;</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> wait_set;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwLen;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> status;</div>
<div class="line">    ASYNC_RESULT result;</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> hEvent;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *rfilename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *wfilename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> ret;</div>
<div class="line"> </div>
<div class="line">    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line"> </div>
<div class="line">    rfilename = MakeFilename(device, FS_TEST_READ);</div>
<div class="line">    wfilename = MakeFilename(device, FS_TEST_WRITE);</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * Get the time for simple performance analysis</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    status = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    start_time = <a class="code hl_function" href="group___open.html#ga3d09335e1d3f696f64cca11d88b2c2c8">ofc_time_get_now</a>();</div>
<div class="line"><span class="preprocessor">#if defined(OFC_PERF_STATS)</span></div>
<div class="line">    ofc_perf_reset();</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * Open up our read file.  This file should</span></div>
<div class="line"><span class="comment">   * exist</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    read_file = <a class="code hl_define" href="group__file.html#gabaef589b1d18ad7259ecf8adb34d3a3b">OfcCreateFile</a>(rfilename,</div>
<div class="line">                              <a id="a34" name="a34"></a><a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55ba640672c2ab86b5796d41962812a2da5c">OFC_GENERIC_READ</a>,</div>
<div class="line">                              <a class="code hl_enumvalue" href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7a19bc8e71deccc5de998b1e7e46047469">OFC_FILE_SHARE_READ</a>,</div>
<div class="line">                              <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                              <a id="a35" name="a35"></a><a class="code hl_enumvalue" href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a00ff26a1be3160742fa510d7b0cc2993">OFC_OPEN_EXISTING</a>,</div>
<div class="line">                              <a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a1618a4ee292bfd7e082baa8c61d81f72">OFC_FILE_ATTRIBUTE_NORMAL</a> |</div>
<div class="line">                              <a id="a36" name="a36"></a><a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04abc8a6d4f5ea291429c438bb236bad55d">OFC_FILE_FLAG_OVERLAPPED</a>,</div>
<div class="line">                              <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (read_file == <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>) {</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to open Copy Source %A, Error Code %d\n&quot;</span>,</div>
<div class="line">                   rfilename, <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>());</div>
<div class="line">        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Open up our write file.  If it exists, it will be deleted</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        write_file = <a class="code hl_define" href="group__file.html#gabaef589b1d18ad7259ecf8adb34d3a3b">OfcCreateFile</a>(wfilename,</div>
<div class="line">                                   <a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55ba45e0d8b24ac8f2d8e145fcc7b4c1ba47">OFC_GENERIC_WRITE</a>,</div>
<div class="line">                                   0,</div>
<div class="line">                                   <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                                   <a class="code hl_enumvalue" href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a5cd89cbfaa761ceff82bdf54687b2580">OFC_CREATE_ALWAYS</a>,</div>
<div class="line">                                   <a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a1618a4ee292bfd7e082baa8c61d81f72">OFC_FILE_ATTRIBUTE_NORMAL</a> |</div>
<div class="line">                                   <a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04abc8a6d4f5ea291429c438bb236bad55d">OFC_FILE_FLAG_OVERLAPPED</a>,</div>
<div class="line">                                   <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (write_file == <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to open Copy Destination %A, Error Code %d\n&quot;</span>,</div>
<div class="line">                       wfilename, <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>());</div>
<div class="line">            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Now, create a wait set that we will wait for</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            wait_set = <a id="a37" name="a37"></a><a class="code hl_function" href="group__waitset.html#ga20976bdcbf69ca5e4c06a5300a73d337">ofc_waitset_create</a>();</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * And create our own buffer list that we will manage</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            buffer_list = <a id="a38" name="a38"></a><a class="code hl_function" href="group__queue.html#ga03a10bbff62f385fd37411786404a773">ofc_queue_create</a>();</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Set some flags</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            eof = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">            <a id="a39" name="a39"></a><a class="code hl_define" href="group__types.html#gaebbb9af9f75526a3026356ed26ae7f4b">OFC_LARGE_INTEGER_SET</a>(offset, 0, 0);</div>
<div class="line">            pending = 0;</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Prime the engine.  Priming involves obtaining a buffer</span></div>
<div class="line"><span class="comment">       * for each overlapped I/O and initilizing them</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            <span class="keywordflow">for</span> (i = 0; i &lt; NUM_FILE_BUFFERS &amp;&amp; !eof; i++) {</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">           * Get the buffer descriptor and the data buffer</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                buffer = <a class="code hl_function" href="heap_8h.html#ad8c64ed33575e33e794ed8513bf6c2bd">ofc_malloc</a>(<span class="keyword">sizeof</span>(OFC_FILE_BUFFER));</div>
<div class="line">                <span class="keywordflow">if</span> (buffer == <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>) {</div>
<div class="line">                    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;test_file: Failed to alloc buffer context\n&quot;</span>);</div>
<div class="line">                    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    buffer-&gt;data = <a class="code hl_function" href="heap_8h.html#ad8c64ed33575e33e794ed8513bf6c2bd">ofc_malloc</a>(BUFFER_SIZE);</div>
<div class="line">                    <span class="keywordflow">if</span> (buffer-&gt;data == <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>) {</div>
<div class="line">                        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;test_file: Failed to allocate &quot;</span></div>
<div class="line">                                   <span class="stringliteral">&quot;memory buffer\n&quot;</span>);</div>
<div class="line">                        <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(buffer);</div>
<div class="line">                        buffer = <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>;</div>
<div class="line">                        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * Initialize the offset to the file</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                        buffer-&gt;offset = offset;</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * And initialize the overlapped handles</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                        buffer-&gt;readOverlapped = <a id="a40" name="a40"></a><a class="code hl_function" href="group__file.html#gadee496636be69cead138a19edc6f8941">OfcCreateOverlapped</a>(read_file);</div>
<div class="line">                        buffer-&gt;writeOverlapped =</div>
<div class="line">                                <a class="code hl_function" href="group__file.html#gadee496636be69cead138a19edc6f8941">OfcCreateOverlapped</a>(write_file);</div>
<div class="line">                        <span class="keywordflow">if</span> (buffer-&gt;readOverlapped == <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a> ||</div>
<div class="line">                            buffer-&gt;writeOverlapped == <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>)</div>
<div class="line">                            <a id="a41" name="a41"></a><a class="code hl_function" href="group__process.html#ga3da5acf263d17b08c278d236f2455352">ofc_process_crash</a>(<span class="stringliteral">&quot;An Overlapped Handle is NULL&quot;</span>);</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * Add it to our buffer list</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                        <a id="a42" name="a42"></a><a class="code hl_function" href="group__queue.html#ga2fbec4efe10324e0ae3cb1ba46193830">ofc_enqueue</a>(buffer_list, buffer);</div>
<div class="line">                        dwLen = BUFFER_SIZE;</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * Issue the read (pre increment the pending to</span></div>
<div class="line"><span class="comment">               * avoid races</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                        pending++;</div>
<div class="line">                        result = AsyncRead(wait_set, read_file, buffer, dwLen);</div>
<div class="line">                        <span class="keywordflow">if</span> (result != ASYNC_RESULT_PENDING) {</div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * discount pending and set eof</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                            pending--;</div>
<div class="line">                            <span class="keywordflow">if</span> (result == ASYNC_RESULT_ERROR) {</div>
<div class="line">                                ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                            }</div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * Set eof either because it really is eof, or we</span></div>
<div class="line"><span class="comment">               * want to clean up.</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                            eof = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">                        }</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * Prepare for the next buffer</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line"><span class="preprocessor">#if defined(OFC_64BIT_INTEGER)</span></div>
<div class="line">                        offset += BUFFER_SIZE;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">                        offset.<a id="a43" name="a43"></a><a class="code hl_variable" href="struct_o_f_c___i_n_t64.html#a81f7be7611cb3ac571ce918100167c66">low</a> += BUFFER_SIZE ;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Now all our buffers should be busy doing reads.  Keep pumping</span></div>
<div class="line"><span class="comment">       * more data to read and service writes</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            <span class="keywordflow">while</span> (pending &gt; 0) {</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">           * Wait for some buffer to finish (may be a read if we&#39;ve</span></div>
<div class="line"><span class="comment">           * just finished priming, but it may be a write also if</span></div>
<div class="line"><span class="comment">           * we&#39;ve been in this loop a bit</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                hEvent = <a id="a44" name="a44"></a><a class="code hl_function" href="group__waitset.html#gaf4798521ee61bf5f64dbe932eb8b79d9">ofc_waitset_wait</a>(wait_set);</div>
<div class="line">                <span class="keywordflow">if</span> (hEvent != <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>) {</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">           * We use the app of the event as a pointer to the</span></div>
<div class="line"><span class="comment">           * buffer descriptor.  Yeah, this isn&#39;t really nice but</span></div>
<div class="line"><span class="comment">           * the alternative is to add a context to each handle.</span></div>
<div class="line"><span class="comment">           * That may be cleaner, but basically unnecessary.  If</span></div>
<div class="line"><span class="comment">           * we did this kind of thing a lot, I&#39;m all for a</span></div>
<div class="line"><span class="comment">           * new property of a handle</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                    buffer = (OFC_FILE_BUFFER *) <a id="a45" name="a45"></a><a class="code hl_function" href="group__handle.html#gab97cc0bce631eb88e4c4ab2f1f686c62">ofc_handle_get_app</a>(hEvent);</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">           * Now we have both read and write overlapped descriptors</span></div>
<div class="line"><span class="comment">           * See what state we&#39;re in</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                    <span class="keywordflow">if</span> (buffer-&gt;state == BUFFER_STATE_READ) {</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * Read, so let&#39;s see the result of the read</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                        result = AsyncReadResult(wait_set, read_file,</div>
<div class="line">                                                 buffer, &amp;dwLen);</div>
<div class="line">                        <span class="keywordflow">if</span> (result == ASYNC_RESULT_ERROR) {</div>
<div class="line">                            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result == ASYNC_RESULT_DONE) {</div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * When the read is done, let&#39;s start up the write</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                            status = AsyncWrite(wait_set, write_file, buffer,</div>
<div class="line">                                                dwLen);</div>
<div class="line">                            <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>) {</div>
<div class="line">                                ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                            }</div>
<div class="line">                        }</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * If the write failed, or we had a read result error</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                        <span class="keywordflow">if</span> (result == ASYNC_RESULT_ERROR ||</div>
<div class="line">                            result == ASYNC_RESULT_EOF ||</div>
<div class="line">                            (result == ASYNC_RESULT_DONE &amp;&amp; status == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>)) {</div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * The I/O is no longer pending.</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                            pending--;</div>
<div class="line">                            eof = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">                        }</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * The buffer state was write.  Let&#39;s look at our</span></div>
<div class="line"><span class="comment">               * status</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                        result = AsyncWriteResult(wait_set, write_file,</div>
<div class="line">                                                  buffer, &amp;dwLen);</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * Did it finish</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                        <span class="keywordflow">if</span> (result == ASYNC_RESULT_DONE) {</div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * The write is finished.</span></div>
<div class="line"><span class="comment">               * Let&#39;s step the buffer</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * Only report on MB boundaries</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                            <span class="keywordflow">if</span> (buffer-&gt;offset % (1024 * 1024) == 0)</div>
<div class="line">                                <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Copied %d MB\n&quot;</span>,</div>
<div class="line">                                           (buffer-&gt;offset / (1024 * 1024)) + 1);</div>
<div class="line"> </div>
<div class="line">                            <a id="a46" name="a46"></a><a class="code hl_define" href="group__types.html#gaf443b3e29cd21a6a2f8f6df11281a8e4">OFC_LARGE_INTEGER_ASSIGN</a> (buffer-&gt;offset, offset);</div>
<div class="line"><span class="preprocessor">#if defined(OFC_64BIT_INTEGER)</span></div>
<div class="line">                            offset += BUFFER_SIZE;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">                            offset.<a class="code hl_variable" href="struct_o_f_c___i_n_t64.html#a81f7be7611cb3ac571ce918100167c66">low</a> += BUFFER_SIZE ;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">                            <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * And start a read on the next chunk</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                            result = AsyncRead(wait_set, read_file,</div>
<div class="line">                                               buffer, BUFFER_SIZE);</div>
<div class="line">                        }</div>
<div class="line"> </div>
<div class="line">                        <span class="keywordflow">if</span> (result != ASYNC_RESULT_PENDING) {</div>
<div class="line">                            <span class="keywordflow">if</span> (result == ASYNC_RESULT_ERROR)</div>
<div class="line">                                ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line"> </div>
<div class="line">                            eof = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">                            pending--;</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * The pending count is zero so we&#39;ve gotten completions</span></div>
<div class="line"><span class="comment">       * either due to errors or eof on all of our outstanding</span></div>
<div class="line"><span class="comment">       * reads and writes.</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            <span class="keywordflow">for</span> (buffer = <a id="a47" name="a47"></a><a class="code hl_function" href="group__queue.html#gaeb3d21227e4f98282d453c1e313c28c1">ofc_dequeue</a>(buffer_list);</div>
<div class="line">                 buffer != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>;</div>
<div class="line">                 buffer = <a class="code hl_function" href="group__queue.html#gaeb3d21227e4f98282d453c1e313c28c1">ofc_dequeue</a>(buffer_list)) {</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">           * Destroy the overlapped I/O handle for each buffer</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                <a id="a48" name="a48"></a><a class="code hl_function" href="group__file.html#gab01e7a9e751a95479055a928ae2b19cb">OfcDestroyOverlapped</a>(read_file, buffer-&gt;readOverlapped);</div>
<div class="line">                <a class="code hl_function" href="group__file.html#gab01e7a9e751a95479055a928ae2b19cb">OfcDestroyOverlapped</a>(write_file, buffer-&gt;writeOverlapped);</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">           * Free the data buffer and the buffer descriptor</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(buffer-&gt;data);</div>
<div class="line">                <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(buffer);</div>
<div class="line">            }</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Destroy the buffer list</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            <a id="a49" name="a49"></a><a class="code hl_function" href="group__queue.html#ga14b82418bcf17df0a6b9954b5ebfd62a">ofc_queue_destroy</a>(buffer_list);</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * And destroy the wait list</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            <a id="a50" name="a50"></a><a class="code hl_function" href="group__waitset.html#ga8337c577b0d6f3b15f361883daf69859">ofc_waitset_destroy</a>(wait_set);</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Now close the write file</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            <a class="code hl_function" href="group__file.html#ga3ad4f110e3045fe4150f2c1e27577eb8">OfcCloseHandle</a>(write_file);</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * And close the read file</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        <a class="code hl_function" href="group__file.html#ga3ad4f110e3045fe4150f2c1e27577eb8">OfcCloseHandle</a>(read_file);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(rfilename);</div>
<div class="line">    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(wfilename);</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if defined(OFC_PERF_STATS)</span></div>
<div class="line">    ofc_perf_dump();</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">    <span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>)</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Copy Done, Elapsed Time %dms\n&quot;</span>,</div>
<div class="line">                   <a class="code hl_function" href="group___open.html#ga3d09335e1d3f696f64cca11d88b2c2c8">ofc_time_get_now</a>() - start_time);</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Copy Test Failed\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> (ret);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Delete File Test</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * \param delete test type</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a></div>
<div class="line">OfcDeleteTest(<a class="code hl_typedef" href="group__types.html#gad3da8ad775352e263388145f6ddb7eea">OFC_CTCHAR</a> *device) {</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> write_file;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwLastError;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *buffer;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaeb93d953e7773b40b433444ad8d95424">OFC_SIZET</a> len;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> status;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *filename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwBytesWritten;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> ret;</div>
<div class="line"> </div>
<div class="line">    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    filename = MakeFilename(device, FS_TEST_DELETE);</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * First we need to create a file to delete</span></div>
<div class="line"><span class="comment">   * This also tests us creating and writing to a file without overlap</span></div>
<div class="line"><span class="comment">   * i/o</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    write_file = <a class="code hl_define" href="group__file.html#gabaef589b1d18ad7259ecf8adb34d3a3b">OfcCreateFile</a>(filename,</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55ba45e0d8b24ac8f2d8e145fcc7b4c1ba47">OFC_GENERIC_WRITE</a>,</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7a19bc8e71deccc5de998b1e7e46047469">OFC_FILE_SHARE_READ</a>,</div>
<div class="line">                               <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a5cd89cbfaa761ceff82bdf54687b2580">OFC_CREATE_ALWAYS</a>,</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a1618a4ee292bfd7e082baa8c61d81f72">OFC_FILE_ATTRIBUTE_NORMAL</a>,</div>
<div class="line">                               <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (write_file == <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>) {</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to create delete file %A, Error Code %d\n&quot;</span>,</div>
<div class="line">                   filename, <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>());</div>
<div class="line">        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Let&#39;s write some stuff to the file</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        buffer = <a class="code hl_function" href="heap_8h.html#ad8c64ed33575e33e794ed8513bf6c2bd">ofc_malloc</a>(BUFFER_SIZE);</div>
<div class="line">        len = BUFFER_SIZE;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">while</span> (len &gt; 0) {</div>
<div class="line">            len -= <a id="a51" name="a51"></a><a class="code hl_function" href="group__libc.html#ga5c622601603aa505c8c105c013366694">ofc_snprintf</a>(buffer + (BUFFER_SIZE - len), len,</div>
<div class="line">                                <span class="stringliteral">&quot;This Text begins at offset %d\n&quot;</span>,</div>
<div class="line">                                BUFFER_SIZE - len);</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * And write it to the file</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        status = <a class="code hl_function" href="group__file.html#gabc20702338872b1cfd1124fe3b06bf5a">OfcWriteFile</a>(write_file, buffer, BUFFER_SIZE, &amp;dwBytesWritten,</div>
<div class="line">                              <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Free the buffer</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(buffer);</div>
<div class="line">        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * We failed writing, complain</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Write to Delete File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                       dwLastError);</div>
<div class="line">            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="comment">/* Close file</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            status = <a class="code hl_function" href="group__file.html#ga3ad4f110e3045fe4150f2c1e27577eb8">OfcCloseHandle</a>(write_file);</div>
<div class="line">            <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Close of Delete File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                           dwLastError);</div>
<div class="line">                ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">           * We&#39;ve written the file.  Now depending on the type</span></div>
<div class="line"><span class="comment">           * of delete, delete the file</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                write_file =</div>
<div class="line">                        <a class="code hl_define" href="group__file.html#gabaef589b1d18ad7259ecf8adb34d3a3b">OfcCreateFile</a>(filename,</div>
<div class="line">                                      <a id="a52" name="a52"></a><a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55bab3342443efe51e63b5902238de9be351">OFC_FILE_DELETE</a>,</div>
<div class="line">                                      <a class="code hl_enumvalue" href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7aacfd0158dfe2baf4477da068ae0f4f82">OFC_FILE_SHARE_DELETE</a>,</div>
<div class="line">                                      <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                                      <a class="code hl_enumvalue" href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a00ff26a1be3160742fa510d7b0cc2993">OFC_OPEN_EXISTING</a>,</div>
<div class="line">                                      <a id="a53" name="a53"></a><a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a927e641aa0c43c13cf653451e5fb6267">OFC_FILE_FLAG_DELETE_ON_CLOSE</a>,</div>
<div class="line">                                      <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (write_file == <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>) {</div>
<div class="line">                    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to create delete on close file %A, &quot;</span></div>
<div class="line">                               <span class="stringliteral">&quot;Error Code %d\n&quot;</span>,</div>
<div class="line">                               filename,</div>
<div class="line">                               <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>());</div>
<div class="line">                    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    <span class="comment">/* Close file</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                    status = <a class="code hl_function" href="group__file.html#ga3ad4f110e3045fe4150f2c1e27577eb8">OfcCloseHandle</a>(write_file);</div>
<div class="line">                    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                        dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Close of Delete on close File &quot;</span></div>
<div class="line">                                   <span class="stringliteral">&quot;Failed with Error %d\n&quot;</span>,</div>
<div class="line">                                   dwLastError);</div>
<div class="line">                        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                    } <span class="keywordflow">else</span></div>
<div class="line">                        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Delete on Close Test Succeeded\n&quot;</span>);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(filename);</div>
<div class="line">    <span class="keywordflow">return</span> (ret);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Rename file test</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> OfcMoveTest(<a class="code hl_typedef" href="group__types.html#gad3da8ad775352e263388145f6ddb7eea">OFC_CTCHAR</a> *device) {</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> rename_file;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwLastError;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *buffer;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaeb93d953e7773b40b433444ad8d95424">OFC_SIZET</a> len;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> status;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *filename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *tofilename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwBytesWritten;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> ret;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *dirname;</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> dirHandle;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * Rename within a directory</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    dirname = MakeFilename(device, FS_TEST_DIRECTORY);</div>
<div class="line">    status = <a id="a54" name="a54"></a><a class="code hl_define" href="group__file.html#ga2b9e1a46541a3ce04158bd79fff66ff9">OfcCreateDirectory</a>(dirname, <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a> || <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>() == <a id="a55" name="a55"></a><a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951aaf2e7738a496974319c9760e66d69701">OFC_ERROR_FILE_EXISTS</a>) {</div>
<div class="line">        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">        filename = MakeFilename(device, FS_TEST_RENAME);</div>
<div class="line">        tofilename = MakeFilename(device, FS_TEST_RENAMETO);</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * First, make sure the destination file is not there</span></div>
<div class="line"><span class="comment">       * We don&#39;t care about the error.  It is probable, file does not exist</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        <a id="a56" name="a56"></a><a class="code hl_define" href="group__file.html#gac11a6c03cae41ce0c353761a2308e4bd">OfcDeleteFile</a>(tofilename);</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Now create a file to rename</span></div>
<div class="line"><span class="comment">       * Clean up any debris before starting</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        status = <a class="code hl_define" href="group__file.html#gac11a6c03cae41ce0c353761a2308e4bd">OfcDeleteFile</a>(tofilename);</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * First we need to create a file to rename</span></div>
<div class="line"><span class="comment">       * This also tests us creating and writing to a file without overlap</span></div>
<div class="line"><span class="comment">       * i/o</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        rename_file = <a class="code hl_define" href="group__file.html#gabaef589b1d18ad7259ecf8adb34d3a3b">OfcCreateFile</a>(filename,</div>
<div class="line">                                    <a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55ba45e0d8b24ac8f2d8e145fcc7b4c1ba47">OFC_GENERIC_WRITE</a>,</div>
<div class="line">                                    <a class="code hl_enumvalue" href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7a19bc8e71deccc5de998b1e7e46047469">OFC_FILE_SHARE_READ</a>,</div>
<div class="line">                                    <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                                    <a class="code hl_enumvalue" href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a5cd89cbfaa761ceff82bdf54687b2580">OFC_CREATE_ALWAYS</a>,</div>
<div class="line">                                    <a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a1618a4ee292bfd7e082baa8c61d81f72">OFC_FILE_ATTRIBUTE_NORMAL</a>,</div>
<div class="line">                                    <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (rename_file == <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to create rename file %A, Error Code %d\n&quot;</span>,</div>
<div class="line">                       filename, <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>());</div>
<div class="line">            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Let&#39;s write some stuff to the file</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            buffer = <a class="code hl_function" href="heap_8h.html#ad8c64ed33575e33e794ed8513bf6c2bd">ofc_malloc</a>(BUFFER_SIZE);</div>
<div class="line">            len = BUFFER_SIZE;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">while</span> (len &gt; 0) {</div>
<div class="line">                len -= <a class="code hl_function" href="group__libc.html#ga5c622601603aa505c8c105c013366694">ofc_snprintf</a>(buffer + (BUFFER_SIZE - len), len,</div>
<div class="line">                                    <span class="stringliteral">&quot;This Text begins at offset %d\n&quot;</span>,</div>
<div class="line">                                    BUFFER_SIZE - len);</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            status = <a class="code hl_function" href="group__file.html#gabc20702338872b1cfd1124fe3b06bf5a">OfcWriteFile</a>(rename_file, buffer, BUFFER_SIZE,</div>
<div class="line">                                  &amp;dwBytesWritten, <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">            <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(buffer);</div>
<div class="line">            <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Write to Rename File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                           dwLastError);</div>
<div class="line">                ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                <span class="comment">/* Close file</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                status = <a class="code hl_function" href="group__file.html#ga3ad4f110e3045fe4150f2c1e27577eb8">OfcCloseHandle</a>(rename_file);</div>
<div class="line">                <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                    dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Close of Rename File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                               dwLastError);</div>
<div class="line">                    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">           * Now we can rename the file</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                    status = <a id="a57" name="a57"></a><a class="code hl_define" href="group__file.html#ga4f68eaf20502ec8fd55a9f187de0be6f">OfcMoveFile</a>(filename, tofilename);</div>
<div class="line">                    <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * Now we can delete the file</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                        status = <a class="code hl_define" href="group__file.html#gac11a6c03cae41ce0c353761a2308e4bd">OfcDeleteFile</a>(tofilename);</div>
<div class="line">                        <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>)</div>
<div class="line">                            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Rename Test Succeeded\n&quot;</span>);</div>
<div class="line">                        <span class="keywordflow">else</span> {</div>
<div class="line">                            dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Delete Rename File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                                       dwLastError);</div>
<div class="line">                            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                        }</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Rename File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                                   dwLastError);</div>
<div class="line">                        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(filename);</div>
<div class="line">        <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(tofilename);</div>
<div class="line"> </div>
<div class="line">        dirHandle = <a class="code hl_define" href="group__file.html#gabaef589b1d18ad7259ecf8adb34d3a3b">OfcCreateFile</a>(dirname,</div>
<div class="line">                                  <a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55bab3342443efe51e63b5902238de9be351">OFC_FILE_DELETE</a>,</div>
<div class="line">                                  <a class="code hl_enumvalue" href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7aacfd0158dfe2baf4477da068ae0f4f82">OFC_FILE_SHARE_DELETE</a>,</div>
<div class="line">                                  <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                                  <a class="code hl_enumvalue" href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a00ff26a1be3160742fa510d7b0cc2993">OFC_OPEN_EXISTING</a>,</div>
<div class="line">                                  <a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a927e641aa0c43c13cf653451e5fb6267">OFC_FILE_FLAG_DELETE_ON_CLOSE</a> |</div>
<div class="line">                                  <a id="a58" name="a58"></a><a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a47e292c11b2ac019768b71a10f4c1659">OFC_FILE_ATTRIBUTE_DIRECTORY</a>,</div>
<div class="line">                                  <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (dirHandle == <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to create delete on close dir %A, &quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;Error Code %d\n&quot;</span>,</div>
<div class="line">                       dirname,</div>
<div class="line">                       <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>());</div>
<div class="line">            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="comment">/* Close file</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            status = <a class="code hl_function" href="group__file.html#ga3ad4f110e3045fe4150f2c1e27577eb8">OfcCloseHandle</a>(dirHandle);</div>
<div class="line">            <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Close of Delete on close dir &quot;</span></div>
<div class="line">                           <span class="stringliteral">&quot;Failed with Error %d\n&quot;</span>,</div>
<div class="line">                           dwLastError);</div>
<div class="line">                ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Create of Directory Failed with Error %d\n&quot;</span>,</div>
<div class="line">                   dwLastError);</div>
<div class="line">        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(dirname);</div>
<div class="line">    <span class="keywordflow">return</span> (ret);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Rename file test</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> OfcRenameTest(<a class="code hl_typedef" href="group__types.html#gad3da8ad775352e263388145f6ddb7eea">OFC_CTCHAR</a> *device) {</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> rename_file;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwLastError;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *buffer;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaeb93d953e7773b40b433444ad8d95424">OFC_SIZET</a> len;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> status;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *dirname;</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> dirHandle;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *filename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *tofilename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *fulltofilename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwBytesWritten;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> ret;</div>
<div class="line">    <a id="_a59" name="_a59"></a><a class="code hl_struct" href="struct___o_f_c___f_i_l_e___r_e_n_a_m_e___i_n_f_o.html">OFC_FILE_RENAME_INFO</a> *rename_info;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaeb93d953e7773b40b433444ad8d95424">OFC_SIZET</a> newlen;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaeb93d953e7773b40b433444ad8d95424">OFC_SIZET</a> rename_info_len;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * Rename within a directory</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    dirname = MakeFilename(device, FS_TEST_DIRECTORY);</div>
<div class="line">    status = <a class="code hl_define" href="group__file.html#ga2b9e1a46541a3ce04158bd79fff66ff9">OfcCreateDirectory</a>(dirname, <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a> || <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>() == <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951aaf2e7738a496974319c9760e66d69701">OFC_ERROR_FILE_EXISTS</a>) {</div>
<div class="line">        filename = MakeFilename(device, FS_TEST_RENAME);</div>
<div class="line">        fulltofilename = MakeFilename(device, FS_TEST_RENAMETO);</div>
<div class="line">        tofilename = <a id="a60" name="a60"></a><a class="code hl_define" href="group__libc.html#ga8f8b749e26a284d17afcc092cf61fe41">ofc_tastrdup</a> (FS_TEST_RENAMETO_ROOT);</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * First we need to create a file to rename</span></div>
<div class="line"><span class="comment">       * This also tests us creating and writing to a file without overlap</span></div>
<div class="line"><span class="comment">       * i/o</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        rename_file = <a class="code hl_define" href="group__file.html#gabaef589b1d18ad7259ecf8adb34d3a3b">OfcCreateFile</a>(filename,</div>
<div class="line">                                    <a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55ba45e0d8b24ac8f2d8e145fcc7b4c1ba47">OFC_GENERIC_WRITE</a>,</div>
<div class="line">                                    <a class="code hl_enumvalue" href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7a19bc8e71deccc5de998b1e7e46047469">OFC_FILE_SHARE_READ</a>,</div>
<div class="line">                                    <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                                    <a class="code hl_enumvalue" href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a5cd89cbfaa761ceff82bdf54687b2580">OFC_CREATE_ALWAYS</a>,</div>
<div class="line">                                    <a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a1618a4ee292bfd7e082baa8c61d81f72">OFC_FILE_ATTRIBUTE_NORMAL</a>,</div>
<div class="line">                                    <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (rename_file == <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to create rename file %A, Error Code %d\n&quot;</span>,</div>
<div class="line">                       filename, <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>());</div>
<div class="line">            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Let&#39;s write some stuff to the file</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            buffer = <a class="code hl_function" href="heap_8h.html#ad8c64ed33575e33e794ed8513bf6c2bd">ofc_malloc</a>(BUFFER_SIZE);</div>
<div class="line">            len = BUFFER_SIZE;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">while</span> (len &gt; 0) {</div>
<div class="line">                len -= <a class="code hl_function" href="group__libc.html#ga5c622601603aa505c8c105c013366694">ofc_snprintf</a>(buffer + (BUFFER_SIZE - len), len,</div>
<div class="line">                                    <span class="stringliteral">&quot;This Text begins at offset %d\n&quot;</span>,</div>
<div class="line">                                    BUFFER_SIZE - len);</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            status = <a class="code hl_function" href="group__file.html#gabc20702338872b1cfd1124fe3b06bf5a">OfcWriteFile</a>(rename_file, buffer, BUFFER_SIZE, &amp;dwBytesWritten,</div>
<div class="line">                                  <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">            <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(buffer);</div>
<div class="line">            <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Write to Rename File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                           dwLastError);</div>
<div class="line">                ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                <span class="comment">/* Close file</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                status = <a class="code hl_function" href="group__file.html#ga3ad4f110e3045fe4150f2c1e27577eb8">OfcCloseHandle</a>(rename_file);</div>
<div class="line">                <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                    dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Close of Rename File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                               dwLastError);</div>
<div class="line">                    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    rename_file = <a class="code hl_define" href="group__file.html#gabaef589b1d18ad7259ecf8adb34d3a3b">OfcCreateFile</a>(filename,</div>
<div class="line">                                                <a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55bab3342443efe51e63b5902238de9be351">OFC_FILE_DELETE</a>,</div>
<div class="line">                                                <a class="code hl_enumvalue" href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7aacfd0158dfe2baf4477da068ae0f4f82">OFC_FILE_SHARE_DELETE</a>,</div>
<div class="line">                                                <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                                                <a class="code hl_enumvalue" href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a00ff26a1be3160742fa510d7b0cc2993">OFC_OPEN_EXISTING</a>,</div>
<div class="line">                                                0,</div>
<div class="line">                                                <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">if</span> (rename_file == <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>) {</div>
<div class="line">                        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to create rename file %S, &quot;</span></div>
<div class="line">                                   <span class="stringliteral">&quot;Error Code %d\n&quot;</span>,</div>
<div class="line">                                   filename,</div>
<div class="line">                                   <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>());</div>
<div class="line">                        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * First delete the to file if it exists</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                        <a class="code hl_define" href="group__file.html#gac11a6c03cae41ce0c353761a2308e4bd">OfcDeleteFile</a>(fulltofilename);</div>
<div class="line"> </div>
<div class="line">                        newlen = <a id="a61" name="a61"></a><a class="code hl_function" href="group__libc.html#ga8d252f0f9dac92c22a740e81cb15aeaf">ofc_tstrlen</a>(tofilename);</div>
<div class="line">                        rename_info_len = <span class="keyword">sizeof</span>(<a id="a62" name="a62"></a><a class="code hl_typedef" href="group__file.html#ga4b4c47e352dc0105246ab71765cf44c4">OFC_FILE_RENAME_INFO</a>) +</div>
<div class="line">                                          (newlen * <span class="keyword">sizeof</span>(<a id="a63" name="a63"></a><a class="code hl_variable" href="group__config.html#gad70aad14cb6a774578782b833cbab74e">OFC_WCHAR</a>));</div>
<div class="line"> </div>
<div class="line">                        rename_info = <a class="code hl_function" href="heap_8h.html#ad8c64ed33575e33e794ed8513bf6c2bd">ofc_malloc</a>(rename_info_len);</div>
<div class="line"> </div>
<div class="line">                        rename_info-&gt;<a id="a64" name="a64"></a><a class="code hl_variable" href="struct___o_f_c___f_i_l_e___r_e_n_a_m_e___i_n_f_o.html#a6badb4f6594ae0bfd7fc836119c78980">ReplaceIfExists</a> = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                        rename_info-&gt;<a id="a65" name="a65"></a><a class="code hl_variable" href="struct___o_f_c___f_i_l_e___r_e_n_a_m_e___i_n_f_o.html#ae2b7866bcdbcacf434ac8c53d0d6b4cf">RootDirectory</a> = <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>;</div>
<div class="line">                        rename_info-&gt;<a id="a66" name="a66"></a><a class="code hl_variable" href="struct___o_f_c___f_i_l_e___r_e_n_a_m_e___i_n_f_o.html#ae7c3c700011067a13e76c9bbda1cac10">FileNameLength</a> =</div>
<div class="line">                                (<a id="a67" name="a67"></a><a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a>) newlen * <span class="keyword">sizeof</span>(<a class="code hl_variable" href="group__config.html#gad70aad14cb6a774578782b833cbab74e">OFC_WCHAR</a>);</div>
<div class="line">                        <a id="a68" name="a68"></a><a class="code hl_function" href="group__libc.html#ga473509ee34dfbf1e77224d22477f232c">ofc_tstrncpy</a>(rename_info-&gt;<a id="a69" name="a69"></a><a class="code hl_variable" href="struct___o_f_c___f_i_l_e___r_e_n_a_m_e___i_n_f_o.html#a504d56e2a7d7e21dd4adeaed1a82df5d">FileName</a>,</div>
<div class="line">                                     tofilename, newlen);</div>
<div class="line">                        status =</div>
<div class="line">                                <a id="a70" name="a70"></a><a class="code hl_function" href="group__file.html#gae29d624f48af035f35cf704524e9b8b2">OfcSetFileInformationByHandle</a>(rename_file,</div>
<div class="line">                                                              <a id="a71" name="a71"></a><a class="code hl_enumvalue" href="group__file.html#gga58fa3c1ae767d60ec7cd335df7c8f673a2a9a28db7e95bf4d72633f04a58296b8">OfcFileRenameInfo</a>,</div>
<div class="line">                                                              rename_info,</div>
<div class="line">                                                              (<a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a>) rename_info_len);</div>
<div class="line">                        <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(rename_info);</div>
<div class="line">                        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                            dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Set File Info on rename File &quot;</span></div>
<div class="line">                                       <span class="stringliteral">&quot;Failed with Error %d\n&quot;</span>,</div>
<div class="line">                                       dwLastError);</div>
<div class="line">                            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                        }</div>
<div class="line"> </div>
<div class="line">                        status = <a class="code hl_function" href="group__file.html#ga3ad4f110e3045fe4150f2c1e27577eb8">OfcCloseHandle</a>(rename_file);</div>
<div class="line">                        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                            dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Close of rename File after Rename&quot;</span></div>
<div class="line">                                       <span class="stringliteral">&quot;Failed with Error %d\n&quot;</span>,</div>
<div class="line">                                       dwLastError);</div>
<div class="line">                            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                        }</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * Now we can delete the file</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                        status = <a class="code hl_define" href="group__file.html#gac11a6c03cae41ce0c353761a2308e4bd">OfcDeleteFile</a>(fulltofilename);</div>
<div class="line">                        <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>)</div>
<div class="line">                            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Rename Test Succeeded\n&quot;</span>);</div>
<div class="line">                        <span class="keywordflow">else</span> {</div>
<div class="line">                            dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Delete Rename File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                                       dwLastError);</div>
<div class="line">                            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(filename);</div>
<div class="line">        <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(tofilename);</div>
<div class="line">        <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(fulltofilename);</div>
<div class="line"> </div>
<div class="line">        dirHandle = <a class="code hl_define" href="group__file.html#gabaef589b1d18ad7259ecf8adb34d3a3b">OfcCreateFile</a>(dirname,</div>
<div class="line">                                  <a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55bab3342443efe51e63b5902238de9be351">OFC_FILE_DELETE</a>,</div>
<div class="line">                                  <a class="code hl_enumvalue" href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7aacfd0158dfe2baf4477da068ae0f4f82">OFC_FILE_SHARE_DELETE</a>,</div>
<div class="line">                                  <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                                  <a class="code hl_enumvalue" href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a00ff26a1be3160742fa510d7b0cc2993">OFC_OPEN_EXISTING</a>,</div>
<div class="line">                                  <a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a927e641aa0c43c13cf653451e5fb6267">OFC_FILE_FLAG_DELETE_ON_CLOSE</a> |</div>
<div class="line">                                  <a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a47e292c11b2ac019768b71a10f4c1659">OFC_FILE_ATTRIBUTE_DIRECTORY</a>,</div>
<div class="line">                                  <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (dirHandle == <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to create delete on close dir %A, &quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;Error Code %d\n&quot;</span>,</div>
<div class="line">                       dirname,</div>
<div class="line">                       <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>());</div>
<div class="line">            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="comment">/* Close file</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            status = <a class="code hl_function" href="group__file.html#ga3ad4f110e3045fe4150f2c1e27577eb8">OfcCloseHandle</a>(dirHandle);</div>
<div class="line">            <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Close of Delete on close dir &quot;</span></div>
<div class="line">                           <span class="stringliteral">&quot;Failed with Error %d\n&quot;</span>,</div>
<div class="line">                           dwLastError);</div>
<div class="line">                ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Create of Directory Failed with Error %d\n&quot;</span>,</div>
<div class="line">                   dwLastError);</div>
<div class="line">        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(dirname);</div>
<div class="line">    <span class="keywordflow">return</span> (ret);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Flush file test</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> OfcFlushTest(<a class="code hl_typedef" href="group__types.html#gad3da8ad775352e263388145f6ddb7eea">OFC_CTCHAR</a> *device) {</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> flush_file;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwLastError;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *buffer;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaeb93d953e7773b40b433444ad8d95424">OFC_SIZET</a> len;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> status;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a> i;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *filename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwBytesWritten;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> ret;</div>
<div class="line"> </div>
<div class="line">    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    filename = MakeFilename(device, FS_TEST_FLUSH);</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * First we need to create a file to flush</span></div>
<div class="line"><span class="comment">   * This also tests us creating and writing to a file without overlap</span></div>
<div class="line"><span class="comment">   * i/o</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    flush_file = <a class="code hl_define" href="group__file.html#gabaef589b1d18ad7259ecf8adb34d3a3b">OfcCreateFile</a>(filename,</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55ba45e0d8b24ac8f2d8e145fcc7b4c1ba47">OFC_GENERIC_WRITE</a>,</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7a19bc8e71deccc5de998b1e7e46047469">OFC_FILE_SHARE_READ</a>,</div>
<div class="line">                               <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a5cd89cbfaa761ceff82bdf54687b2580">OFC_CREATE_ALWAYS</a>,</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a1618a4ee292bfd7e082baa8c61d81f72">OFC_FILE_ATTRIBUTE_NORMAL</a>,</div>
<div class="line">                               <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (flush_file == <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>) {</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to create flush file %A, Error Code %d\n&quot;</span>,</div>
<div class="line">                   filename, <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>());</div>
<div class="line">        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Let&#39;s write some stuff to the file</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        buffer = <a class="code hl_function" href="heap_8h.html#ad8c64ed33575e33e794ed8513bf6c2bd">ofc_malloc</a>(BUFFER_SIZE);</div>
<div class="line"> </div>
<div class="line">        status = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">        <span class="keywordflow">for</span> (i = 0; i &lt; 10 &amp;&amp; status == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>; i++) {</div>
<div class="line">            len = <a class="code hl_function" href="group__libc.html#ga5c622601603aa505c8c105c013366694">ofc_snprintf</a>(buffer, BUFFER_SIZE,</div>
<div class="line">                               <span class="stringliteral">&quot;This is the Text for line %d\n&quot;</span>, i);</div>
<div class="line"> </div>
<div class="line">            status = <a class="code hl_function" href="group__file.html#gabc20702338872b1cfd1124fe3b06bf5a">OfcWriteFile</a>(flush_file, buffer, (<a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a>) len, &amp;dwBytesWritten,</div>
<div class="line">                                  <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Write to Flush File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                           dwLastError);</div>
<div class="line">                ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">           * Flush the file buffers</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                status = <a id="a72" name="a72"></a><a class="code hl_function" href="group__file.html#gabf41e49928f7cbe72a87125801c06c65">OfcFlushFileBuffers</a>(flush_file);</div>
<div class="line">                <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                    dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Flush to Flush File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                               dwLastError);</div>
<div class="line">                    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(buffer);</div>
<div class="line">        <span class="comment">/* Close file</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        status = <a class="code hl_function" href="group__file.html#ga3ad4f110e3045fe4150f2c1e27577eb8">OfcCloseHandle</a>(flush_file);</div>
<div class="line">        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">            dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Close of Flush File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                       dwLastError);</div>
<div class="line">            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Now we can delete the file</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            status = <a class="code hl_define" href="group__file.html#gac11a6c03cae41ce0c353761a2308e4bd">OfcDeleteFile</a>(filename);</div>
<div class="line">            <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>)</div>
<div class="line">                <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Flush Test Succeeded\n&quot;</span>);</div>
<div class="line">            <span class="keywordflow">else</span> {</div>
<div class="line">                dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Delete of Flush File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                           dwLastError);</div>
<div class="line">                ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(filename);</div>
<div class="line">    <span class="keywordflow">return</span> (ret);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Create directory test</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> OfcCreateDirectoryTest(<a class="code hl_typedef" href="group__types.html#gad3da8ad775352e263388145f6ddb7eea">OFC_CTCHAR</a> *device) {</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> status;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwLastError;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *filename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> ret;</div>
<div class="line"> </div>
<div class="line">    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    filename = MakeFilename(device, FS_TEST_DIRECTORY);</div>
<div class="line">    status = <a class="code hl_define" href="group__file.html#ga2b9e1a46541a3ce04158bd79fff66ff9">OfcCreateDirectory</a>(filename, <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>)</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Create Directory Test Succeeded\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Create of Directory Failed with Error %d\n&quot;</span>,</div>
<div class="line">                   dwLastError);</div>
<div class="line">        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(filename);</div>
<div class="line">    <span class="keywordflow">return</span> (ret);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Delete Directory Test</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> OfcDeleteDirectoryTest(<a class="code hl_typedef" href="group__types.html#gad3da8ad775352e263388145f6ddb7eea">OFC_CTCHAR</a> *device) {</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> status;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwLastError;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *filename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> ret;</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> dirhandle;</div>
<div class="line"> </div>
<div class="line">    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    filename = MakeFilename(device, FS_TEST_DIRECTORY);</div>
<div class="line"> </div>
<div class="line">    dirhandle = <a class="code hl_define" href="group__file.html#gabaef589b1d18ad7259ecf8adb34d3a3b">OfcCreateFile</a>(filename,</div>
<div class="line">                              <a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55bab3342443efe51e63b5902238de9be351">OFC_FILE_DELETE</a>,</div>
<div class="line">                              <a class="code hl_enumvalue" href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7aacfd0158dfe2baf4477da068ae0f4f82">OFC_FILE_SHARE_DELETE</a>,</div>
<div class="line">                              <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                              <a class="code hl_enumvalue" href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a00ff26a1be3160742fa510d7b0cc2993">OFC_OPEN_EXISTING</a>,</div>
<div class="line">                              <a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a927e641aa0c43c13cf653451e5fb6267">OFC_FILE_FLAG_DELETE_ON_CLOSE</a> |</div>
<div class="line">                              <a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a47e292c11b2ac019768b71a10f4c1659">OFC_FILE_ATTRIBUTE_DIRECTORY</a>,</div>
<div class="line">                              <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (dirhandle == <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>) {</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to create delete on close dir %A, &quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot;Error Code %d\n&quot;</span>,</div>
<div class="line">                   filename,</div>
<div class="line">                   <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>());</div>
<div class="line">        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/* Close file</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        status = <a class="code hl_function" href="group__file.html#ga3ad4f110e3045fe4150f2c1e27577eb8">OfcCloseHandle</a>(dirhandle);</div>
<div class="line">        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">            dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Close of Delete on close dir &quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;Failed with Error %d\n&quot;</span>,</div>
<div class="line">                       dwLastError);</div>
<div class="line">            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        } <span class="keywordflow">else</span></div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Delete Directory Test Succeeded\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(filename);</div>
<div class="line">    <span class="keywordflow">return</span> (ret);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> OfcSetEOFTest(<a class="code hl_typedef" href="group__types.html#gad3da8ad775352e263388145f6ddb7eea">OFC_CTCHAR</a> *device) {</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> seteof_file;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwLastError;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *buffer;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaeb93d953e7773b40b433444ad8d95424">OFC_SIZET</a> len;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> status;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> pos;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *filename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwBytesWritten;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> ret;</div>
<div class="line"> </div>
<div class="line">    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    filename = MakeFilename(device, FS_TEST_SETEOF);</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * First we need to create a file to play with</span></div>
<div class="line"><span class="comment">   * This also tests us creating and writing to a file without overlap</span></div>
<div class="line"><span class="comment">   * i/o</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    seteof_file = <a class="code hl_define" href="group__file.html#gabaef589b1d18ad7259ecf8adb34d3a3b">OfcCreateFile</a>(filename,</div>
<div class="line">                                <a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55ba45e0d8b24ac8f2d8e145fcc7b4c1ba47">OFC_GENERIC_WRITE</a>,</div>
<div class="line">                                <a class="code hl_enumvalue" href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7a19bc8e71deccc5de998b1e7e46047469">OFC_FILE_SHARE_READ</a>,</div>
<div class="line">                                <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                                <a class="code hl_enumvalue" href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a5cd89cbfaa761ceff82bdf54687b2580">OFC_CREATE_ALWAYS</a>,</div>
<div class="line">                                <a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a1618a4ee292bfd7e082baa8c61d81f72">OFC_FILE_ATTRIBUTE_NORMAL</a>,</div>
<div class="line">                                <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (seteof_file == <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>) {</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to create seteof file %A, Error Code %d\n&quot;</span>,</div>
<div class="line">                   filename, <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>());</div>
<div class="line">        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Let&#39;s write some stuff to the file</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        buffer = <a class="code hl_function" href="heap_8h.html#ad8c64ed33575e33e794ed8513bf6c2bd">ofc_malloc</a>(BUFFER_SIZE);</div>
<div class="line">        len = BUFFER_SIZE;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">while</span> (len &gt; 0) {</div>
<div class="line">            len -= <a class="code hl_function" href="group__libc.html#ga5c622601603aa505c8c105c013366694">ofc_snprintf</a>(buffer + (BUFFER_SIZE - len), len,</div>
<div class="line">                                <span class="stringliteral">&quot;This Text begins at offset %d\n&quot;</span>,</div>
<div class="line">                                BUFFER_SIZE - len);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        status = <a class="code hl_function" href="group__file.html#gabc20702338872b1cfd1124fe3b06bf5a">OfcWriteFile</a>(seteof_file, buffer, BUFFER_SIZE, &amp;dwBytesWritten,</div>
<div class="line">                              <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(buffer);</div>
<div class="line">        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">            dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Write to SetEOF File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                       dwLastError);</div>
<div class="line">            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="comment">/* Close file</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            status = <a class="code hl_function" href="group__file.html#ga3ad4f110e3045fe4150f2c1e27577eb8">OfcCloseHandle</a>(seteof_file);</div>
<div class="line">            <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Close of SetEOF File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                           dwLastError);</div>
<div class="line">                ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">           * Now we want to open the file for read/write</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                seteof_file = <a class="code hl_define" href="group__file.html#gabaef589b1d18ad7259ecf8adb34d3a3b">OfcCreateFile</a>(filename,</div>
<div class="line">                                            <a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55ba45e0d8b24ac8f2d8e145fcc7b4c1ba47">OFC_GENERIC_WRITE</a> |</div>
<div class="line">                                            <a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55ba640672c2ab86b5796d41962812a2da5c">OFC_GENERIC_READ</a>,</div>
<div class="line">                                            <a class="code hl_enumvalue" href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7a19bc8e71deccc5de998b1e7e46047469">OFC_FILE_SHARE_READ</a>,</div>
<div class="line">                                            <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                                            <a class="code hl_enumvalue" href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a00ff26a1be3160742fa510d7b0cc2993">OFC_OPEN_EXISTING</a>,</div>
<div class="line">                                            <a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a1618a4ee292bfd7e082baa8c61d81f72">OFC_FILE_ATTRIBUTE_NORMAL</a>,</div>
<div class="line">                                            <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (seteof_file == <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>) {</div>
<div class="line">                    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to open seteof file %A, &quot;</span></div>
<div class="line">                               <span class="stringliteral">&quot;Error Code %d\n&quot;</span>,</div>
<div class="line">                               filename, <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>());</div>
<div class="line">                    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">           * So now we want to set the file pointer to say, 2048</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                    pos = <a id="a73" name="a73"></a><a class="code hl_function" href="group__file.html#gad1fb4274e23419b981025ced1f98c713">OfcSetFilePointer</a>(seteof_file,</div>
<div class="line">                                            BUFFER_SIZE / 2,</div>
<div class="line">                                            <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                                            <a id="a74" name="a74"></a><a class="code hl_enumvalue" href="group__file.html#gga726ca809ffd3d67ab4b8476646f26635a5ca008a1c1ffe4513ec2bacf8b5a2556">OFC_FILE_BEGIN</a>);</div>
<div class="line">                    dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                    <span class="keywordflow">if</span> (pos == <a id="a75" name="a75"></a><a class="code hl_define" href="group__file.html#gae8a12f5425e68d8625b36074523c38e1">OFC_INVALID_SET_FILE_POINTER</a> &amp;&amp;</div>
<div class="line">                        dwLastError != <a id="a76" name="a76"></a><a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951a1d4b108915c36488c95fb58b54f1e9f4">OFC_ERROR_SUCCESS</a>) {</div>
<div class="line">                        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;SetFilePosition Failed with Error %d\n&quot;</span>,</div>
<div class="line">                                   dwLastError);</div>
<div class="line">                        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        <span class="comment">/*</span></div>
<div class="line"><span class="comment">               * Now we want to set eof</span></div>
<div class="line"><span class="comment">               */</span></div>
<div class="line">                        status = <a id="a77" name="a77"></a><a class="code hl_function" href="group__file.html#ga956f00509fa69781c29d1ed2c6a80448">OfcSetEndOfFile</a>(seteof_file);</div>
<div class="line">                        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                            dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Set End Of File Failed with %d\n&quot;</span>,</div>
<div class="line">                                       dwLastError);</div>
<div class="line">                            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                        }</div>
<div class="line"><span class="preprocessor">#if 0</span></div>
<div class="line">                                                                                                                                                <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">              <a id="_a78" name="_a78"></a><a class="code hl_struct" href="struct___o_f_c___f_i_l_e___s_t_a_n_d_a_r_d___i_n_f_o.html">OFC_FILE_STANDARD_INFO</a> standard_info ;</div>
<div class="line"> </div>
<div class="line">              status = <a id="a79" name="a79"></a><a class="code hl_function" href="group__file.html#ga9e8a3de120357a505aaf4e2e68064eb6">OfcGetFileInformationByHandleEx</a></div>
<div class="line">                (seteof_file,</div>
<div class="line">                 <a id="a80" name="a80"></a><a class="code hl_enumvalue" href="group__file.html#gga58fa3c1ae767d60ec7cd335df7c8f673a1dffebd4ce19e9ccc0e001e21e57fd89">OfcFileStandardInfo</a>,</div>
<div class="line">                 &amp;standard_info,</div>
<div class="line">                 <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct___o_f_c___f_i_l_e___s_t_a_n_d_a_r_d___i_n_f_o.html">OFC_FILE_STANDARD_INFO</a>)) ;</div>
<div class="line"> </div>
<div class="line">              <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>)</div>
<div class="line">                {</div>
<div class="line">                  dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a> () ;</div>
<div class="line">                  <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a> (<span class="stringliteral">&quot;Cannot get end of file position %d\n&quot;</span>,</div>
<div class="line">                       dwLastError) ;</div>
<div class="line">                  ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a> ;</div>
<div class="line">                }</div>
<div class="line">              <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                  <span class="keywordflow">if</span> (standard_info.<a id="a81" name="a81"></a><a class="code hl_variable" href="struct___o_f_c___f_i_l_e___s_t_a_n_d_a_r_d___i_n_f_o.html#afe575296e4e850618d34dfdd780b5c3a">EndOfFile</a> != BUFFER_SIZE / 2)</div>
<div class="line">                {</div>
<div class="line">                  <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a></div>
<div class="line">                    (<span class="stringliteral">&quot;End Of File Doesn&#39;t Match.  Expected %d, Got %d\n&quot;</span>,</div>
<div class="line">                     BUFFER_SIZE / 2,</div>
<div class="line">                     (<a class="code hl_typedef" href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a>) standard_info.<a class="code hl_variable" href="struct___o_f_c___f_i_l_e___s_t_a_n_d_a_r_d___i_n_f_o.html#afe575296e4e850618d34dfdd780b5c3a">EndOfFile</a>) ;</div>
<div class="line">                  ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a> ;</div>
<div class="line">                }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">                    }</div>
<div class="line">                    status = <a class="code hl_function" href="group__file.html#ga3ad4f110e3045fe4150f2c1e27577eb8">OfcCloseHandle</a>(seteof_file);</div>
<div class="line">                    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                        dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Close of SetEOF File &quot;</span></div>
<div class="line">                                   <span class="stringliteral">&quot;after pos Failed with Error %d\n&quot;</span>,</div>
<div class="line">                                   dwLastError);</div>
<div class="line">                        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">           * Now we can delete the file</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                status = <a class="code hl_define" href="group__file.html#gac11a6c03cae41ce0c353761a2308e4bd">OfcDeleteFile</a>(filename);</div>
<div class="line">                <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>)</div>
<div class="line">                    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;SetEOF Test Succeeded\n&quot;</span>);</div>
<div class="line">                <span class="keywordflow">else</span> {</div>
<div class="line">                    dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;SetEOF Delete File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                               dwLastError);</div>
<div class="line">                    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(filename);</div>
<div class="line">    <span class="keywordflow">return</span> (ret);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Atrtribute test</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *Attr2Str[17] =</div>
<div class="line">        {</div>
<div class="line">                <span class="stringliteral">&quot;RO&quot;</span>,            <span class="comment">/* Read Only */</span></div>
<div class="line">                <span class="stringliteral">&quot;HID&quot;</span>,            <span class="comment">/* Hidden */</span></div>
<div class="line">                <span class="stringliteral">&quot;SYS&quot;</span>,            <span class="comment">/* System */</span></div>
<div class="line">                <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;DIR&quot;</span>,            <span class="comment">/* Directory */</span></div>
<div class="line">                <span class="stringliteral">&quot;ARV&quot;</span>,            <span class="comment">/* Archive */</span></div>
<div class="line">                <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;NRM&quot;</span>,            <span class="comment">/* Normal */</span></div>
<div class="line">                <span class="stringliteral">&quot;TMP&quot;</span>,            <span class="comment">/* Temporary */</span></div>
<div class="line">                <span class="stringliteral">&quot;SPR&quot;</span>,            <span class="comment">/* Sparse */</span></div>
<div class="line">                <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;CMP&quot;</span>,            <span class="comment">/* Compressed */</span></div>
<div class="line">                <span class="stringliteral">&quot;OFF&quot;</span>,            <span class="comment">/* Offline */</span></div>
<div class="line">                <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;ENC&quot;</span>,            <span class="comment">/* Encrypted */</span></div>
<div class="line">                <span class="stringliteral">&quot;&quot;</span></div>
<div class="line">                <span class="stringliteral">&quot;VIRT&quot;</span>,            <span class="comment">/* Virtual */</span></div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a> OfcFSPrintFindData(<a id="a82" name="a82"></a><a class="code hl_define" href="group__file.html#ga9780dc0f736e7ea28c77fae7d38428dd">OFC_WIN32_FIND_DATA</a> *find_data) {</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a> i;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaefb46ae3fbe092563c53a78b27646d16">OFC_UINT16</a> mask;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> str[100];        <span class="comment">/* Guaranteed big enough for all attributes */</span></div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *p;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> first;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaab0f98d3f442f4d730930b5631ee41ac">OFC_WORD</a> fat_date;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaab0f98d3f442f4d730930b5631ee41ac">OFC_WORD</a> fat_time;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaefb46ae3fbe092563c53a78b27646d16">OFC_UINT16</a> month;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaefb46ae3fbe092563c53a78b27646d16">OFC_UINT16</a> day;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaefb46ae3fbe092563c53a78b27646d16">OFC_UINT16</a> year;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaefb46ae3fbe092563c53a78b27646d16">OFC_UINT16</a> hour;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaefb46ae3fbe092563c53a78b27646d16">OFC_UINT16</a> min;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaefb46ae3fbe092563c53a78b27646d16">OFC_UINT16</a> sec;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;File: %A\n&quot;</span>, find_data-&gt;cFileName);</div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Alternate Name: %.14A\n&quot;</span>, find_data-&gt;cAlternateFileName);</div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Attributes: 0x%08x\n&quot;</span>, find_data-&gt;dwFileAttributes);</div>
<div class="line"> </div>
<div class="line">    mask = 0x0001;</div>
<div class="line">    str[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">    p = str;</div>
<div class="line">    first = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; 16; i++, mask &lt;&lt;= 1) {</div>
<div class="line">        <span class="keywordflow">if</span> (find_data-&gt;dwFileAttributes &amp; mask) {</div>
<div class="line">            <span class="keywordflow">if</span> (first)</div>
<div class="line">                first = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">            <span class="keywordflow">else</span> {</div>
<div class="line">                <a id="a83" name="a83"></a><a class="code hl_function" href="group__libc.html#ga41461da16bed4df354a1a09b13cd8d81">ofc_strcpy</a>(p, <span class="stringliteral">&quot;, &quot;</span>);</div>
<div class="line">                p += 2;</div>
<div class="line">            }</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga41461da16bed4df354a1a09b13cd8d81">ofc_strcpy</a>(p, Attr2Str[i]);</div>
<div class="line">            p += <a id="a84" name="a84"></a><a class="code hl_function" href="group__libc.html#ga84338729add0a2e51c550566d6d4ad70">ofc_strlen</a>(Attr2Str[i]);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    *p = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;    %s\n&quot;</span>, str);</div>
<div class="line"> </div>
<div class="line">    <a id="a85" name="a85"></a><a class="code hl_function" href="group___open.html#ga8521b02ed019341b94e78c09fd287b5f">ofc_file_time_to_dos_date_time</a>(&amp;find_data-&gt;ftCreateTime,</div>
<div class="line">                                   &amp;fat_date, &amp;fat_time);</div>
<div class="line"> </div>
<div class="line">    <a id="a86" name="a86"></a><a class="code hl_function" href="group___open.html#ga365ae4ff046ab602660a6f27ac8a8049">ofc_dos_date_time_to_elements</a>(fat_date, fat_time,</div>
<div class="line">                                  &amp;month, &amp;day, &amp;year, &amp;hour, &amp;min, &amp;sec);</div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Create Time: %02d/%02d/%04d %02d:%02d:%02d GMT\n&quot;</span>,</div>
<div class="line">               month, day, year, hour, min, sec);</div>
<div class="line">    <a class="code hl_function" href="group___open.html#ga8521b02ed019341b94e78c09fd287b5f">ofc_file_time_to_dos_date_time</a>(&amp;find_data-&gt;ftLastAccessTime,</div>
<div class="line">                                   &amp;fat_date, &amp;fat_time);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group___open.html#ga365ae4ff046ab602660a6f27ac8a8049">ofc_dos_date_time_to_elements</a>(fat_date, fat_time,</div>
<div class="line">                                  &amp;month, &amp;day, &amp;year, &amp;hour, &amp;min, &amp;sec);</div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Last Access Time: %02d/%02d/%04d %02d:%02d:%02d GMT\n&quot;</span>,</div>
<div class="line">               month, day, year, hour, min, sec);</div>
<div class="line">    <a class="code hl_function" href="group___open.html#ga8521b02ed019341b94e78c09fd287b5f">ofc_file_time_to_dos_date_time</a>(&amp;find_data-&gt;ftLastWriteTime,</div>
<div class="line">                                   &amp;fat_date, &amp;fat_time);</div>
<div class="line">    <a class="code hl_function" href="group___open.html#ga365ae4ff046ab602660a6f27ac8a8049">ofc_dos_date_time_to_elements</a>(fat_date, fat_time,</div>
<div class="line">                                  &amp;month, &amp;day, &amp;year, &amp;hour, &amp;min, &amp;sec);</div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Last Write Time: %02d/%02d/%04d %02d:%02d:%02d GMT\n&quot;</span>,</div>
<div class="line">               month, day, year, hour, min, sec);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;File Size High: 0x%08x, Low: 0x%08x\n&quot;</span>,</div>
<div class="line">               find_data-&gt;nFileSizeHigh, find_data-&gt;nFileSizeLow);</div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a></div>
<div class="line">OfcFSPrintFileAttributeData(<a id="_a87" name="_a87"></a><a class="code hl_struct" href="struct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a.html">OFC_WIN32_FILE_ATTRIBUTE_DATA</a> *file_data) {</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a> i;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaefb46ae3fbe092563c53a78b27646d16">OFC_UINT16</a> mask;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> str[100];        <span class="comment">/* Guaranteed big enough for all attributes */</span></div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *p;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> first;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaab0f98d3f442f4d730930b5631ee41ac">OFC_WORD</a> fat_date;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaab0f98d3f442f4d730930b5631ee41ac">OFC_WORD</a> fat_time;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaefb46ae3fbe092563c53a78b27646d16">OFC_UINT16</a> month;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaefb46ae3fbe092563c53a78b27646d16">OFC_UINT16</a> day;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaefb46ae3fbe092563c53a78b27646d16">OFC_UINT16</a> year;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaefb46ae3fbe092563c53a78b27646d16">OFC_UINT16</a> hour;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaefb46ae3fbe092563c53a78b27646d16">OFC_UINT16</a> min;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaefb46ae3fbe092563c53a78b27646d16">OFC_UINT16</a> sec;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;    Attributes: 0x%08x\n&quot;</span>, file_data-&gt;<a id="a88" name="a88"></a><a class="code hl_variable" href="struct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a.html#a2d45ebdaf6a8cc2c5ae777b4ca8081de">dwFileAttributes</a>);</div>
<div class="line"> </div>
<div class="line">    mask = 0x0001;</div>
<div class="line">    str[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">    p = str;</div>
<div class="line">    first = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; 16; i++, mask &lt;&lt;= 1) {</div>
<div class="line">        <span class="keywordflow">if</span> (file_data-&gt;<a class="code hl_variable" href="struct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a.html#a2d45ebdaf6a8cc2c5ae777b4ca8081de">dwFileAttributes</a> &amp; mask) {</div>
<div class="line">            <span class="keywordflow">if</span> (first)</div>
<div class="line">                first = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">            <span class="keywordflow">else</span> {</div>
<div class="line">                <a class="code hl_function" href="group__libc.html#ga41461da16bed4df354a1a09b13cd8d81">ofc_strcpy</a>(p, <span class="stringliteral">&quot;, &quot;</span>);</div>
<div class="line">                p += 2;</div>
<div class="line">            }</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga41461da16bed4df354a1a09b13cd8d81">ofc_strcpy</a>(p, Attr2Str[i]);</div>
<div class="line">            p += <a class="code hl_function" href="group__libc.html#ga84338729add0a2e51c550566d6d4ad70">ofc_strlen</a>(Attr2Str[i]);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    *p = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;    %s\n&quot;</span>, str);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group___open.html#ga8521b02ed019341b94e78c09fd287b5f">ofc_file_time_to_dos_date_time</a>(&amp;file_data-&gt;<a id="a89" name="a89"></a><a class="code hl_variable" href="struct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a.html#ae3d86ed5bed67a1d160cbe51950e5526">ftCreateTime</a>,</div>
<div class="line">                                   &amp;fat_date, &amp;fat_time);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group___open.html#ga365ae4ff046ab602660a6f27ac8a8049">ofc_dos_date_time_to_elements</a>(fat_date, fat_time,</div>
<div class="line">                                  &amp;month, &amp;day, &amp;year, &amp;hour, &amp;min, &amp;sec);</div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Create Time: %02d/%02d/%04d %02d:%02d:%02d GMT\n&quot;</span>,</div>
<div class="line">               month, day, year, hour, min, sec);</div>
<div class="line">    <a class="code hl_function" href="group___open.html#ga8521b02ed019341b94e78c09fd287b5f">ofc_file_time_to_dos_date_time</a>(&amp;file_data-&gt;<a id="a90" name="a90"></a><a class="code hl_variable" href="struct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a.html#a1b4d97a059dece1ce8278705d98bc89d">ftLastAccessTime</a>,</div>
<div class="line">                                   &amp;fat_date, &amp;fat_time);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group___open.html#ga365ae4ff046ab602660a6f27ac8a8049">ofc_dos_date_time_to_elements</a>(fat_date, fat_time,</div>
<div class="line">                                  &amp;month, &amp;day, &amp;year, &amp;hour, &amp;min, &amp;sec);</div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Last Access Time: %02d/%02d/%04d %02d:%02d:%02d GMT\n&quot;</span>,</div>
<div class="line">               month, day, year, hour, min, sec);</div>
<div class="line">    <a class="code hl_function" href="group___open.html#ga8521b02ed019341b94e78c09fd287b5f">ofc_file_time_to_dos_date_time</a>(&amp;file_data-&gt;<a id="a91" name="a91"></a><a class="code hl_variable" href="struct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a.html#a2e99ff5befe4e19af78cd17b30590a8a">ftLastWriteTime</a>,</div>
<div class="line">                                   &amp;fat_date, &amp;fat_time);</div>
<div class="line">    <a class="code hl_function" href="group___open.html#ga365ae4ff046ab602660a6f27ac8a8049">ofc_dos_date_time_to_elements</a>(fat_date, fat_time,</div>
<div class="line">                                  &amp;month, &amp;day, &amp;year, &amp;hour, &amp;min, &amp;sec);</div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Last Write Time: %02d/%02d/%04d %02d:%02d:%02d GMT\n&quot;</span>,</div>
<div class="line">               month, day, year, hour, min, sec);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;File Size High: 0x%08x, Low: 0x%08x\n&quot;</span>,</div>
<div class="line">               file_data-&gt;<a id="a92" name="a92"></a><a class="code hl_variable" href="struct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a.html#aa321f8043e31828661864cf8a829e4f1">nFileSizeHigh</a>, file_data-&gt;<a id="a93" name="a93"></a><a class="code hl_variable" href="struct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a.html#a0f4a7a25a2b7e15f855a5d44da0cee5c">nFileSizeLow</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> OfcListDirTest(<a class="code hl_typedef" href="group__types.html#gad3da8ad775352e263388145f6ddb7eea">OFC_CTCHAR</a> *device) {</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> list_handle;</div>
<div class="line">    <a class="code hl_define" href="group__file.html#ga9780dc0f736e7ea28c77fae7d38428dd">OFC_WIN32_FIND_DATA</a> find_data;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> more = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> status;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *filename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> last_error;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> retry;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> username[80];</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> password[80];</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> domain[80];</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *tusername;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *tpassword;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *tdomain;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> ret;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a> count;</div>
<div class="line"> </div>
<div class="line">    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    retry = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    list_handle = <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>;</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * The initial credentials in device are anonymous.  If that fails,</span></div>
<div class="line"><span class="comment">   * prompt for credentials and try again.</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line"> </div>
<div class="line">    count = 0;</div>
<div class="line">    <span class="keywordflow">while</span> (retry == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">        filename = MakeFilename(device, <a id="a94" name="a94"></a><a class="code hl_define" href="group__types.html#gadbd0734a648c3f38a151c332c750fc76">TSTR</a>(<span class="stringliteral">&quot;*&quot;</span>));</div>
<div class="line"> </div>
<div class="line">        list_handle = <a id="a95" name="a95"></a><a class="code hl_define" href="group__file.html#gab4c253fe14a83c91f5c5ccd97ce685ce">OfcFindFirstFile</a>(filename, &amp;find_data, &amp;more);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (list_handle != <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>)</div>
<div class="line">            retry = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            last_error = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to list dir %A, Error Code %d\n&quot;</span>,</div>
<div class="line">                       filename, last_error);</div>
<div class="line">            <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * LOGON_FAILURE can be returned if authentication failed</span></div>
<div class="line"><span class="comment">       * ACCESS_DENIED if authentication succeeded but no access to share</span></div>
<div class="line"><span class="comment">       * INVALID_PASSWORD if password different then connection</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            <span class="keywordflow">if</span> (last_error == <a id="a96" name="a96"></a><a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951a19bd632b69d2760a946e2da8dd92ea5c">OFC_ERROR_LOGON_FAILURE</a> ||</div>
<div class="line">                last_error == <a id="a97" name="a97"></a><a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951ace6c5275a4555c892e7914dde12ae6e3">OFC_ERROR_ACCESS_DENIED</a> ||</div>
<div class="line">                last_error == <a id="a98" name="a98"></a><a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951a30a3447748e748f6f301b799b49ee9b8">OFC_ERROR_INVALID_PASSWORD</a>) {</div>
<div class="line">                <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Please Authenticate\n&quot;</span>);</div>
<div class="line">                <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Username: &quot;</span>);</div>
<div class="line">                <a id="a99" name="a99"></a><a class="code hl_function" href="group__console.html#ga2453a2f48cfad24652a897100f2cfc80">ofc_read_line</a>(username, 80);</div>
<div class="line">                <span class="keywordflow">if</span> (<a class="code hl_function" href="group__libc.html#ga84338729add0a2e51c550566d6d4ad70">ofc_strlen</a>(username) == 0)</div>
<div class="line">                    retry = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                <span class="keywordflow">else</span> {</div>
<div class="line">                    tusername = <a id="a100" name="a100"></a><a class="code hl_define" href="group__libc.html#gabffb1ba19fc2a37664af674b51546c78">ofc_cstr2tastr</a> (username);</div>
<div class="line">                    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Domain: &quot;</span>);</div>
<div class="line">                    <a class="code hl_function" href="group__console.html#ga2453a2f48cfad24652a897100f2cfc80">ofc_read_line</a>(domain, 80);</div>
<div class="line">                    tdomain = <a class="code hl_define" href="group__libc.html#gabffb1ba19fc2a37664af674b51546c78">ofc_cstr2tastr</a> (domain);</div>
<div class="line">                    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Password: &quot;</span>);</div>
<div class="line">                    <a id="a101" name="a101"></a><a class="code hl_function" href="group__console.html#gaf9af35af1b6c87ec15cfe35ffb0642ab">ofc_read_password</a>(password, 80);</div>
<div class="line">                    tpassword = <a class="code hl_define" href="group__libc.html#gabffb1ba19fc2a37664af674b51546c78">ofc_cstr2tastr</a> (password);</div>
<div class="line">                    <span class="comment">/*</span></div>
<div class="line"><span class="comment">           * Now remap the device</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                    <a id="a102" name="a102"></a><a class="code hl_define" href="group__path.html#ga87f3b5c75017dafba2de4f9e46be2054">ofc_path_update_credentials</a>(filename, tusername,</div>
<div class="line">                                                tpassword, tdomain);</div>
<div class="line">                    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(tusername);</div>
<div class="line">                    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(tpassword);</div>
<div class="line">                    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(tdomain);</div>
<div class="line">                }</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                retry = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(filename);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (list_handle != <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>) {</div>
<div class="line">        count++;</div>
<div class="line">        OfcFSPrintFindData(&amp;find_data);</div>
<div class="line"> </div>
<div class="line">        status = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">        <span class="keywordflow">while</span> (more &amp;&amp; status == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">            status = <a id="a103" name="a103"></a><a class="code hl_define" href="group__file.html#ga67dc3eadeefacf3030a343547cc847f3">OfcFindNextFile</a>(list_handle,</div>
<div class="line">                                     &amp;find_data,</div>
<div class="line">                                     &amp;more);</div>
<div class="line">            <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                count++;</div>
<div class="line">                OfcFSPrintFindData(&amp;find_data);</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                last_error = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                <span class="keywordflow">if</span> (last_error != <a id="a104" name="a104"></a><a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951a63462db67182595d5fe7f0c2ed18d576">OFC_ERROR_NO_MORE_FILES</a>) {</div>
<div class="line">                    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to Find Next, Error Code %d\n&quot;</span>,</div>
<div class="line">                               last_error);</div>
<div class="line">                    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <a id="a105" name="a105"></a><a class="code hl_function" href="group__file.html#gac7923ba99cf0af7d53a2333ca65b5c56">OfcFindClose</a>(list_handle);</div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Total Number of Files in Directory %d\n&quot;</span>, count);</div>
<div class="line">    <span class="keywordflow">return</span> (ret);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> OfcGetFileAttributesTest(<a class="code hl_typedef" href="group__types.html#gad3da8ad775352e263388145f6ddb7eea">OFC_CTCHAR</a> *device) {</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> getex_file;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwLastError;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *buffer;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaeb93d953e7773b40b433444ad8d95424">OFC_SIZET</a> len;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> status;</div>
<div class="line">    <a class="code hl_struct" href="struct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a.html">OFC_WIN32_FILE_ATTRIBUTE_DATA</a> fInfo;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *filename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> dwBytesWritten;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> ret;</div>
<div class="line"> </div>
<div class="line">    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    filename = MakeFilename(device, FS_TEST_GETEX);</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * First we need to create a file to play with</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    getex_file = <a class="code hl_define" href="group__file.html#gabaef589b1d18ad7259ecf8adb34d3a3b">OfcCreateFile</a>(filename,</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55ba45e0d8b24ac8f2d8e145fcc7b4c1ba47">OFC_GENERIC_WRITE</a>,</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7a19bc8e71deccc5de998b1e7e46047469">OFC_FILE_SHARE_READ</a>,</div>
<div class="line">                               <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a5cd89cbfaa761ceff82bdf54687b2580">OFC_CREATE_ALWAYS</a>,</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a1618a4ee292bfd7e082baa8c61d81f72">OFC_FILE_ATTRIBUTE_NORMAL</a>,</div>
<div class="line">                               <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (getex_file == <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>) {</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to create getex file %A, Error Code %d\n&quot;</span>,</div>
<div class="line">                   filename, <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>());</div>
<div class="line">        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Let&#39;s write some stuff to the file</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        buffer = <a class="code hl_function" href="heap_8h.html#ad8c64ed33575e33e794ed8513bf6c2bd">ofc_malloc</a>(BUFFER_SIZE);</div>
<div class="line">        len = BUFFER_SIZE;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">while</span> (len &gt; 0) {</div>
<div class="line">            len -= <a class="code hl_function" href="group__libc.html#ga5c622601603aa505c8c105c013366694">ofc_snprintf</a>(buffer + (BUFFER_SIZE - len), len,</div>
<div class="line">                                <span class="stringliteral">&quot;This Text begins at offset %d\n&quot;</span>,</div>
<div class="line">                                BUFFER_SIZE - len);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        status = <a class="code hl_function" href="group__file.html#gabc20702338872b1cfd1124fe3b06bf5a">OfcWriteFile</a>(getex_file, buffer, BUFFER_SIZE, &amp;dwBytesWritten,</div>
<div class="line">                              <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(buffer);</div>
<div class="line">        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">            dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Write to GetEX File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                       dwLastError);</div>
<div class="line">            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="comment">/* Close file</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">            status = <a class="code hl_function" href="group__file.html#ga3ad4f110e3045fe4150f2c1e27577eb8">OfcCloseHandle</a>(getex_file);</div>
<div class="line">            <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Close of GetEX File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                           dwLastError);</div>
<div class="line">                ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                status = <a id="a106" name="a106"></a><a class="code hl_define" href="group__file.html#ga302168c027f250e0e8c1a9f4b8a9193f">OfcGetFileAttributesEx</a>(filename,</div>
<div class="line">                                                <a id="a107" name="a107"></a><a class="code hl_enumvalue" href="group__file.html#gga5432b275530c45673431cad0a7f0a008ada6c418db9c293c45e7b39c0222f6429">OfcGetFileExInfoStandard</a>,</div>
<div class="line">                                                &amp;fInfo);</div>
<div class="line">                <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                    dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;GetEx Get File Info Failed with Error %d\n&quot;</span>,</div>
<div class="line">                               dwLastError);</div>
<div class="line">                    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Get File Info for %A\n&quot;</span>, filename);</div>
<div class="line">                    OfcFSPrintFileAttributeData(&amp;fInfo);</div>
<div class="line">                }</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">           * Now we can delete the file</span></div>
<div class="line"><span class="comment">           */</span></div>
<div class="line">                status = <a class="code hl_define" href="group__file.html#gac11a6c03cae41ce0c353761a2308e4bd">OfcDeleteFile</a>(filename);</div>
<div class="line">                <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>) {</div>
<div class="line">                    dwLastError = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">                    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;GetEx Delete File Failed with Error %d\n&quot;</span>,</div>
<div class="line">                               dwLastError);</div>
<div class="line">                    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(filename);</div>
<div class="line">    <span class="keywordflow">return</span> (ret);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> OfcGetDiskFreeSpaceTest(<a class="code hl_typedef" href="group__types.html#gad3da8ad775352e263388145f6ddb7eea">OFC_CTCHAR</a> *device) {</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> SectorsPerCluster;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> BytesPerSector;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> NumberOfFreeClusters;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> TotalNumberOfClusters;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> result;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *filename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> ret;</div>
<div class="line"> </div>
<div class="line">    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    filename = MakeFilename(device, <a class="code hl_define" href="group__types.html#gadbd0734a648c3f38a151c332c750fc76">TSTR</a>(<span class="stringliteral">&quot;:&quot;</span>));</div>
<div class="line"> </div>
<div class="line">    result = <a id="a108" name="a108"></a><a class="code hl_define" href="group__file.html#ga01ed09b2df3d9c8a6c59d6969bbd9ac2">OfcGetDiskFreeSpace</a>(filename, &amp;SectorsPerCluster,</div>
<div class="line">                                 &amp;BytesPerSector, &amp;NumberOfFreeClusters,</div>
<div class="line">                                 &amp;TotalNumberOfClusters);</div>
<div class="line">    <span class="keywordflow">if</span> (result == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>) {</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to get disk free space on %A, Error Code %d\n&quot;</span>,</div>
<div class="line">                   filename, <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>());</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Disk Free Space and Volume Information only works on Shares.</span></div>
<div class="line"><span class="comment">       * (ie. there is no file name).  No, reverse connections are tricky.</span></div>
<div class="line"><span class="comment">       * The way we build names for a reverse connection uses the server</span></div>
<div class="line"><span class="comment">       * as the gateway and the share as the server.  It&#39;s not until the</span></div>
<div class="line"><span class="comment">       * first directory that we actually specify the share.  Unfortunately,</span></div>
<div class="line"><span class="comment">       * the SMB protocol only accepts the share id in the request.  That</span></div>
<div class="line"><span class="comment">       * would imply the server.  So getting free space or volume info on</span></div>
<div class="line"><span class="comment">       * a server just doesn&#39;t make sense.  In order to support this through</span></div>
<div class="line"><span class="comment">       * a proxy, there needs to be a one to one correspondence between</span></div>
<div class="line"><span class="comment">       * client share, proxy share, and server share.  This makes proxying</span></div>
<div class="line"><span class="comment">       * pretty useless since we could not proxy multiple servers through the</span></div>
<div class="line"><span class="comment">       * same proxy.  I think this is the only limitation.</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Not supported on reverse connections, &quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot;see code comment\n&quot;</span>);</div>
<div class="line">        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Free Space On %A\n&quot;</span>, filename);</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Sectors Per Cluster: %d\n&quot;</span>, SectorsPerCluster);</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Bytes Per Sector: %d\n&quot;</span>, BytesPerSector);</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Number of Free Clusters: %d\n&quot;</span>, NumberOfFreeClusters);</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Total Number of Clusters: %d\n&quot;</span>, TotalNumberOfClusters);</div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(filename);</div>
<div class="line">    <span class="keywordflow">return</span> (ret);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> OfcGetVolumeInformationTest(<a class="code hl_typedef" href="group__types.html#gad3da8ad775352e263388145f6ddb7eea">OFC_CTCHAR</a> *device) {</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> VolumeNameBuffer[<a id="a109" name="a109"></a><a class="code hl_define" href="group__file.html#ga09b5d39d7aef15fea5c9d5204005ccc5">OFC_MAX_PATH</a> + 1];</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> VolumeSerialNumber;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> MaximumComponentLength;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> FileSystemFlags;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> FileSystemName[<a class="code hl_define" href="group__file.html#ga09b5d39d7aef15fea5c9d5204005ccc5">OFC_MAX_PATH</a> + 1];</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> result;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *filename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> ret;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *root;</div>
<div class="line"> </div>
<div class="line">    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    filename = MakeFilename(device, <a class="code hl_define" href="group__types.html#gadbd0734a648c3f38a151c332c750fc76">TSTR</a>(<span class="stringliteral">&quot;:&quot;</span>));</div>
<div class="line">    <a id="a110" name="a110"></a><a class="code hl_define" href="group__path.html#ga5751d5c1785d45bf3cc1929cd5fb44a4">ofc_path_get_root</a>(filename, &amp;root, <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>);</div>
<div class="line"> </div>
<div class="line">    result = <a id="a111" name="a111"></a><a class="code hl_define" href="group__file.html#ga792dabeb2a6533d2120a87c599543887">OfcGetVolumeInformation</a>(root,</div>
<div class="line">                                     VolumeNameBuffer,</div>
<div class="line">                                     <a class="code hl_define" href="group__file.html#ga09b5d39d7aef15fea5c9d5204005ccc5">OFC_MAX_PATH</a> + 1,</div>
<div class="line">                                     &amp;VolumeSerialNumber,</div>
<div class="line">                                     &amp;MaximumComponentLength,</div>
<div class="line">                                     &amp;FileSystemFlags,</div>
<div class="line">                                     FileSystemName,</div>
<div class="line">                                     <a class="code hl_define" href="group__file.html#ga09b5d39d7aef15fea5c9d5204005ccc5">OFC_MAX_PATH</a> + 1);</div>
<div class="line">    <span class="keywordflow">if</span> (result == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>) {</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Failed to get volume info on %A, Error Code %d\n&quot;</span>,</div>
<div class="line">                   filename, <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>());</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Disk Free Space and Volume Information only works on Shares.</span></div>
<div class="line"><span class="comment">       * (ie. there is no file name).  No, reverse connections are tricky.</span></div>
<div class="line"><span class="comment">       * The way we build names for a reverse connection uses the server</span></div>
<div class="line"><span class="comment">       * as the gateway and the share as the server.  It&#39;s not until the</span></div>
<div class="line"><span class="comment">       * first directory that we actually specify the share.  Unfortunately,</span></div>
<div class="line"><span class="comment">       * the SMB protocol only accepts the share id in the request.  That</span></div>
<div class="line"><span class="comment">       * would imply the server.  So getting free space or volume info on</span></div>
<div class="line"><span class="comment">       * a server just doesn&#39;t make sense.  In order to support this through</span></div>
<div class="line"><span class="comment">       * a proxy, there needs to be a one to one correspondence between</span></div>
<div class="line"><span class="comment">       * client share, proxy share, and server share.  This makes proxying</span></div>
<div class="line"><span class="comment">       * pretty useless since we could not proxy multiple servers through the</span></div>
<div class="line"><span class="comment">       * same proxy.  I think this is the only limitation.</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Not supported on reverse connections, &quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot;see code comment\n&quot;</span>);</div>
<div class="line">        ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Volume Info for %A\n&quot;</span>, filename);</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Volume Name: %A\n&quot;</span>, VolumeNameBuffer);</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Volume Serial Number: 0x%08x\n&quot;</span>, VolumeSerialNumber);</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Max Component Length: %d\n&quot;</span>, MaximumComponentLength);</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  File System Flags: 0x%08x\n&quot;</span>, FileSystemFlags);</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  File System Name: %A\n&quot;</span>, FileSystemName);</div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(filename);</div>
<div class="line">    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(root);</div>
<div class="line">    <span class="keywordflow">return</span> (ret);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>_test_path {</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *description;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *username;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *password;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *domain;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *smbserver;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *sharefolder;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a> *subdirectory;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga2912ed518e9a6b6e8d4b7dddd63ed32a">OFC_UINT32</a> expected_error1;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga2912ed518e9a6b6e8d4b7dddd63ed32a">OFC_UINT32</a> expected_error2;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>_test_path test_paths[] =</div>
<div class="line">        {</div>
<div class="line">                <span class="comment">/* Test 0, Good case */</span></div>
<div class="line">                {</div>
<div class="line">                        <span class="stringliteral">&quot;Valid Path&quot;</span>,</div>
<div class="line">                        <span class="stringliteral">&quot;user&quot;</span>, <span class="stringliteral">&quot;password&quot;</span>, <span class="stringliteral">&quot;workgroup&quot;</span>,</div>
<div class="line">                        <span class="stringliteral">&quot;tester&quot;</span>, <span class="stringliteral">&quot;openfiles&quot;</span>, <span class="stringliteral">&quot;mydir&quot;</span>,</div>
<div class="line">                        <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951a1d4b108915c36488c95fb58b54f1e9f4">OFC_ERROR_SUCCESS</a>,        <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951a1d4b108915c36488c95fb58b54f1e9f4">OFC_ERROR_SUCCESS</a></div>
<div class="line">                },</div>
<div class="line">                <span class="comment">/* Test 1, SMB server is wrong */</span></div>
<div class="line">                {</div>
<div class="line">                        <span class="stringliteral">&quot;Non-existent SMB Server&quot;</span>,</div>
<div class="line">                        <span class="stringliteral">&quot;user&quot;</span>, <span class="stringliteral">&quot;password&quot;</span>, <span class="stringliteral">&quot;workgroup&quot;</span>,</div>
<div class="line">                        <span class="stringliteral">&quot;bogus&quot;</span>,  <span class="stringliteral">&quot;openfiles&quot;</span>, <span class="stringliteral">&quot;mydir&quot;</span>,</div>
<div class="line">                        <a id="a112" name="a112"></a><a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951af28e42f761d058e8d8a0630c9450314e">OFC_ERROR_BAD_NET_NAME</a>,   <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951af28e42f761d058e8d8a0630c9450314e">OFC_ERROR_BAD_NET_NAME</a></div>
<div class="line">                },</div>
<div class="line">                <span class="comment">/* Test 2, Share folder is wrong */</span></div>
<div class="line">                {</div>
<div class="line">                        <span class="stringliteral">&quot;Non-existent SMB Share&quot;</span>,</div>
<div class="line">                        <span class="stringliteral">&quot;user&quot;</span>, <span class="stringliteral">&quot;password&quot;</span>, <span class="stringliteral">&quot;workgroup&quot;</span>,</div>
<div class="line">                        <span class="stringliteral">&quot;tester&quot;</span>, <span class="stringliteral">&quot;bogus&quot;</span>,     <span class="stringliteral">&quot;mydir&quot;</span>,</div>
<div class="line">                        <a id="a113" name="a113"></a><a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951a1aa9938d1891eec20a8dad728e888623">OFC_ERROR_BAD_NETPATH</a>,    <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951a1aa9938d1891eec20a8dad728e888623">OFC_ERROR_BAD_NETPATH</a></div>
<div class="line">                },</div>
<div class="line">                <span class="comment">/* Test 3, Password is wrong */</span></div>
<div class="line">                {</div>
<div class="line">                        <span class="stringliteral">&quot;Bad Passwowrd&quot;</span>,</div>
<div class="line">                        <span class="stringliteral">&quot;user&quot;</span>, <span class="stringliteral">&quot;bogus&quot;</span>,    <span class="stringliteral">&quot;workgroup&quot;</span>,</div>
<div class="line">                        <span class="stringliteral">&quot;tester&quot;</span>, <span class="stringliteral">&quot;openfiles&quot;</span>, <span class="stringliteral">&quot;mydir&quot;</span>,</div>
<div class="line">                        <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951a19bd632b69d2760a946e2da8dd92ea5c">OFC_ERROR_LOGON_FAILURE</a>,  <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951a30a3447748e748f6f301b799b49ee9b8">OFC_ERROR_INVALID_PASSWORD</a></div>
<div class="line">                },</div>
<div class="line">                <span class="comment">/* Test 4, Subdirectory is wrong */</span></div>
<div class="line">                {</div>
<div class="line">                        <span class="stringliteral">&quot;Non-existent Subdirectory&quot;</span>,</div>
<div class="line">                        <span class="stringliteral">&quot;user&quot;</span>, <span class="stringliteral">&quot;password&quot;</span>, <span class="stringliteral">&quot;workgroup&quot;</span>,</div>
<div class="line">                        <span class="stringliteral">&quot;tester&quot;</span>, <span class="stringliteral">&quot;openfiles&quot;</span>, <span class="stringliteral">&quot;bogus&quot;</span>,</div>
<div class="line">                        <a id="a114" name="a114"></a><a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951afb8b9dea8d446faafe726dae5fd3aaf3">OFC_ERROR_FILE_NOT_FOUND</a>, <a id="a115" name="a115"></a><a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951acff25593b395e7225f391054dfaf3f83">OFC_ERROR_PATH_NOT_FOUND</a></div>
<div class="line">                },</div>
<div class="line">                <span class="comment">/* Test 5, Share folder doesn&#39;t have write permission */</span></div>
<div class="line">                {</div>
<div class="line">                        <span class="stringliteral">&quot;Read-Only Share&quot;</span>,</div>
<div class="line">                        <span class="stringliteral">&quot;user&quot;</span>, <span class="stringliteral">&quot;password&quot;</span>, <span class="stringliteral">&quot;workgroup&quot;</span>,</div>
<div class="line">                        <span class="stringliteral">&quot;tester&quot;</span>, <span class="stringliteral">&quot;roshare&quot;</span>,   <span class="stringliteral">&quot;mydir&quot;</span>,</div>
<div class="line">                        <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951ace6c5275a4555c892e7914dde12ae6e3">OFC_ERROR_ACCESS_DENIED</a>,  <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951acff25593b395e7225f391054dfaf3f83">OFC_ERROR_PATH_NOT_FOUND</a></div>
<div class="line">                },</div>
<div class="line">                <span class="comment">/* Test 6, Subdirectory doesn&#39;t have write permission */</span></div>
<div class="line">                {</div>
<div class="line">                        <span class="stringliteral">&quot;Read-Only Subdirectory&quot;</span>,</div>
<div class="line">                        <span class="stringliteral">&quot;user&quot;</span>, <span class="stringliteral">&quot;password&quot;</span>, <span class="stringliteral">&quot;workgroup&quot;</span>,</div>
<div class="line">                        <span class="stringliteral">&quot;tester&quot;</span>, <span class="stringliteral">&quot;openfiles&quot;</span>, <span class="stringliteral">&quot;rodir&quot;</span>,</div>
<div class="line">                        <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951ace6c5275a4555c892e7914dde12ae6e3">OFC_ERROR_ACCESS_DENIED</a>,  <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951ace6c5275a4555c892e7914dde12ae6e3">OFC_ERROR_ACCESS_DENIED</a></div>
<div class="line">                },</div>
<div class="line">                <span class="comment">/* end of list */</span></div>
<div class="line">                {</div>
<div class="line">                        <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                        <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>, <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>, <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                        <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>, <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>, <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                        <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951a1d4b108915c36488c95fb58b54f1e9f4">OFC_ERROR_SUCCESS</a>,        <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951a1d4b108915c36488c95fb58b54f1e9f4">OFC_ERROR_SUCCESS</a></div>
<div class="line">                }</div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> OfcBadFileNamesTest(<a class="code hl_typedef" href="group__types.html#gad3da8ad775352e263388145f6ddb7eea">OFC_CTCHAR</a> *device) {</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> ret;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> test_status;</div>
<div class="line">    <a class="code hl_typedef" href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a> hFile;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">char</span> uncfilename[<a class="code hl_define" href="group__file.html#ga09b5d39d7aef15fea5c9d5204005ccc5">OFC_MAX_PATH</a>];</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gaeb93d953e7773b40b433444ad8d95424">OFC_SIZET</a> filelen;</div>
<div class="line">    <span class="keywordtype">char</span> *tmpfilename;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga2912ed518e9a6b6e8d4b7dddd63ed32a">OFC_UINT32</a> lasterror;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a> i;</div>
<div class="line"> </div>
<div class="line">    ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; test_paths[i].description != <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>; i++) {</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Test %d, %s\n&quot;</span>, i, test_paths[i].description);</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * method A, Opening Directory</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        filelen = <a class="code hl_define" href="group__file.html#ga09b5d39d7aef15fea5c9d5204005ccc5">OFC_MAX_PATH</a>;</div>
<div class="line">        tmpfilename = &amp;uncfilename[0];</div>
<div class="line">        <a id="a116" name="a116"></a><a class="code hl_function" href="group__path.html#ga152e55f398ab5ddd2a09a0fbcc11e81b">ofc_path_make_urlA</a>(&amp;tmpfilename, &amp;filelen,</div>
<div class="line">                           test_paths[i].username,</div>
<div class="line">                           test_paths[i].password,</div>
<div class="line">                           test_paths[i].domain,</div>
<div class="line">                           test_paths[i].smbserver,</div>
<div class="line">                           test_paths[i].sharefolder,</div>
<div class="line">                           test_paths[i].subdirectory,</div>
<div class="line">                           <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>);</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Writeable Directory Mode\n&quot;</span>);</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Testing Write Access to %s\n&quot;</span>, uncfilename);</div>
<div class="line"> </div>
<div class="line">        hFile = <a id="a117" name="a117"></a><a class="code hl_function" href="group__file.html#gac3787312ce22507d2cad19942f3d5a31">OfcCreateFileA</a>(uncfilename,</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55ba45e0d8b24ac8f2d8e145fcc7b4c1ba47">OFC_GENERIC_WRITE</a>,</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7adbbcb2a2275b14bd1209aa75e4499165">OFC_FILE_SHARE_WRITE</a>,</div>
<div class="line">                               <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a00ff26a1be3160742fa510d7b0cc2993">OFC_OPEN_EXISTING</a>,</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a47e292c11b2ac019768b71a10f4c1659">OFC_FILE_ATTRIBUTE_DIRECTORY</a>,</div>
<div class="line">                               <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line"> </div>
<div class="line">        test_status = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">        <span class="keywordflow">if</span> (hFile == <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>) {</div>
<div class="line">            lasterror = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <a class="code hl_function" href="group__file.html#ga3ad4f110e3045fe4150f2c1e27577eb8">OfcCloseHandle</a>(hFile);</div>
<div class="line">            lasterror = <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951a1d4b108915c36488c95fb58b54f1e9f4">OFC_ERROR_SUCCESS</a>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (test_paths[i].expected_error1 != lasterror &amp;&amp;</div>
<div class="line">            test_paths[i].expected_error2 != lasterror) {</div>
<div class="line">            test_status = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;%s: last error %d, expected error %d or %d\n&quot;</span>,</div>
<div class="line">                   test_status == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILURE&quot;</span>,</div>
<div class="line">                   lasterror, test_paths[i].expected_error1,</div>
<div class="line">                   test_paths[i].expected_error2);</div>
<div class="line">        <a id="a118" name="a118"></a><a class="code hl_function" href="group__file.html#ga763019e02d5d7c89496e314e8b756b38">OfcDismountA</a>(uncfilename);</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * method B, Temporary File</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        filelen = <a class="code hl_define" href="group__file.html#ga09b5d39d7aef15fea5c9d5204005ccc5">OFC_MAX_PATH</a>;</div>
<div class="line">        tmpfilename = &amp;uncfilename[0];</div>
<div class="line">        <a class="code hl_function" href="group__path.html#ga152e55f398ab5ddd2a09a0fbcc11e81b">ofc_path_make_urlA</a>(&amp;tmpfilename, &amp;filelen,</div>
<div class="line">                           test_paths[i].username,</div>
<div class="line">                           test_paths[i].password,</div>
<div class="line">                           test_paths[i].domain,</div>
<div class="line">                           test_paths[i].smbserver,</div>
<div class="line">                           test_paths[i].sharefolder,</div>
<div class="line">                           test_paths[i].subdirectory,</div>
<div class="line">                           <span class="stringliteral">&quot;uniquefile&quot;</span>);</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Writeable Temporary File Mode\n&quot;</span>);</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Testing Write Access to %s\n&quot;</span>, uncfilename);</div>
<div class="line"> </div>
<div class="line">        hFile = <a class="code hl_function" href="group__file.html#gac3787312ce22507d2cad19942f3d5a31">OfcCreateFileA</a>(uncfilename,</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55ba640672c2ab86b5796d41962812a2da5c">OFC_GENERIC_READ</a> | <a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55ba45e0d8b24ac8f2d8e145fcc7b4c1ba47">OFC_GENERIC_WRITE</a> |</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55bab3342443efe51e63b5902238de9be351">OFC_FILE_DELETE</a>,</div>
<div class="line">                               <a id="a119" name="a119"></a><a class="code hl_enumvalue" href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7ac3b48e2b7fbfbcefe447a7b2bbfbf490">OFC_FILE_SHARE_NONE</a>,</div>
<div class="line">                               <a class="code hl_define" href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a>,</div>
<div class="line">                               <a id="a120" name="a120"></a><a class="code hl_enumvalue" href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a47f9d4c1d94828584c3afed1b835864a">OFC_CREATE_NEW</a>,</div>
<div class="line">                               <a id="a121" name="a121"></a><a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a3d993490574a6a509ffe2a409572d2e4">OFC_FILE_ATTRIBUTE_TEMPORARY</a> |</div>
<div class="line">                               <a class="code hl_enumvalue" href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a927e641aa0c43c13cf653451e5fb6267">OFC_FILE_FLAG_DELETE_ON_CLOSE</a>,</div>
<div class="line">                               <a class="code hl_define" href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a>);</div>
<div class="line">        test_status = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line">        <span class="keywordflow">if</span> (hFile == <a class="code hl_define" href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a>) {</div>
<div class="line">            lasterror = <a class="code hl_function" href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a>();</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <a class="code hl_function" href="group__file.html#ga3ad4f110e3045fe4150f2c1e27577eb8">OfcCloseHandle</a>(hFile);</div>
<div class="line">            lasterror = <a class="code hl_enumvalue" href="group__file.html#gga04a98b492c3df959278c7383615ef951a1d4b108915c36488c95fb58b54f1e9f4">OFC_ERROR_SUCCESS</a>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (test_paths[i].expected_error1 != lasterror &amp;&amp;</div>
<div class="line">            test_paths[i].expected_error2 != lasterror) {</div>
<div class="line">            test_status = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">            ret = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;%s: last error %d, expected error %d or %d\n&quot;</span>,</div>
<div class="line">                   test_status == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILURE&quot;</span>,</div>
<div class="line">                   lasterror, test_paths[i].expected_error1,</div>
<div class="line">                   test_paths[i].expected_error2);</div>
<div class="line">        <a class="code hl_function" href="group__file.html#ga763019e02d5d7c89496e314e8b756b38">OfcDismountA</a>(uncfilename);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> (ret);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Startup Entry point to the test</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * \param hScheduler</span></div>
<div class="line"><span class="comment"> * The scheduler that this test should create apps within (if any)</span></div>
<div class="line"><span class="comment"> * In our case, the file system test does not create any apps.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><a class="code hl_typedef" href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a> <a id="a122" name="a122"></a><a class="code hl_function" href="test__file_8h.html#a711fdba7dec556cb0fe83be0f4481255">test_file</a>(<a class="code hl_typedef" href="group__types.html#gacea33799136fe1c3581edb9314a6d567">OFC_LPCSTR</a> test_root) {</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a> ret;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a> *device;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a> test_result;</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a> count;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">   * Map the test device to the test path.  Determine what</span></div>
<div class="line"><span class="comment">   * File System Handler we should test.</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">    <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;Starting File Test with %s\n&quot;</span>, test_root);</div>
<div class="line"> </div>
<div class="line">    <a id="a123" name="a123"></a><a class="code hl_function" href="group__thread.html#ga21f68b94407c9c7cb4c6344bdee5680d">ofc_sleep</a>(3000);</div>
<div class="line">    <a id="a124" name="a124"></a><a class="code hl_function" href="group__thread.html#ga0620e60c591434ee67e9765b39e621cc">ofc_thread_create_local_storage</a>();</div>
<div class="line"> </div>
<div class="line">    count = 0;</div>
<div class="line"> </div>
<div class="line">    device = <a id="a125" name="a125"></a><a class="code hl_function" href="group__libc.html#ga1a6dcf2283714c605d40de00a2127ee7">ofc_cstr2tstr</a>(test_root);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (count != OFC_FILE_TEST_COUNT) {</div>
<div class="line">        test_result = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a>;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * First, create a random file</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Create File Test\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (OfcCreateFileTest(device) == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  *** Create File Test Failed *** \n&quot;</span>);</div>
<div class="line">            test_result = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        }</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Dismount Test\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (OfcDismountTest(device) == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  *** Dismount Test Failed ***\n&quot;</span>);</div>
<div class="line">            test_result = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">/* This may or may not fail.  It is posible for the previous test</span></div>
<div class="line"><span class="comment">       * to complete (dismount test) before the connection has been</span></div>
<div class="line"><span class="comment">       * cleaned up.  So, if the connection is up, the API will succeed.</span></div>
<div class="line"><span class="comment">       * if the connection has already gone down, then the API will</span></div>
<div class="line"><span class="comment">       * fail.</span></div>
<div class="line"><span class="comment">       * Either case is good</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Dismount Test with No connection\n&quot;</span>);</div>
<div class="line">        OfcDismountTest(device);</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">       * Then see if we can copy files</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Copy File Test\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (OfcCopyFileTest(device) == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  *** Copy File Test Failed *** \n&quot;</span>);</div>
<div class="line">            test_result = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        }</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  List Directory Test\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (OfcListDirTest(device) == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  *** List Directory Test Failed *** \n&quot;</span>);</div>
<div class="line">            test_result = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        }</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Delete File Test\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (OfcDeleteTest(device) == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  *** Delete File Test Failed ***\n&quot;</span>);</div>
<div class="line">            test_result = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">/* This one only works in SMBv2, we can update SMBv1 to support</span></div>
<div class="line"><span class="comment">       *  this style</span></div>
<div class="line"><span class="comment">       * Since the API is only supported on SMBv2, we should use the</span></div>
<div class="line"><span class="comment">       * move API instead.  So, don&#39;t enable this approach yet.</span></div>
<div class="line"><span class="comment">       */</span></div>
<div class="line"><span class="preprocessor">#if 0</span></div>
<div class="line">                                                                                                                                <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a> (<span class="stringliteral">&quot;  Rename File Test\n&quot;</span>) ;</div>
<div class="line">      <span class="keywordflow">if</span> (OfcRenameTest (device) == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>)</div>
<div class="line">    {</div>
<div class="line">      <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a> (<span class="stringliteral">&quot;  *** Rename File Test Failed ***\n&quot;</span>) ;</div>
<div class="line">      <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a> (<span class="stringliteral">&quot;  Failures expected on SMBv1 Systems\n&quot;</span>) ;</div>
<div class="line">      test_result = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a> ;</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Move File Test\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (OfcMoveTest(device) == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  *** Move File Test Failed ***\n&quot;</span>);</div>
<div class="line">            test_result = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        }</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Flush File Test\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (OfcFlushTest(device) == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  *** Flush File Test Failed ***\n&quot;</span>);</div>
<div class="line">            test_result = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        }</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Create Directory Test\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (OfcCreateDirectoryTest(device) == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  *** Create Directory Test Failed ***\n&quot;</span>);</div>
<div class="line">            test_result = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        }</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Delete Directory Test\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (OfcDeleteDirectoryTest(device) == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  *** Delete Directory Test Failed ***\n&quot;</span>);</div>
<div class="line">            test_result = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        }</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Set File Pointer and Set EOF Test\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (OfcSetEOFTest(device) == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  *** Set EOF Test Failed ***\n&quot;</span>);</div>
<div class="line">            test_result = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        }</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Get File Attributes Test\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (OfcGetFileAttributesTest(device) == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot; *** Get File Attributes Test Failed ***\n&quot;</span>);</div>
<div class="line">            test_result = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        }</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Get Disk Free Space Test\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (OfcGetDiskFreeSpaceTest(device) == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  *** Get Disk Free Space Failed ***\n&quot;</span>);</div>
<div class="line">            test_result = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        }</div>
<div class="line">        <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  Get Volume Information Test\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (OfcGetVolumeInformationTest(device) == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>) {</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;  *** Get Volume Information Failed ***\n&quot;</span>);</div>
<div class="line">            test_result = <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (test_result == <a class="code hl_enumvalue" href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a>)</div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;*** File Test Failed ***\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            <a class="code hl_function" href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a>(<span class="stringliteral">&quot;File Test Succeeded\n&quot;</span>);</div>
<div class="line">        count++;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (count != OFC_FILE_TEST_COUNT)</div>
<div class="line">            <a class="code hl_function" href="group__thread.html#ga21f68b94407c9c7cb4c6344bdee5680d">ofc_sleep</a>(OFC_FS_TEST_INTERVAL);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a>(device);</div>
<div class="line">    <span class="keywordflow">return</span> (0);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="ttc" id="aconsole_8h_html"><div class="ttname"><a href="console_8h.html">console.h</a></div></div>
<div class="ttc" id="aevent_8h_html"><div class="ttname"><a href="event_8h.html">event.h</a></div></div>
<div class="ttc" id="afile_8h_html"><div class="ttname"><a href="file_8h.html">file.h</a></div></div>
<div class="ttc" id="agroup___open_html_ga365ae4ff046ab602660a6f27ac8a8049"><div class="ttname"><a href="group___open.html#ga365ae4ff046ab602660a6f27ac8a8049">ofc_dos_date_time_to_elements</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_dos_date_time_to_elements(OFC_WORD FatDate, OFC_WORD FatTime, OFC_UINT16 *month, OFC_UINT16 *day, OFC_UINT16 *year, OFC_UINT16 *hour, OFC_UINT16 *min, OFC_UINT16 *sec)</div></div>
<div class="ttc" id="agroup___open_html_ga3d09335e1d3f696f64cca11d88b2c2c8"><div class="ttname"><a href="group___open.html#ga3d09335e1d3f696f64cca11d88b2c2c8">ofc_time_get_now</a></div><div class="ttdeci">OFC_CORE_LIB OFC_MSTIME ofc_time_get_now(OFC_VOID)</div></div>
<div class="ttc" id="agroup___open_html_ga8521b02ed019341b94e78c09fd287b5f"><div class="ttname"><a href="group___open.html#ga8521b02ed019341b94e78c09fd287b5f">ofc_file_time_to_dos_date_time</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL ofc_file_time_to_dos_date_time(const OFC_FILETIME *lpFileTime, OFC_WORD *lpFatDate, OFC_WORD *lpFatTime)</div></div>
<div class="ttc" id="agroup__config_html_gad70aad14cb6a774578782b833cbab74e"><div class="ttname"><a href="group__config.html#gad70aad14cb6a774578782b833cbab74e">OFC_WCHAR</a></div><div class="ttdeci">OFC_WCHAR</div><div class="ttdoc">Specify the type of the platform wide character.</div><div class="ttdef"><b>Definition:</b> config.h:213</div></div>
<div class="ttc" id="agroup__console_html_ga2453a2f48cfad24652a897100f2cfc80"><div class="ttname"><a href="group__console.html#ga2453a2f48cfad24652a897100f2cfc80">ofc_read_line</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_read_line(OFC_CHAR *inbuf, OFC_SIZET len)</div></div>
<div class="ttc" id="agroup__console_html_gaf9af35af1b6c87ec15cfe35ffb0642ab"><div class="ttname"><a href="group__console.html#gaf9af35af1b6c87ec15cfe35ffb0642ab">ofc_read_password</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_read_password(OFC_CHAR *inbuf, OFC_SIZET len)</div></div>
<div class="ttc" id="agroup__file_html_ga01ed09b2df3d9c8a6c59d6969bbd9ac2"><div class="ttname"><a href="group__file.html#ga01ed09b2df3d9c8a6c59d6969bbd9ac2">OfcGetDiskFreeSpace</a></div><div class="ttdeci">#define OfcGetDiskFreeSpace</div><div class="ttdef"><b>Definition:</b> file.h:2306</div></div>
<div class="ttc" id="agroup__file_html_ga09b5d39d7aef15fea5c9d5204005ccc5"><div class="ttname"><a href="group__file.html#ga09b5d39d7aef15fea5c9d5204005ccc5">OFC_MAX_PATH</a></div><div class="ttdeci">#define OFC_MAX_PATH</div><div class="ttdef"><b>Definition:</b> file.h:56</div></div>
<div class="ttc" id="agroup__file_html_ga203e788f38519878d22391944cfabbb1"><div class="ttname"><a href="group__file.html#ga203e788f38519878d22391944cfabbb1">OfcDismount</a></div><div class="ttdeci">#define OfcDismount</div><div class="ttdef"><b>Definition:</b> file.h:2308</div></div>
<div class="ttc" id="agroup__file_html_ga2b9e1a46541a3ce04158bd79fff66ff9"><div class="ttname"><a href="group__file.html#ga2b9e1a46541a3ce04158bd79fff66ff9">OfcCreateDirectory</a></div><div class="ttdeci">#define OfcCreateDirectory</div><div class="ttdef"><b>Definition:</b> file.h:2297</div></div>
<div class="ttc" id="agroup__file_html_ga302168c027f250e0e8c1a9f4b8a9193f"><div class="ttname"><a href="group__file.html#ga302168c027f250e0e8c1a9f4b8a9193f">OfcGetFileAttributesEx</a></div><div class="ttdeci">#define OfcGetFileAttributesEx</div><div class="ttdef"><b>Definition:</b> file.h:2302</div></div>
<div class="ttc" id="agroup__file_html_ga3ad4f110e3045fe4150f2c1e27577eb8"><div class="ttname"><a href="group__file.html#ga3ad4f110e3045fe4150f2c1e27577eb8">OfcCloseHandle</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL OfcCloseHandle(OFC_HANDLE hObject)</div></div>
<div class="ttc" id="agroup__file_html_ga4b4c47e352dc0105246ab71765cf44c4"><div class="ttname"><a href="group__file.html#ga4b4c47e352dc0105246ab71765cf44c4">OFC_FILE_RENAME_INFO</a></div><div class="ttdeci">struct _OFC_FILE_RENAME_INFO OFC_FILE_RENAME_INFO</div></div>
<div class="ttc" id="agroup__file_html_ga4f68eaf20502ec8fd55a9f187de0be6f"><div class="ttname"><a href="group__file.html#ga4f68eaf20502ec8fd55a9f187de0be6f">OfcMoveFile</a></div><div class="ttdeci">#define OfcMoveFile</div><div class="ttdef"><b>Definition:</b> file.h:2303</div></div>
<div class="ttc" id="agroup__file_html_ga67dc3eadeefacf3030a343547cc847f3"><div class="ttname"><a href="group__file.html#ga67dc3eadeefacf3030a343547cc847f3">OfcFindNextFile</a></div><div class="ttdeci">#define OfcFindNextFile</div><div class="ttdef"><b>Definition:</b> file.h:2301</div></div>
<div class="ttc" id="agroup__file_html_ga763019e02d5d7c89496e314e8b756b38"><div class="ttname"><a href="group__file.html#ga763019e02d5d7c89496e314e8b756b38">OfcDismountA</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL OfcDismountA(OFC_LPCSTR lpFileName)</div></div>
<div class="ttc" id="agroup__file_html_ga792dabeb2a6533d2120a87c599543887"><div class="ttname"><a href="group__file.html#ga792dabeb2a6533d2120a87c599543887">OfcGetVolumeInformation</a></div><div class="ttdeci">#define OfcGetVolumeInformation</div><div class="ttdef"><b>Definition:</b> file.h:2307</div></div>
<div class="ttc" id="agroup__file_html_ga8aed36bbe3d7e75fc7a3a06cb533f932"><div class="ttname"><a href="group__file.html#ga8aed36bbe3d7e75fc7a3a06cb533f932">OfcGetLastError</a></div><div class="ttdeci">OFC_CORE_LIB OFC_DWORD OfcGetLastError(OFC_VOID)</div></div>
<div class="ttc" id="agroup__file_html_ga956f00509fa69781c29d1ed2c6a80448"><div class="ttname"><a href="group__file.html#ga956f00509fa69781c29d1ed2c6a80448">OfcSetEndOfFile</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL OfcSetEndOfFile(OFC_HANDLE hFile)</div></div>
<div class="ttc" id="agroup__file_html_ga9780dc0f736e7ea28c77fae7d38428dd"><div class="ttname"><a href="group__file.html#ga9780dc0f736e7ea28c77fae7d38428dd">OFC_WIN32_FIND_DATA</a></div><div class="ttdeci">#define OFC_WIN32_FIND_DATA</div><div class="ttdef"><b>Definition:</b> file.h:2310</div></div>
<div class="ttc" id="agroup__file_html_ga9e8a3de120357a505aaf4e2e68064eb6"><div class="ttname"><a href="group__file.html#ga9e8a3de120357a505aaf4e2e68064eb6">OfcGetFileInformationByHandleEx</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL OfcGetFileInformationByHandleEx(OFC_HANDLE hFile, OFC_FILE_INFO_BY_HANDLE_CLASS FileInformationClass, OFC_LPVOID lpFileInformation, OFC_DWORD dwBufferSize)</div></div>
<div class="ttc" id="agroup__file_html_gaad0354d5ac2b94c05051168d8e822fd4"><div class="ttname"><a href="group__file.html#gaad0354d5ac2b94c05051168d8e822fd4">OfcGetOverlappedResult</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL OfcGetOverlappedResult(OFC_HANDLE hFile, OFC_HANDLE hOverlapped, OFC_LPDWORD lpNumberOfBytesTransferred, OFC_BOOL bWait)</div></div>
<div class="ttc" id="agroup__file_html_gab01e7a9e751a95479055a928ae2b19cb"><div class="ttname"><a href="group__file.html#gab01e7a9e751a95479055a928ae2b19cb">OfcDestroyOverlapped</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID OfcDestroyOverlapped(OFC_HANDLE hFile, OFC_HANDLE hOverlapped)</div></div>
<div class="ttc" id="agroup__file_html_gab4c253fe14a83c91f5c5ccd97ce685ce"><div class="ttname"><a href="group__file.html#gab4c253fe14a83c91f5c5ccd97ce685ce">OfcFindFirstFile</a></div><div class="ttdeci">#define OfcFindFirstFile</div><div class="ttdef"><b>Definition:</b> file.h:2300</div></div>
<div class="ttc" id="agroup__file_html_gab8df78cf5685582d2d7e55b9db8ef9f8"><div class="ttname"><a href="group__file.html#gab8df78cf5685582d2d7e55b9db8ef9f8">OfcReadFile</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL OfcReadFile(OFC_HANDLE hFile, OFC_LPVOID lpBuffer, OFC_DWORD nNumberOfBytesToRead, OFC_LPDWORD lpNumberOfBytesRead, OFC_HANDLE hOverlapped)</div></div>
<div class="ttc" id="agroup__file_html_gabaef589b1d18ad7259ecf8adb34d3a3b"><div class="ttname"><a href="group__file.html#gabaef589b1d18ad7259ecf8adb34d3a3b">OfcCreateFile</a></div><div class="ttdeci">#define OfcCreateFile</div><div class="ttdef"><b>Definition:</b> file.h:2296</div></div>
<div class="ttc" id="agroup__file_html_gabc20702338872b1cfd1124fe3b06bf5a"><div class="ttname"><a href="group__file.html#gabc20702338872b1cfd1124fe3b06bf5a">OfcWriteFile</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL OfcWriteFile(OFC_HANDLE hFile, OFC_LPCVOID lpBuffer, OFC_DWORD nNumberOfBytesToWrite, OFC_LPDWORD lpNumberOfBytesWritten, OFC_HANDLE hOverlapped)</div></div>
<div class="ttc" id="agroup__file_html_gabf41e49928f7cbe72a87125801c06c65"><div class="ttname"><a href="group__file.html#gabf41e49928f7cbe72a87125801c06c65">OfcFlushFileBuffers</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL OfcFlushFileBuffers(OFC_HANDLE hFile)</div></div>
<div class="ttc" id="agroup__file_html_gac11a6c03cae41ce0c353761a2308e4bd"><div class="ttname"><a href="group__file.html#gac11a6c03cae41ce0c353761a2308e4bd">OfcDeleteFile</a></div><div class="ttdeci">#define OfcDeleteFile</div><div class="ttdef"><b>Definition:</b> file.h:2298</div></div>
<div class="ttc" id="agroup__file_html_gac3787312ce22507d2cad19942f3d5a31"><div class="ttname"><a href="group__file.html#gac3787312ce22507d2cad19942f3d5a31">OfcCreateFileA</a></div><div class="ttdeci">OFC_CORE_LIB OFC_HANDLE OfcCreateFileA(OFC_LPCSTR lpFileName, OFC_DWORD dwDesiredAccess, OFC_DWORD dwShareMode, OFC_LPSECURITY_ATTRIBUTES lpSecurityAttributes, OFC_DWORD dwCreationDisposition, OFC_DWORD dwFlagsAndAttributes, OFC_HANDLE hTemplateFile)</div></div>
<div class="ttc" id="agroup__file_html_gac3d3af8ce3dcda3981dfd00c5aadcab7"><div class="ttname"><a href="group__file.html#gac3d3af8ce3dcda3981dfd00c5aadcab7">OfcSetOverlappedOffset</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID OfcSetOverlappedOffset(OFC_HANDLE hFile, OFC_HANDLE hOverlapped, OFC_OFFT offset)</div></div>
<div class="ttc" id="agroup__file_html_gac7923ba99cf0af7d53a2333ca65b5c56"><div class="ttname"><a href="group__file.html#gac7923ba99cf0af7d53a2333ca65b5c56">OfcFindClose</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL OfcFindClose(OFC_HANDLE hFindFile)</div></div>
<div class="ttc" id="agroup__file_html_gad1fb4274e23419b981025ced1f98c713"><div class="ttname"><a href="group__file.html#gad1fb4274e23419b981025ced1f98c713">OfcSetFilePointer</a></div><div class="ttdeci">OFC_CORE_LIB OFC_DWORD OfcSetFilePointer(OFC_HANDLE hFile, OFC_LONG lDistanceToMove, OFC_PLONG lpDistanceToMoveHigh, OFC_DWORD dwMoveMethod)</div></div>
<div class="ttc" id="agroup__file_html_gadee496636be69cead138a19edc6f8941"><div class="ttname"><a href="group__file.html#gadee496636be69cead138a19edc6f8941">OfcCreateOverlapped</a></div><div class="ttdeci">OFC_CORE_LIB OFC_HANDLE OfcCreateOverlapped(OFC_HANDLE hFile)</div></div>
<div class="ttc" id="agroup__file_html_gae29d624f48af035f35cf704524e9b8b2"><div class="ttname"><a href="group__file.html#gae29d624f48af035f35cf704524e9b8b2">OfcSetFileInformationByHandle</a></div><div class="ttdeci">OFC_CORE_LIB OFC_BOOL OfcSetFileInformationByHandle(OFC_HANDLE hFile, OFC_FILE_INFO_BY_HANDLE_CLASS FileInformationClass, OFC_LPVOID lpFileInformation, OFC_DWORD dwBufferSize)</div></div>
<div class="ttc" id="agroup__file_html_gae8a12f5425e68d8625b36074523c38e1"><div class="ttname"><a href="group__file.html#gae8a12f5425e68d8625b36074523c38e1">OFC_INVALID_SET_FILE_POINTER</a></div><div class="ttdeci">#define OFC_INVALID_SET_FILE_POINTER</div><div class="ttdef"><b>Definition:</b> file.h:1394</div></div>
<div class="ttc" id="agroup__file_html_gga04a98b492c3df959278c7383615ef951a19bd632b69d2760a946e2da8dd92ea5c"><div class="ttname"><a href="group__file.html#gga04a98b492c3df959278c7383615ef951a19bd632b69d2760a946e2da8dd92ea5c">OFC_ERROR_LOGON_FAILURE</a></div><div class="ttdeci">@ OFC_ERROR_LOGON_FAILURE</div><div class="ttdef"><b>Definition:</b> file.h:1494</div></div>
<div class="ttc" id="agroup__file_html_gga04a98b492c3df959278c7383615ef951a1aa9938d1891eec20a8dad728e888623"><div class="ttname"><a href="group__file.html#gga04a98b492c3df959278c7383615ef951a1aa9938d1891eec20a8dad728e888623">OFC_ERROR_BAD_NETPATH</a></div><div class="ttdeci">@ OFC_ERROR_BAD_NETPATH</div><div class="ttdef"><b>Definition:</b> file.h:1432</div></div>
<div class="ttc" id="agroup__file_html_gga04a98b492c3df959278c7383615ef951a1d4b108915c36488c95fb58b54f1e9f4"><div class="ttname"><a href="group__file.html#gga04a98b492c3df959278c7383615ef951a1d4b108915c36488c95fb58b54f1e9f4">OFC_ERROR_SUCCESS</a></div><div class="ttdeci">@ OFC_ERROR_SUCCESS</div><div class="ttdef"><b>Definition:</b> file.h:1400</div></div>
<div class="ttc" id="agroup__file_html_gga04a98b492c3df959278c7383615ef951a30a3447748e748f6f301b799b49ee9b8"><div class="ttname"><a href="group__file.html#gga04a98b492c3df959278c7383615ef951a30a3447748e748f6f301b799b49ee9b8">OFC_ERROR_INVALID_PASSWORD</a></div><div class="ttdeci">@ OFC_ERROR_INVALID_PASSWORD</div><div class="ttdef"><b>Definition:</b> file.h:1440</div></div>
<div class="ttc" id="agroup__file_html_gga04a98b492c3df959278c7383615ef951a36ce6e9bfb418c049fcec84f3ae94b10"><div class="ttname"><a href="group__file.html#gga04a98b492c3df959278c7383615ef951a36ce6e9bfb418c049fcec84f3ae94b10">OFC_ERROR_HANDLE_EOF</a></div><div class="ttdeci">@ OFC_ERROR_HANDLE_EOF</div><div class="ttdef"><b>Definition:</b> file.h:1426</div></div>
<div class="ttc" id="agroup__file_html_gga04a98b492c3df959278c7383615ef951a63462db67182595d5fe7f0c2ed18d576"><div class="ttname"><a href="group__file.html#gga04a98b492c3df959278c7383615ef951a63462db67182595d5fe7f0c2ed18d576">OFC_ERROR_NO_MORE_FILES</a></div><div class="ttdeci">@ OFC_ERROR_NO_MORE_FILES</div><div class="ttdef"><b>Definition:</b> file.h:1413</div></div>
<div class="ttc" id="agroup__file_html_gga04a98b492c3df959278c7383615ef951aaf2e7738a496974319c9760e66d69701"><div class="ttname"><a href="group__file.html#gga04a98b492c3df959278c7383615ef951aaf2e7738a496974319c9760e66d69701">OFC_ERROR_FILE_EXISTS</a></div><div class="ttdeci">@ OFC_ERROR_FILE_EXISTS</div><div class="ttdef"><b>Definition:</b> file.h:1438</div></div>
<div class="ttc" id="agroup__file_html_gga04a98b492c3df959278c7383615ef951ace6c5275a4555c892e7914dde12ae6e3"><div class="ttname"><a href="group__file.html#gga04a98b492c3df959278c7383615ef951ace6c5275a4555c892e7914dde12ae6e3">OFC_ERROR_ACCESS_DENIED</a></div><div class="ttdeci">@ OFC_ERROR_ACCESS_DENIED</div><div class="ttdef"><b>Definition:</b> file.h:1405</div></div>
<div class="ttc" id="agroup__file_html_gga04a98b492c3df959278c7383615ef951acff25593b395e7225f391054dfaf3f83"><div class="ttname"><a href="group__file.html#gga04a98b492c3df959278c7383615ef951acff25593b395e7225f391054dfaf3f83">OFC_ERROR_PATH_NOT_FOUND</a></div><div class="ttdeci">@ OFC_ERROR_PATH_NOT_FOUND</div><div class="ttdef"><b>Definition:</b> file.h:1403</div></div>
<div class="ttc" id="agroup__file_html_gga04a98b492c3df959278c7383615ef951ae4d6cb6c931dbc42676822a85f4e41bb"><div class="ttname"><a href="group__file.html#gga04a98b492c3df959278c7383615ef951ae4d6cb6c931dbc42676822a85f4e41bb">OFC_ERROR_IO_PENDING</a></div><div class="ttdeci">@ OFC_ERROR_IO_PENDING</div><div class="ttdef"><b>Definition:</b> file.h:1483</div></div>
<div class="ttc" id="agroup__file_html_gga04a98b492c3df959278c7383615ef951af28e42f761d058e8d8a0630c9450314e"><div class="ttname"><a href="group__file.html#gga04a98b492c3df959278c7383615ef951af28e42f761d058e8d8a0630c9450314e">OFC_ERROR_BAD_NET_NAME</a></div><div class="ttdeci">@ OFC_ERROR_BAD_NET_NAME</div><div class="ttdef"><b>Definition:</b> file.h:1428</div></div>
<div class="ttc" id="agroup__file_html_gga04a98b492c3df959278c7383615ef951afb8b9dea8d446faafe726dae5fd3aaf3"><div class="ttname"><a href="group__file.html#gga04a98b492c3df959278c7383615ef951afb8b9dea8d446faafe726dae5fd3aaf3">OFC_ERROR_FILE_NOT_FOUND</a></div><div class="ttdeci">@ OFC_ERROR_FILE_NOT_FOUND</div><div class="ttdef"><b>Definition:</b> file.h:1402</div></div>
<div class="ttc" id="agroup__file_html_gga06fc87d81c62e9abb8790b6e5713c55ba45e0d8b24ac8f2d8e145fcc7b4c1ba47"><div class="ttname"><a href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55ba45e0d8b24ac8f2d8e145fcc7b4c1ba47">OFC_GENERIC_WRITE</a></div><div class="ttdeci">@ OFC_GENERIC_WRITE</div><div class="ttdef"><b>Definition:</b> file.h:148</div></div>
<div class="ttc" id="agroup__file_html_gga06fc87d81c62e9abb8790b6e5713c55ba640672c2ab86b5796d41962812a2da5c"><div class="ttname"><a href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55ba640672c2ab86b5796d41962812a2da5c">OFC_GENERIC_READ</a></div><div class="ttdeci">@ OFC_GENERIC_READ</div><div class="ttdef"><b>Definition:</b> file.h:141</div></div>
<div class="ttc" id="agroup__file_html_gga06fc87d81c62e9abb8790b6e5713c55bab3342443efe51e63b5902238de9be351"><div class="ttname"><a href="group__file.html#gga06fc87d81c62e9abb8790b6e5713c55bab3342443efe51e63b5902238de9be351">OFC_FILE_DELETE</a></div><div class="ttdeci">@ OFC_FILE_DELETE</div><div class="ttdef"><b>Definition:</b> file.h:131</div></div>
<div class="ttc" id="agroup__file_html_gga5432b275530c45673431cad0a7f0a008ada6c418db9c293c45e7b39c0222f6429"><div class="ttname"><a href="group__file.html#gga5432b275530c45673431cad0a7f0a008ada6c418db9c293c45e7b39c0222f6429">OfcGetFileExInfoStandard</a></div><div class="ttdeci">@ OfcGetFileExInfoStandard</div><div class="ttdef"><b>Definition:</b> file.h:659</div></div>
<div class="ttc" id="agroup__file_html_gga58fa3c1ae767d60ec7cd335df7c8f673a1dffebd4ce19e9ccc0e001e21e57fd89"><div class="ttname"><a href="group__file.html#gga58fa3c1ae767d60ec7cd335df7c8f673a1dffebd4ce19e9ccc0e001e21e57fd89">OfcFileStandardInfo</a></div><div class="ttdeci">@ OfcFileStandardInfo</div><div class="ttdef"><b>Definition:</b> file.h:400</div></div>
<div class="ttc" id="agroup__file_html_gga58fa3c1ae767d60ec7cd335df7c8f673a2a9a28db7e95bf4d72633f04a58296b8"><div class="ttname"><a href="group__file.html#gga58fa3c1ae767d60ec7cd335df7c8f673a2a9a28db7e95bf4d72633f04a58296b8">OfcFileRenameInfo</a></div><div class="ttdeci">@ OfcFileRenameInfo</div><div class="ttdef"><b>Definition:</b> file.h:412</div></div>
<div class="ttc" id="agroup__file_html_gga726ca809ffd3d67ab4b8476646f26635a5ca008a1c1ffe4513ec2bacf8b5a2556"><div class="ttname"><a href="group__file.html#gga726ca809ffd3d67ab4b8476646f26635a5ca008a1c1ffe4513ec2bacf8b5a2556">OFC_FILE_BEGIN</a></div><div class="ttdeci">@ OFC_FILE_BEGIN</div><div class="ttdef"><b>Definition:</b> file.h:1371</div></div>
<div class="ttc" id="agroup__file_html_gga99fb83031ce9923c84392b4e92f956b5a00ff26a1be3160742fa510d7b0cc2993"><div class="ttname"><a href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a00ff26a1be3160742fa510d7b0cc2993">OFC_OPEN_EXISTING</a></div><div class="ttdeci">@ OFC_OPEN_EXISTING</div><div class="ttdef"><b>Definition:</b> file.h:195</div></div>
<div class="ttc" id="agroup__file_html_gga99fb83031ce9923c84392b4e92f956b5a47f9d4c1d94828584c3afed1b835864a"><div class="ttname"><a href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a47f9d4c1d94828584c3afed1b835864a">OFC_CREATE_NEW</a></div><div class="ttdeci">@ OFC_CREATE_NEW</div><div class="ttdef"><b>Definition:</b> file.h:187</div></div>
<div class="ttc" id="agroup__file_html_gga99fb83031ce9923c84392b4e92f956b5a5cd89cbfaa761ceff82bdf54687b2580"><div class="ttname"><a href="group__file.html#gga99fb83031ce9923c84392b4e92f956b5a5cd89cbfaa761ceff82bdf54687b2580">OFC_CREATE_ALWAYS</a></div><div class="ttdeci">@ OFC_CREATE_ALWAYS</div><div class="ttdef"><b>Definition:</b> file.h:191</div></div>
<div class="ttc" id="agroup__file_html_ggabc6126af1d45847bc59afa0aa3216b04a1618a4ee292bfd7e082baa8c61d81f72"><div class="ttname"><a href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a1618a4ee292bfd7e082baa8c61d81f72">OFC_FILE_ATTRIBUTE_NORMAL</a></div><div class="ttdeci">@ OFC_FILE_ATTRIBUTE_NORMAL</div><div class="ttdef"><b>Definition:</b> file.h:235</div></div>
<div class="ttc" id="agroup__file_html_ggabc6126af1d45847bc59afa0aa3216b04a3d993490574a6a509ffe2a409572d2e4"><div class="ttname"><a href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a3d993490574a6a509ffe2a409572d2e4">OFC_FILE_ATTRIBUTE_TEMPORARY</a></div><div class="ttdeci">@ OFC_FILE_ATTRIBUTE_TEMPORARY</div><div class="ttdef"><b>Definition:</b> file.h:239</div></div>
<div class="ttc" id="agroup__file_html_ggabc6126af1d45847bc59afa0aa3216b04a47e292c11b2ac019768b71a10f4c1659"><div class="ttname"><a href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a47e292c11b2ac019768b71a10f4c1659">OFC_FILE_ATTRIBUTE_DIRECTORY</a></div><div class="ttdeci">@ OFC_FILE_ATTRIBUTE_DIRECTORY</div><div class="ttdef"><b>Definition:</b> file.h:227</div></div>
<div class="ttc" id="agroup__file_html_ggabc6126af1d45847bc59afa0aa3216b04a927e641aa0c43c13cf653451e5fb6267"><div class="ttname"><a href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04a927e641aa0c43c13cf653451e5fb6267">OFC_FILE_FLAG_DELETE_ON_CLOSE</a></div><div class="ttdeci">@ OFC_FILE_FLAG_DELETE_ON_CLOSE</div><div class="ttdef"><b>Definition:</b> file.h:301</div></div>
<div class="ttc" id="agroup__file_html_ggabc6126af1d45847bc59afa0aa3216b04abc8a6d4f5ea291429c438bb236bad55d"><div class="ttname"><a href="group__file.html#ggabc6126af1d45847bc59afa0aa3216b04abc8a6d4f5ea291429c438bb236bad55d">OFC_FILE_FLAG_OVERLAPPED</a></div><div class="ttdeci">@ OFC_FILE_FLAG_OVERLAPPED</div><div class="ttdef"><b>Definition:</b> file.h:317</div></div>
<div class="ttc" id="agroup__file_html_ggadf764cbdea00d65edcd07bb9953ad2b7a19bc8e71deccc5de998b1e7e46047469"><div class="ttname"><a href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7a19bc8e71deccc5de998b1e7e46047469">OFC_FILE_SHARE_READ</a></div><div class="ttdeci">@ OFC_FILE_SHARE_READ</div><div class="ttdef"><b>Definition:</b> file.h:177</div></div>
<div class="ttc" id="agroup__file_html_ggadf764cbdea00d65edcd07bb9953ad2b7aacfd0158dfe2baf4477da068ae0f4f82"><div class="ttname"><a href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7aacfd0158dfe2baf4477da068ae0f4f82">OFC_FILE_SHARE_DELETE</a></div><div class="ttdeci">@ OFC_FILE_SHARE_DELETE</div><div class="ttdef"><b>Definition:</b> file.h:167</div></div>
<div class="ttc" id="agroup__file_html_ggadf764cbdea00d65edcd07bb9953ad2b7ac3b48e2b7fbfbcefe447a7b2bbfbf490"><div class="ttname"><a href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7ac3b48e2b7fbfbcefe447a7b2bbfbf490">OFC_FILE_SHARE_NONE</a></div><div class="ttdeci">@ OFC_FILE_SHARE_NONE</div><div class="ttdef"><b>Definition:</b> file.h:162</div></div>
<div class="ttc" id="agroup__file_html_ggadf764cbdea00d65edcd07bb9953ad2b7adbbcb2a2275b14bd1209aa75e4499165"><div class="ttname"><a href="group__file.html#ggadf764cbdea00d65edcd07bb9953ad2b7adbbcb2a2275b14bd1209aa75e4499165">OFC_FILE_SHARE_WRITE</a></div><div class="ttdeci">@ OFC_FILE_SHARE_WRITE</div><div class="ttdef"><b>Definition:</b> file.h:172</div></div>
<div class="ttc" id="agroup__handle_html_ga5d921c930d24f3f028514a33ca010d6e"><div class="ttname"><a href="group__handle.html#ga5d921c930d24f3f028514a33ca010d6e">OFC_HANDLE_NULL</a></div><div class="ttdeci">#define OFC_HANDLE_NULL</div><div class="ttdef"><b>Definition:</b> handle.h:46</div></div>
<div class="ttc" id="agroup__handle_html_gab97cc0bce631eb88e4c4ab2f1f686c62"><div class="ttname"><a href="group__handle.html#gab97cc0bce631eb88e4c4ab2f1f686c62">ofc_handle_get_app</a></div><div class="ttdeci">OFC_CORE_LIB OFC_HANDLE ofc_handle_get_app(OFC_HANDLE hHandle)</div></div>
<div class="ttc" id="agroup__handle_html_gac7785fcbfe090dee8079c6e56bf31493"><div class="ttname"><a href="group__handle.html#gac7785fcbfe090dee8079c6e56bf31493">OFC_HANDLE</a></div><div class="ttdeci">OFC_DWORD_PTR OFC_HANDLE</div><div class="ttdef"><b>Definition:</b> handle.h:25</div></div>
<div class="ttc" id="agroup__handle_html_gad274f0753508773b528cebbaf6d212e0"><div class="ttname"><a href="group__handle.html#gad274f0753508773b528cebbaf6d212e0">OFC_INVALID_HANDLE_VALUE</a></div><div class="ttdeci">#define OFC_INVALID_HANDLE_VALUE</div><div class="ttdef"><b>Definition:</b> handle.h:34</div></div>
<div class="ttc" id="agroup__libc_html_ga1a6dcf2283714c605d40de00a2127ee7"><div class="ttname"><a href="group__libc.html#ga1a6dcf2283714c605d40de00a2127ee7">ofc_cstr2tstr</a></div><div class="ttdeci">OFC_CORE_LIB OFC_LPTSTR ofc_cstr2tstr(OFC_CCHAR *str)</div></div>
<div class="ttc" id="agroup__libc_html_ga41461da16bed4df354a1a09b13cd8d81"><div class="ttname"><a href="group__libc.html#ga41461da16bed4df354a1a09b13cd8d81">ofc_strcpy</a></div><div class="ttdeci">OFC_CORE_LIB OFC_CHAR * ofc_strcpy(OFC_CHAR *dst, OFC_CCHAR *src)</div></div>
<div class="ttc" id="agroup__libc_html_ga473509ee34dfbf1e77224d22477f232c"><div class="ttname"><a href="group__libc.html#ga473509ee34dfbf1e77224d22477f232c">ofc_tstrncpy</a></div><div class="ttdeci">OFC_CORE_LIB OFC_TCHAR * ofc_tstrncpy(OFC_TCHAR *dst, OFC_CTCHAR *src, OFC_SIZET len)</div></div>
<div class="ttc" id="agroup__libc_html_ga5c622601603aa505c8c105c013366694"><div class="ttname"><a href="group__libc.html#ga5c622601603aa505c8c105c013366694">ofc_snprintf</a></div><div class="ttdeci">OFC_CORE_LIB OFC_SIZET ofc_snprintf(OFC_CHAR *str, OFC_SIZET count, OFC_CCHAR *fmt,...)</div></div>
<div class="ttc" id="agroup__libc_html_ga6c04dd9a79235a7ea27a51945294bc21"><div class="ttname"><a href="group__libc.html#ga6c04dd9a79235a7ea27a51945294bc21">ofc_printf</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_printf(OFC_CCHAR *fmt,...)</div></div>
<div class="ttc" id="agroup__libc_html_ga84338729add0a2e51c550566d6d4ad70"><div class="ttname"><a href="group__libc.html#ga84338729add0a2e51c550566d6d4ad70">ofc_strlen</a></div><div class="ttdeci">OFC_CORE_LIB OFC_SIZET ofc_strlen(OFC_CCHAR *astr)</div></div>
<div class="ttc" id="agroup__libc_html_ga8d252f0f9dac92c22a740e81cb15aeaf"><div class="ttname"><a href="group__libc.html#ga8d252f0f9dac92c22a740e81cb15aeaf">ofc_tstrlen</a></div><div class="ttdeci">OFC_CORE_LIB OFC_SIZET ofc_tstrlen(OFC_LPCTSTR str)</div></div>
<div class="ttc" id="agroup__libc_html_ga8f8b749e26a284d17afcc092cf61fe41"><div class="ttname"><a href="group__libc.html#ga8f8b749e26a284d17afcc092cf61fe41">ofc_tastrdup</a></div><div class="ttdeci">#define ofc_tastrdup(str)</div><div class="ttdef"><b>Definition:</b> libc.h:885</div></div>
<div class="ttc" id="agroup__libc_html_gaa9471906ea18c57dafe18eeab49b08f7"><div class="ttname"><a href="group__libc.html#gaa9471906ea18c57dafe18eeab49b08f7">ofc_tastrcpy</a></div><div class="ttdeci">#define ofc_tastrcpy(dst, src)</div><div class="ttdef"><b>Definition:</b> libc.h:881</div></div>
<div class="ttc" id="agroup__libc_html_gabffb1ba19fc2a37664af674b51546c78"><div class="ttname"><a href="group__libc.html#gabffb1ba19fc2a37664af674b51546c78">ofc_cstr2tastr</a></div><div class="ttdeci">#define ofc_cstr2tastr(str)</div><div class="ttdef"><b>Definition:</b> libc.h:893</div></div>
<div class="ttc" id="agroup__libc_html_gadddfc56e54727750a6bf656f75b1480c"><div class="ttname"><a href="group__libc.html#gadddfc56e54727750a6bf656f75b1480c">ofc_tastrlen</a></div><div class="ttdeci">#define ofc_tastrlen(str)</div><div class="ttdef"><b>Definition:</b> libc.h:883</div></div>
<div class="ttc" id="agroup__libc_html_gae65af559370b72ac628b006e3180be8b"><div class="ttname"><a href="group__libc.html#gae65af559370b72ac628b006e3180be8b">ofc_trace</a></div><div class="ttdeci">#define ofc_trace(fmt,...)</div><div class="ttdef"><b>Definition:</b> libc.h:854</div></div>
<div class="ttc" id="agroup__path_html_ga152e55f398ab5ddd2a09a0fbcc11e81b"><div class="ttname"><a href="group__path.html#ga152e55f398ab5ddd2a09a0fbcc11e81b">ofc_path_make_urlA</a></div><div class="ttdeci">OFC_CORE_LIB OFC_SIZET ofc_path_make_urlA(OFC_LPSTR *filename, OFC_SIZET *rem, OFC_LPCSTR username, OFC_LPCSTR password, OFC_LPCSTR domain, OFC_LPCSTR server, OFC_LPCSTR share, OFC_LPCSTR path, OFC_LPCSTR file)</div></div>
<div class="ttc" id="agroup__path_html_ga5751d5c1785d45bf3cc1929cd5fb44a4"><div class="ttname"><a href="group__path.html#ga5751d5c1785d45bf3cc1929cd5fb44a4">ofc_path_get_root</a></div><div class="ttdeci">#define ofc_path_get_root</div><div class="ttdef"><b>Definition:</b> path.h:508</div></div>
<div class="ttc" id="agroup__path_html_ga87f3b5c75017dafba2de4f9e46be2054"><div class="ttname"><a href="group__path.html#ga87f3b5c75017dafba2de4f9e46be2054">ofc_path_update_credentials</a></div><div class="ttdeci">#define ofc_path_update_credentials</div><div class="ttdef"><b>Definition:</b> path.h:507</div></div>
<div class="ttc" id="agroup__path_html_gaf14bbc0d56b2ae5e34625075846601d2"><div class="ttname"><a href="group__path.html#gaf14bbc0d56b2ae5e34625075846601d2">OFC_PATH</a></div><div class="ttdeci">OFC_VOID OFC_PATH</div><div class="ttdef"><b>Definition:</b> path.h:94</div></div>
<div class="ttc" id="agroup__process_html_ga3da5acf263d17b08c278d236f2455352"><div class="ttname"><a href="group__process.html#ga3da5acf263d17b08c278d236f2455352">ofc_process_crash</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_process_crash(OFC_CCHAR *obuf)</div></div>
<div class="ttc" id="agroup__queue_html_ga03a10bbff62f385fd37411786404a773"><div class="ttname"><a href="group__queue.html#ga03a10bbff62f385fd37411786404a773">ofc_queue_create</a></div><div class="ttdeci">OFC_CORE_LIB OFC_HANDLE ofc_queue_create(OFC_VOID)</div></div>
<div class="ttc" id="agroup__queue_html_ga14b82418bcf17df0a6b9954b5ebfd62a"><div class="ttname"><a href="group__queue.html#ga14b82418bcf17df0a6b9954b5ebfd62a">ofc_queue_destroy</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_queue_destroy(OFC_HANDLE qHead)</div></div>
<div class="ttc" id="agroup__queue_html_ga2fbec4efe10324e0ae3cb1ba46193830"><div class="ttname"><a href="group__queue.html#ga2fbec4efe10324e0ae3cb1ba46193830">ofc_enqueue</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_enqueue(OFC_HANDLE qHead, OFC_VOID *qElement)</div></div>
<div class="ttc" id="agroup__queue_html_gaeb3d21227e4f98282d453c1e313c28c1"><div class="ttname"><a href="group__queue.html#gaeb3d21227e4f98282d453c1e313c28c1">ofc_dequeue</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID * ofc_dequeue(OFC_HANDLE qHead)</div></div>
<div class="ttc" id="agroup__thread_html_ga0620e60c591434ee67e9765b39e621cc"><div class="ttname"><a href="group__thread.html#ga0620e60c591434ee67e9765b39e621cc">ofc_thread_create_local_storage</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_thread_create_local_storage(OFC_VOID)</div></div>
<div class="ttc" id="agroup__thread_html_ga21f68b94407c9c7cb4c6344bdee5680d"><div class="ttname"><a href="group__thread.html#ga21f68b94407c9c7cb4c6344bdee5680d">ofc_sleep</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_sleep(OFC_DWORD milliseconds)</div></div>
<div class="ttc" id="agroup__types_html_ga1cb0903d2f2959b8e421b5ee9a34c9ae"><div class="ttname"><a href="group__types.html#ga1cb0903d2f2959b8e421b5ee9a34c9ae">OFC_LARGE_INTEGER_LOW</a></div><div class="ttdeci">#define OFC_LARGE_INTEGER_LOW(x)</div><div class="ttdef"><b>Definition:</b> types.h:167</div></div>
<div class="ttc" id="agroup__types_html_ga1d0eb49c3b53d2bd0f3b7133fbd89b79"><div class="ttname"><a href="group__types.html#ga1d0eb49c3b53d2bd0f3b7133fbd89b79">OFC_VOID</a></div><div class="ttdeci">void OFC_VOID</div><div class="ttdef"><b>Definition:</b> types.h:74</div></div>
<div class="ttc" id="agroup__types_html_ga2912ed518e9a6b6e8d4b7dddd63ed32a"><div class="ttname"><a href="group__types.html#ga2912ed518e9a6b6e8d4b7dddd63ed32a">OFC_UINT32</a></div><div class="ttdeci">unsigned long int OFC_UINT32</div><div class="ttdef"><b>Definition:</b> types.h:93</div></div>
<div class="ttc" id="agroup__types_html_ga2ccd1cad65601560d437a1bb7e5c22d2"><div class="ttname"><a href="group__types.html#ga2ccd1cad65601560d437a1bb7e5c22d2">TCHAR_EOS</a></div><div class="ttdeci">#define TCHAR_EOS</div><div class="ttdef"><b>Definition:</b> types.h:438</div></div>
<div class="ttc" id="agroup__types_html_ga514ba03613d758bf513a67f1e20038b5"><div class="ttname"><a href="group__types.html#ga514ba03613d758bf513a67f1e20038b5">OFC_BOOL</a></div><div class="ttdeci">OFC_UINT8 OFC_BOOL</div><div class="ttdef"><b>Definition:</b> types.h:539</div></div>
<div class="ttc" id="agroup__types_html_ga77b311402011dd1d4aca3fdfbd66f43c"><div class="ttname"><a href="group__types.html#ga77b311402011dd1d4aca3fdfbd66f43c">OFC_DWORD</a></div><div class="ttdeci">OFC_UINT32 OFC_DWORD</div><div class="ttdef"><b>Definition:</b> types.h:345</div></div>
<div class="ttc" id="agroup__types_html_ga97d7f7d1cf7b65b459ef84aac4560eff"><div class="ttname"><a href="group__types.html#ga97d7f7d1cf7b65b459ef84aac4560eff">OFC_TCHAR</a></div><div class="ttdeci">OFC_WCHAR OFC_TCHAR</div><div class="ttdef"><b>Definition:</b> types.h:378</div></div>
<div class="ttc" id="agroup__types_html_gaab0f98d3f442f4d730930b5631ee41ac"><div class="ttname"><a href="group__types.html#gaab0f98d3f442f4d730930b5631ee41ac">OFC_WORD</a></div><div class="ttdeci">OFC_UINT16 OFC_WORD</div><div class="ttdef"><b>Definition:</b> types.h:341</div></div>
<div class="ttc" id="agroup__types_html_gabc39024c4f7c024b0650ed0ed8c1b189"><div class="ttname"><a href="group__types.html#gabc39024c4f7c024b0650ed0ed8c1b189">OFC_NULL</a></div><div class="ttdeci">#define OFC_NULL</div><div class="ttdef"><b>Definition:</b> types.h:557</div></div>
<div class="ttc" id="agroup__types_html_gabe607e992aea15aa7cce6513a0e268ff"><div class="ttname"><a href="group__types.html#gabe607e992aea15aa7cce6513a0e268ff">OFC_ULONG</a></div><div class="ttdeci">unsigned long OFC_ULONG</div><div class="ttdef"><b>Definition:</b> types.h:279</div></div>
<div class="ttc" id="agroup__types_html_gac2110726efd50615f8d90967c6246f21"><div class="ttname"><a href="group__types.html#gac2110726efd50615f8d90967c6246f21">OFC_CHAR</a></div><div class="ttdeci">char OFC_CHAR</div><div class="ttdef"><b>Definition:</b> types.h:58</div></div>
<div class="ttc" id="agroup__types_html_gac5eb9ceff06b10e6cb744ed9c42c5668"><div class="ttname"><a href="group__types.html#gac5eb9ceff06b10e6cb744ed9c42c5668">OFC_MSTIME</a></div><div class="ttdeci">OFC_INT32 OFC_MSTIME</div><div class="ttdef"><b>Definition:</b> types.h:421</div></div>
<div class="ttc" id="agroup__types_html_gacea33799136fe1c3581edb9314a6d567"><div class="ttname"><a href="group__types.html#gacea33799136fe1c3581edb9314a6d567">OFC_LPCSTR</a></div><div class="ttdeci">const OFC_CHAR * OFC_LPCSTR</div><div class="ttdef"><b>Definition:</b> types.h:337</div></div>
<div class="ttc" id="agroup__types_html_gad3da8ad775352e263388145f6ddb7eea"><div class="ttname"><a href="group__types.html#gad3da8ad775352e263388145f6ddb7eea">OFC_CTCHAR</a></div><div class="ttdeci">const OFC_WCHAR OFC_CTCHAR</div><div class="ttdef"><b>Definition:</b> types.h:382</div></div>
<div class="ttc" id="agroup__types_html_gadbd0734a648c3f38a151c332c750fc76"><div class="ttname"><a href="group__types.html#gadbd0734a648c3f38a151c332c750fc76">TSTR</a></div><div class="ttdeci">#define TSTR(x)</div><div class="ttdef"><b>Definition:</b> types.h:449</div></div>
<div class="ttc" id="agroup__types_html_gae6c827cacf3c29409ed29e8774910fb5"><div class="ttname"><a href="group__types.html#gae6c827cacf3c29409ed29e8774910fb5">OFC_INT</a></div><div class="ttdeci">int OFC_INT</div><div class="ttdef"><b>Definition:</b> types.h:34</div></div>
<div class="ttc" id="agroup__types_html_gaeb93d953e7773b40b433444ad8d95424"><div class="ttname"><a href="group__types.html#gaeb93d953e7773b40b433444ad8d95424">OFC_SIZET</a></div><div class="ttdeci">long int OFC_SIZET</div><div class="ttdef"><b>Definition:</b> types.h:30</div></div>
<div class="ttc" id="agroup__types_html_gaebbb9af9f75526a3026356ed26ae7f4b"><div class="ttname"><a href="group__types.html#gaebbb9af9f75526a3026356ed26ae7f4b">OFC_LARGE_INTEGER_SET</a></div><div class="ttdeci">#define OFC_LARGE_INTEGER_SET(x, y, z)</div><div class="ttdef"><b>Definition:</b> types.h:200</div></div>
<div class="ttc" id="agroup__types_html_gaefb46ae3fbe092563c53a78b27646d16"><div class="ttname"><a href="group__types.html#gaefb46ae3fbe092563c53a78b27646d16">OFC_UINT16</a></div><div class="ttdeci">unsigned short int OFC_UINT16</div><div class="ttdef"><b>Definition:</b> types.h:98</div></div>
<div class="ttc" id="agroup__types_html_gaf443b3e29cd21a6a2f8f6df11281a8e4"><div class="ttname"><a href="group__types.html#gaf443b3e29cd21a6a2f8f6df11281a8e4">OFC_LARGE_INTEGER_ASSIGN</a></div><div class="ttdeci">#define OFC_LARGE_INTEGER_ASSIGN(x, y)</div><div class="ttdef"><b>Definition:</b> types.h:182</div></div>
<div class="ttc" id="agroup__types_html_ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695"><div class="ttname"><a href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a0fcbd0fb805616f14d9e6329d10fa695">OFC_FALSE</a></div><div class="ttdeci">@ OFC_FALSE</div><div class="ttdef"><b>Definition:</b> types.h:547</div></div>
<div class="ttc" id="agroup__types_html_ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1"><div class="ttname"><a href="group__types.html#ggab04a0655cd1e3bcac5e8f48c18df1a57aa591f19e03b1f673a5732da8316199c1">OFC_TRUE</a></div><div class="ttdeci">@ OFC_TRUE</div><div class="ttdef"><b>Definition:</b> types.h:551</div></div>
<div class="ttc" id="agroup__waitset_html_ga112195a7fbbc192745187b6503f0f6bf"><div class="ttname"><a href="group__waitset.html#ga112195a7fbbc192745187b6503f0f6bf">ofc_waitset_remove</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_waitset_remove(OFC_HANDLE hSet, OFC_HANDLE hEvent)</div></div>
<div class="ttc" id="agroup__waitset_html_ga20976bdcbf69ca5e4c06a5300a73d337"><div class="ttname"><a href="group__waitset.html#ga20976bdcbf69ca5e4c06a5300a73d337">ofc_waitset_create</a></div><div class="ttdeci">OFC_CORE_LIB OFC_HANDLE ofc_waitset_create(OFC_VOID)</div></div>
<div class="ttc" id="agroup__waitset_html_ga644556bb0d8ae20c592527baaab59d62"><div class="ttname"><a href="group__waitset.html#ga644556bb0d8ae20c592527baaab59d62">ofc_waitset_add</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_waitset_add(OFC_HANDLE hSet, OFC_HANDLE hApp, OFC_HANDLE hEvent)</div></div>
<div class="ttc" id="agroup__waitset_html_ga8337c577b0d6f3b15f361883daf69859"><div class="ttname"><a href="group__waitset.html#ga8337c577b0d6f3b15f361883daf69859">ofc_waitset_destroy</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_waitset_destroy(OFC_HANDLE handle)</div></div>
<div class="ttc" id="agroup__waitset_html_gaf4798521ee61bf5f64dbe932eb8b79d9"><div class="ttname"><a href="group__waitset.html#gaf4798521ee61bf5f64dbe932eb8b79d9">ofc_waitset_wait</a></div><div class="ttdeci">OFC_CORE_LIB OFC_HANDLE ofc_waitset_wait(OFC_HANDLE handle)</div></div>
<div class="ttc" id="ahandle_8h_html"><div class="ttname"><a href="handle_8h.html">handle.h</a></div></div>
<div class="ttc" id="aheap_8h_html"><div class="ttname"><a href="heap_8h.html">heap.h</a></div></div>
<div class="ttc" id="aheap_8h_html_a5a49018302f46f31be1ba2026413fc22"><div class="ttname"><a href="heap_8h.html#a5a49018302f46f31be1ba2026413fc22">ofc_free</a></div><div class="ttdeci">OFC_CORE_LIB OFC_VOID ofc_free(OFC_LPVOID mem)</div></div>
<div class="ttc" id="aheap_8h_html_ad8c64ed33575e33e794ed8513bf6c2bd"><div class="ttname"><a href="heap_8h.html#ad8c64ed33575e33e794ed8513bf6c2bd">ofc_malloc</a></div><div class="ttdeci">OFC_CORE_LIB OFC_LPVOID ofc_malloc(OFC_SIZET size)</div></div>
<div class="ttc" id="alibc_8h_html"><div class="ttname"><a href="libc_8h.html">libc.h</a></div></div>
<div class="ttc" id="apath_8h_html"><div class="ttname"><a href="path_8h.html">path.h</a></div></div>
<div class="ttc" id="aprocess_8h_html"><div class="ttname"><a href="process_8h.html">process.h</a></div></div>
<div class="ttc" id="aqueue_8h_html"><div class="ttname"><a href="queue_8h.html">queue.h</a></div></div>
<div class="ttc" id="astruct___o_f_c___f_i_l_e___r_e_n_a_m_e___i_n_f_o_html"><div class="ttname"><a href="struct___o_f_c___f_i_l_e___r_e_n_a_m_e___i_n_f_o.html">_OFC_FILE_RENAME_INFO</a></div><div class="ttdef"><b>Definition:</b> file.h:825</div></div>
<div class="ttc" id="astruct___o_f_c___f_i_l_e___r_e_n_a_m_e___i_n_f_o_html_a504d56e2a7d7e21dd4adeaed1a82df5d"><div class="ttname"><a href="struct___o_f_c___f_i_l_e___r_e_n_a_m_e___i_n_f_o.html#a504d56e2a7d7e21dd4adeaed1a82df5d">_OFC_FILE_RENAME_INFO::FileName</a></div><div class="ttdeci">OFC_WCHAR FileName[1]</div><div class="ttdef"><b>Definition:</b> file.h:841</div></div>
<div class="ttc" id="astruct___o_f_c___f_i_l_e___r_e_n_a_m_e___i_n_f_o_html_a6badb4f6594ae0bfd7fc836119c78980"><div class="ttname"><a href="struct___o_f_c___f_i_l_e___r_e_n_a_m_e___i_n_f_o.html#a6badb4f6594ae0bfd7fc836119c78980">_OFC_FILE_RENAME_INFO::ReplaceIfExists</a></div><div class="ttdeci">OFC_BOOL ReplaceIfExists</div><div class="ttdef"><b>Definition:</b> file.h:829</div></div>
<div class="ttc" id="astruct___o_f_c___f_i_l_e___r_e_n_a_m_e___i_n_f_o_html_ae2b7866bcdbcacf434ac8c53d0d6b4cf"><div class="ttname"><a href="struct___o_f_c___f_i_l_e___r_e_n_a_m_e___i_n_f_o.html#ae2b7866bcdbcacf434ac8c53d0d6b4cf">_OFC_FILE_RENAME_INFO::RootDirectory</a></div><div class="ttdeci">OFC_HANDLE RootDirectory</div><div class="ttdef"><b>Definition:</b> file.h:833</div></div>
<div class="ttc" id="astruct___o_f_c___f_i_l_e___r_e_n_a_m_e___i_n_f_o_html_ae7c3c700011067a13e76c9bbda1cac10"><div class="ttname"><a href="struct___o_f_c___f_i_l_e___r_e_n_a_m_e___i_n_f_o.html#ae7c3c700011067a13e76c9bbda1cac10">_OFC_FILE_RENAME_INFO::FileNameLength</a></div><div class="ttdeci">OFC_DWORD FileNameLength</div><div class="ttdef"><b>Definition:</b> file.h:837</div></div>
<div class="ttc" id="astruct___o_f_c___f_i_l_e___s_t_a_n_d_a_r_d___i_n_f_o_html"><div class="ttname"><a href="struct___o_f_c___f_i_l_e___s_t_a_n_d_a_r_d___i_n_f_o.html">_OFC_FILE_STANDARD_INFO</a></div><div class="ttdef"><b>Definition:</b> file.h:778</div></div>
<div class="ttc" id="astruct___o_f_c___f_i_l_e___s_t_a_n_d_a_r_d___i_n_f_o_html_afe575296e4e850618d34dfdd780b5c3a"><div class="ttname"><a href="struct___o_f_c___f_i_l_e___s_t_a_n_d_a_r_d___i_n_f_o.html#afe575296e4e850618d34dfdd780b5c3a">_OFC_FILE_STANDARD_INFO::EndOfFile</a></div><div class="ttdeci">OFC_LARGE_INTEGER EndOfFile</div><div class="ttdef"><b>Definition:</b> file.h:786</div></div>
<div class="ttc" id="astruct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a_html"><div class="ttname"><a href="struct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a.html">_OFC_WIN32_FILE_ATTRIBUTE_DATA</a></div><div class="ttdef"><b>Definition:</b> file.h:620</div></div>
<div class="ttc" id="astruct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a_html_a0f4a7a25a2b7e15f855a5d44da0cee5c"><div class="ttname"><a href="struct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a.html#a0f4a7a25a2b7e15f855a5d44da0cee5c">_OFC_WIN32_FILE_ATTRIBUTE_DATA::nFileSizeLow</a></div><div class="ttdeci">OFC_DWORD nFileSizeLow</div><div class="ttdef"><b>Definition:</b> file.h:644</div></div>
<div class="ttc" id="astruct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a_html_a1b4d97a059dece1ce8278705d98bc89d"><div class="ttname"><a href="struct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a.html#a1b4d97a059dece1ce8278705d98bc89d">_OFC_WIN32_FILE_ATTRIBUTE_DATA::ftLastAccessTime</a></div><div class="ttdeci">OFC_FILETIME ftLastAccessTime</div><div class="ttdef"><b>Definition:</b> file.h:632</div></div>
<div class="ttc" id="astruct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a_html_a2d45ebdaf6a8cc2c5ae777b4ca8081de"><div class="ttname"><a href="struct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a.html#a2d45ebdaf6a8cc2c5ae777b4ca8081de">_OFC_WIN32_FILE_ATTRIBUTE_DATA::dwFileAttributes</a></div><div class="ttdeci">OFC_DWORD dwFileAttributes</div><div class="ttdef"><b>Definition:</b> file.h:624</div></div>
<div class="ttc" id="astruct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a_html_a2e99ff5befe4e19af78cd17b30590a8a"><div class="ttname"><a href="struct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a.html#a2e99ff5befe4e19af78cd17b30590a8a">_OFC_WIN32_FILE_ATTRIBUTE_DATA::ftLastWriteTime</a></div><div class="ttdeci">OFC_FILETIME ftLastWriteTime</div><div class="ttdef"><b>Definition:</b> file.h:636</div></div>
<div class="ttc" id="astruct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a_html_aa321f8043e31828661864cf8a829e4f1"><div class="ttname"><a href="struct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a.html#aa321f8043e31828661864cf8a829e4f1">_OFC_WIN32_FILE_ATTRIBUTE_DATA::nFileSizeHigh</a></div><div class="ttdeci">OFC_DWORD nFileSizeHigh</div><div class="ttdef"><b>Definition:</b> file.h:640</div></div>
<div class="ttc" id="astruct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a_html_ae3d86ed5bed67a1d160cbe51950e5526"><div class="ttname"><a href="struct___o_f_c___w_i_n32___f_i_l_e___a_t_t_r_i_b_u_t_e___d_a_t_a.html#ae3d86ed5bed67a1d160cbe51950e5526">_OFC_WIN32_FILE_ATTRIBUTE_DATA::ftCreateTime</a></div><div class="ttdeci">OFC_FILETIME ftCreateTime</div><div class="ttdef"><b>Definition:</b> file.h:628</div></div>
<div class="ttc" id="astruct_o_f_c___i_n_t64_html"><div class="ttname"><a href="struct_o_f_c___i_n_t64.html">OFC_INT64</a></div><div class="ttdef"><b>Definition:</b> types.h:129</div></div>
<div class="ttc" id="astruct_o_f_c___i_n_t64_html_a81f7be7611cb3ac571ce918100167c66"><div class="ttname"><a href="struct_o_f_c___i_n_t64.html#a81f7be7611cb3ac571ce918100167c66">OFC_INT64::low</a></div><div class="ttdeci">OFC_UINT32 low</div><div class="ttdef"><b>Definition:</b> types.h:133</div></div>
<div class="ttc" id="atest__file_8h_html_a711fdba7dec556cb0fe83be0f4481255"><div class="ttname"><a href="test__file_8h.html#a711fdba7dec556cb0fe83be0f4481255">test_file</a></div><div class="ttdeci">OFC_INT test_file(OFC_LPCSTR test_root)</div></div>
<div class="ttc" id="athread_8h_html"><div class="ttname"><a href="thread_8h.html">thread.h</a></div></div>
<div class="ttc" id="atime_8h_html"><div class="ttname"><a href="time_8h.html">time.h</a></div></div>
<div class="ttc" id="atypes_8h_html"><div class="ttname"><a href="types_8h.html">types.h</a></div></div>
<div class="ttc" id="awaitset_8h_html"><div class="ttname"><a href="waitset_8h.html">waitset.h</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
